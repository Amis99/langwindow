<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜„ì§„ê±´ &lt;ê³ í–¥&gt; ë‚´ì‹  ëŒ€ë¹„ ì›Œí¬ë¶</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;500;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Serif KR', serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 999;
        }

        .header-left {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .title {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
        }

        .subtitle {
            font-size: 14px;
            color: #7f8c8d;
        }

        .progress-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .stage-indicator {
            display: flex;
            gap: 10px;
        }

        .stage-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e0e0e0;
            transition: all 0.3s ease;
        }

        .stage-dot.active {
            background: #3498db;
            transform: scale(1.3);
        }

        .stage-dot.completed {
            background: #27ae60;
        }

        .question-counter {
            font-size: 18px;
            font-weight: 500;
            color: #2c3e50;
        }

        /* Timer Bar */
        .timer-container {
            width: 300px;
            height: 24px;
            background: #ecf0f1;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        .timer-bar {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 12px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .timer-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            from { transform: translateX(-100%); }
            to { transform: translateX(100%); }
        }

        /* Main Content */
        .main-content {
            margin-top: 100px;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            min-height: 600px;
            position: relative;
        }

        .passage-container {
            font-size: 18px;
            line-height: 2;
            color: #2c3e50;
            word-break: keep-all;
            white-space: pre-wrap;
        }

        .passage-container h2 {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .passage-container h3 {
            font-size: 20px;
            font-weight: 600;
            color: #34495e;
            margin: 25px 0 15px 0;
        }

        .passage-container strong {
            font-weight: 700;
            color: #2c3e50;
        }

        .passage-container ul,
        .passage-container ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        .passage-container li {
            margin: 8px 0;
            line-height: 1.8;
        }

        .passage-container .section-number {
            display: inline-block;
            font-weight: 700;
            color: #3498db;
            margin-right: 8px;
        }

        .passage-container .subsection {
            margin-left: 20px;
            margin-top: 15px;
            padding-left: 15px;
            border-left: 3px solid #ecf0f1;
        }

        /* Highlights */
        .highlight {
            background-color: rgba(255, 235, 59, 0.3);
            padding: 2px 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 4px;
            position: relative;
        }

        .highlight:hover {
            background-color: rgba(255, 235, 59, 0.5);
            box-shadow: 0 0 0 2px rgba(255, 235, 59, 0.3);
        }

        .highlight.active {
            background-color: rgba(255, 235, 59, 0.6);
            box-shadow: 0 0 0 3px rgba(255, 235, 59, 0.4);
            animation: pulse 1s infinite;
        }

        .highlight.correct {
            background-color: rgba(76, 175, 80, 0.3);
        }

        .highlight.correct:hover {
            background-color: rgba(76, 175, 80, 0.4);
        }

        .highlight.incorrect {
            background-color: rgba(244, 67, 54, 0.3);
        }

        .highlight.incorrect:hover {
            background-color: rgba(244, 67, 54, 0.4);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Question Modal */
        .question-modal {
            position: fixed;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: min(90vw, 450px);
            max-height: 80vh;
            overflow-y: auto;
            z-index: 1000;
            cursor: move;
            display: none;
            will-change: transform;
        }

        .question-modal.active {
            display: block;
        }

        .question-modal.dragging {
            opacity: 0.95;
            user-select: none;
        }

        .modal-header {
            font-size: 16px;
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        .modal-question {
            font-size: 15px;
            line-height: 1.6;
            color: #34495e;
            margin-bottom: 20px;
        }

        .modal-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-button {
            padding: 12px 16px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-button:hover:not(:disabled) {
            background: #e3f2fd;
            border-color: #3498db;
            transform: translateX(5px);
        }

        .option-button.correct {
            background: #e8f5e9;
            border-color: #4caf50;
        }

        .option-button.incorrect {
            background: #ffebee;
            border-color: #f44336;
        }

        .option-button:disabled {
            cursor: default;
            opacity: 0.8;
        }

        .option-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-weight: 600;
            font-size: 12px;
        }

        /* Feedback Animation */
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 20px rgba(76, 175, 80, 0.5); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .correct-animation {
            animation: correctPulse 0.6s ease;
        }

        .incorrect-animation {
            animation: incorrectShake 0.5s ease;
        }

        /* Result Screen */
        .result-screen {
            display: none;
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-top: 100px;
        }

        .result-screen.active {
            display: block;
        }

        /* ê²°ê³¼ í™”ë©´ í‘œì‹œ ì‹œ ì‹œê°„ë°” ìˆ¨ê¹€ */
        body:has(.result-screen.active) .timer-container {
            display: none !important;
        }

        /* ëª¨ë‹¬ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .modal-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 24px;
        }

        .close-modal-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #95a5a6;
            line-height: 1;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .close-modal-btn:hover {
            background: #ecf0f1;
            color: #e74c3c;
        }

        .modal-body {
            max-height: 60vh;
            overflow-y: auto;
        }

        .result-title {
            font-size: 32px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-box {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #3498db;
        }

        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .result-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .result-button {
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 500;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .result-button.primary {
            background: #3498db;
            color: white;
        }

        .result-button.primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }

        .result-button.secondary {
            background: #95a5a6;
            color: white;
        }

        .result-button.secondary:hover {
            background: #7f8c8d;
        }

        /* Vocabulary Learning Styles (Stage 2) */
        .vocabulary-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        .vocabulary-question-card {
            width: 100%;
            max-width: 800px;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }

        .question-number {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .vocab-option-button {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .vocab-option-button:hover:not(:disabled) {
            background: #e9ecef;
            border-color: #3498db;
            transform: translateX(5px);
        }

        .vocab-option-button:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        .vocab-option-button .option-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            font-weight: 600;
            flex-shrink: 0;
        }

        .vocab-option-button .option-text {
            flex: 1;
            color: #2c3e50;
        }

        .vocab-option-button.correct {
            background: #d4edda;
            border-color: #27ae60;
        }

        .vocab-option-button.correct .option-number {
            background: #27ae60;
        }

        .vocab-option-button.incorrect {
            background: #f8d7da;
            border-color: #f44336;
            animation: shake 0.5s;
        }

        .vocab-option-button.incorrect .option-number {
            background: #f44336;
        }

        /* Sentence Reading Styles (Stage 3) */
        .sentence-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .sentence-display {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .sentence-text {
            font-size: 20px;
            line-height: 1.8;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .sentence-question {
            font-size: 22px;
            color: #3498db;
            font-weight: 600;
            margin-bottom: 30px;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 700px;
            margin: 0 auto;
        }

        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 120px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .flip-card-front {
            background: white;
            color: #2c3e50;
            border: 2px solid #e9ecef;
        }

        .flip-card:hover .flip-card-front {
            background: #f8f9fa;
            border-color: #dee2e6;
        }

        .flip-card-back {
            transform: rotateY(180deg);
        }

        .flip-card-back.correct {
            background: #10b981;
            color: white;
        }

        .flip-card-back.incorrect {
            background: #ef4444;
            color: white;
        }

        .card-text {
            font-size: 16px;
            font-weight: 500;
            text-align: center;
            line-height: 1.4;
        }

        .card-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .flip-card:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            /* Stage 2 ì´í›„ ê³µí†µ í°íŠ¸ í¬ê¸° ì¶•ì†Œ */
            body {
                font-size: 14px;  /* ê¸°ë³¸ í°íŠ¸ í¬ê¸° ì¶•ì†Œ */
            }

            #main-content {
                font-size: 14px;
            }

            /* Stage 2 - í™•ì¸ í•™ìŠµ ëª¨ë°”ì¼ ìµœì í™” */
            .stage2-question {
                font-size: 14px;
                padding: 15px;
            }

            .stage2-text {
                font-size: 13px;
                line-height: 1.5;
            }

            /* Stage 3 - ë³µê¸° í•™ìŠµ ëª¨ë°”ì¼ ìµœì í™” */
            .sentence-card {
                padding: 10px;
                font-size: 13px;
                margin: 5px;
            }

            .drop-zone {
                min-height: 60px;
                padding: 10px;
                margin: 5px;
            }

            /* Stage 1 ëª¨ë‹¬ */
            .question-modal {
                width: 85vw;
                max-height: 70vh;
                padding: 16px;
            }

            .modal-question {
                font-size: 13px;  /* ë” ì‘ê²Œ ì¡°ì • */
            }

            .option-button {
                padding: 8px 10px;  /* íŒ¨ë”©ë„ ì¤„ì„ */
                font-size: 12px;  /* ë” ì‘ê²Œ ì¡°ì • */
            }

            .header {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }

            .title {
                font-size: 20px;
            }

            .subtitle {
                font-size: 12px;
            }

            .progress-info {
                width: 100%;
                justify-content: space-between;
                gap: 10px;
            }

            .question-counter {
                font-size: 14px;
            }

            .timer-container {
                width: 200px;
                height: 18px;
            }

            .stage-dot {
                width: 10px;
                height: 10px;
            }
        }

        /* Mobile Phone Size */
        @media (max-width: 480px) {
            .header {
                padding: 10px;
                gap: 8px;
            }

            .header-left {
                gap: 3px;
            }

            .title {
                font-size: 16px;
                font-weight: 600;
            }

            .subtitle {
                font-size: 11px;
            }

            .progress-info {
                gap: 8px;
            }

            .question-counter {
                font-size: 12px;
                font-weight: 400;
            }

            .timer-container {
                width: 150px;
                height: 14px;
            }

            .stage-indicator {
                gap: 6px;
            }

            .stage-dot {
                width: 8px;
                height: 8px;
            }

            .stage-dot.active {
                transform: scale(1.2);
            }

            .main-content {
                margin-top: 80px;
                padding: 20px;
            }

            .passage-container {
                font-size: 16px;
                line-height: 1.8;
            }

            .question-modal {
                width: 90vw;
                padding: 12px;
            }

            .modal-header {
                font-size: 14px;
                margin-bottom: 10px;
            }

            .modal-question {
                font-size: 13px;
                margin-bottom: 15px;
            }

            .option-button {
                padding: 8px 10px;
                font-size: 12px;
                gap: 8px;
            }

            .option-number {
                width: 20px;
                height: 20px;
                line-height: 20px;
                font-size: 10px;
            }

            /* Stage 2 Vocabulary Mobile */
            .vocabulary-question-card {
                padding: 20px;
            }

            .question-text {
                font-size: 18px;
                margin-bottom: 20px;
            }

            .vocab-option-button {
                padding: 12px 15px;
                font-size: 14px;
                gap: 12px;
            }

            .vocab-option-button .option-number {
                width: 24px;
                height: 24px;
                font-size: 12px;
            }

            /* Stage 3 Sentence Mobile */
            .sentence-display {
                padding: 20px;
            }

            .sentence-text {
                font-size: 16px;
                line-height: 1.6;
            }

            .sentence-question {
                font-size: 18px;
                margin-bottom: 20px;
            }

            .cards-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .flip-card {
                height: 100px;
            }

            .card-text {
                font-size: 14px;
            }

            .card-icon {
                font-size: 36px;
            }
        }
    </style>

    <!-- html-to-image CDN -->
    <script src="https://cdn.jsdelivr.net/npm/html-to-image@1.11.11/dist/html-to-image.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="title">í˜„ì§„ê±´ &lt;ê³ í–¥&gt;</div>
                <div class="subtitle">1ë‹¨ê³„: ë”¥ë¦¬ì„œì¹˜ - í•µì‹¬ ì •ë¦¬</div>
            </div>
            <div class="progress-info">
                <div class="stage-indicator">
                    <div class="stage-dot active"></div>
                    <div class="stage-dot"></div>
                    <div class="stage-dot"></div>
                    <div class="stage-dot"></div>
                    <div class="stage-dot"></div>
                </div>
                <div class="question-counter">
                    ë¬¸ì œ: <span id="current-question">0</span> / <span id="total-questions">0</span>
                </div>
                <div class="timer-container">
                    <div class="timer-bar" id="timer-bar"></div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="main-content">
            <div class="passage-container" id="passage-container"></div>
        </div>

        <!-- Result Screen -->
        <div class="result-screen" id="result-screen">
            <h2 class="result-title">1ë‹¨ê³„ í•™ìŠµ ì™„ë£Œ!</h2>
            <div class="result-stats">
                <div class="stat-box">
                    <div class="stat-value" id="progress-stat">0%</div>
                    <div class="stat-label">ì§„í–‰ë¥ </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="accuracy-stat">0%</div>
                    <div class="stat-label">ì •ë‹µë¥ </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="correct-stat">0</div>
                    <div class="stat-label">ë§íŒ ë¬¸ì œ</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="wrong-stat">0</div>
                    <div class="stat-label">í‹€ë¦° ë¬¸ì œ</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="time-stat">0:00</div>
                    <div class="stat-label">ì†Œìš” ì‹œê°„</div>
                </div>
            </div>
            <div class="result-buttons">
                <button class="result-button secondary" onclick="restartStage()">ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
                <button class="result-button primary" onclick="nextStage()">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
            </div>
        </div>

        <!-- Question Modal -->
        <div class="question-modal" id="question-modal">
            <div class="modal-header">ë¬¸ì œ <span id="modal-question-num">1</span></div>
            <div class="modal-question" id="modal-question-text"></div>
            <div class="modal-options" id="modal-options"></div>
        </div>
    </div>

    <script>
        // í˜„ì¬ ë‹¨ê³„
        let currentStage = 1;

        // ì „ì²´ í•™ìŠµ ê²°ê³¼ ì €ì¥ì†Œ
        const allStageResults = {
            stage1: null,
            stage2: null,
            stage3: null,
            stage4: null,
            stage5: null
        };

        // í•™ìŠµ ë°ì´í„°
        const learningData = {
            questions: [
                {
                    id: 1,
                    text: "ì´ ì‘í’ˆì€ 1920ë…„ëŒ€ ì¼ì œ ê°•ì ê¸°ë¥¼ ë°°ê²½ìœ¼ë¡œ, ê¸°ì°¨ì—ì„œ ìš°ì—°íˆ ë§Œë‚œ 'ë‚˜'ì™€ 'ê·¸'ì˜ ëŒ€í™”ë¥¼ í†µí•´ ë‹¹ëŒ€ ì¡°ì„  ë†ë¯¼ë“¤ì˜ ë¹„ì°¸í•œ í˜„ì‹¤ì„ ê³ ë°œí•˜ëŠ” _____ì…ë‹ˆë‹¤.",
                    highlight: "(ë‹¨í¸ ì†Œì„¤ / ì¥í¸ ì†Œì„¤)",
                    options: ["ë‹¨í¸ ì†Œì„¤", "ì¥í¸ ì†Œì„¤"],
                    correct: 0
                },
                {
                    id: 2,
                    text: "ì™¸ë¶€ ì´ì•¼ê¸°('ë‚˜'ì™€ 'ê·¸'ì˜ ë§Œë‚¨) ì†ì— ë‚´ë¶€ ì´ì•¼ê¸°('ê·¸'ì˜ ê³¼ê±° íšŒìƒ)ê°€ ë“¤ì–´ ìˆëŠ” _____ë¥¼ í†µí•´ 'ê·¸' ê°œì¸ì˜ ë¹„ê·¹ì„ ë¯¼ì¡± ì „ì²´ì˜ ì•„í””ìœ¼ë¡œ í™•ì¥í•©ë‹ˆë‹¤.",
                    highlight: "(ì•¡ìì‹ êµ¬ì„± / ì˜´ë‹ˆë²„ìŠ¤ì‹ êµ¬ì„±)",
                    options: ["ì•¡ìì‹ êµ¬ì„±", "ì˜´ë‹ˆë²„ìŠ¤ì‹ êµ¬ì„±"],
                    correct: 0
                },
                {
                    id: 3,
                    text: "ì´ ì‘í’ˆì˜ ê°ˆë˜ëŠ” ë‹¨í¸ ì†Œì„¤, _____ ì†Œì„¤, ì•¡ì ì†Œì„¤ì…ë‹ˆë‹¤.",
                    highlight: "(ì‚¬ì‹¤ì£¼ì˜ / ë‚­ë§Œì£¼ì˜)",
                    options: ["ì‚¬ì‹¤ì£¼ì˜", "ë‚­ë§Œì£¼ì˜"],
                    correct: 0
                },
                {
                    id: 4,
                    text: "ì´ ì‘í’ˆì˜ ì„±ê²©ì€ ì‚¬ì‹¤ì , ê³ ë°œì , _____ì…ë‹ˆë‹¤.",
                    highlight: "(ë¯¼ì¡±ì£¼ì˜ì  / ê°œì¸ì£¼ì˜ì )",
                    options: ["ë¯¼ì¡±ì£¼ì˜ì ", "ê°œì¸ì£¼ì˜ì "],
                    correct: 0
                },
                {
                    id: 5,
                    text: "ê³µê°„ì  ë°°ê²½: ëŒ€êµ¬ì—ì„œ ì„œìš¸ë¡œ í–¥í•˜ëŠ” _____ ì•ˆ",
                    highlight: "(ê¸°ì°¨ ì•ˆ / ë²„ìŠ¤ ì•ˆ)",
                    options: ["ê¸°ì°¨ ì•ˆ", "ë²„ìŠ¤ ì•ˆ"],
                    correct: 0
                },
                {
                    id: 6,
                    text: "ë‚´í™”(ë‚´ë¶€ ì´ì•¼ê¸°)ëŠ” ì„œìˆ ìì¸ 'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ë“¤ì€ ì´ì•¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” _____ ì‹œì ì…ë‹ˆë‹¤.",
                    highlight: "(ì „ì§€ì  ì‘ê°€ / 1ì¸ì¹­ ì£¼ì¸ê³µ)",
                    options: ["ì „ì§€ì  ì‘ê°€", "1ì¸ì¹­ ì£¼ì¸ê³µ"],
                    correct: 0
                },
                {
                    id: 7,
                    text: "ì£¼ì œ: ì¼ì œ ê°•ì í•˜ ìš°ë¦¬ ë¯¼ì¡±ì˜ _____ê³¼ ê³ í–¥ ìƒì‹¤ì˜ ì•„í””",
                    highlight: "(ë¹„ì°¸í•œ ì‚¶ / í’ìš”ë¡œìš´ ì‚¶)",
                    options: ["ë¹„ì°¸í•œ ì‚¶", "í’ìš”ë¡œìš´ ì‚¶"],
                    correct: 0
                },
                {
                    id: 8,
                    text: "ì•¡ìì‹ êµ¬ì„±: 'ë‚˜'ì˜ ê´€ì°°ê³¼ 'ê·¸'ì˜ ì‹ ì„¸íƒ€ë ¹ìœ¼ë¡œ ì´ë£¨ì–´ì ¸, ì´ì•¼ê¸°ì˜ _____ì„ ë†’ì„.",
                    highlight: "(ì‚¬ì‹¤ì„± / ë¹„í˜„ì‹¤ì„±)",
                    options: ["ì‚¬ì‹¤ì„±", "ë¹„í˜„ì‹¤ì„±"],
                    correct: 0
                },
                {
                    id: 9,
                    text: "ì‚¬ì‹¤ì£¼ì˜: í† ì§€ ìˆ˜íƒˆ, ìœ ë‘ ë“± 1920ë…„ëŒ€ ë†ì´Œì˜ í˜„ì‹¤ì„ _____ìœ¼ë¡œ ë¬˜ì‚¬í•¨.",
                    highlight: "(êµ¬ì²´ì  / ì¶”ìƒì )",
                    options: ["êµ¬ì²´ì ", "ì¶”ìƒì "],
                    correct: 0
                },
                {
                    id: 10,
                    text: "ì¸ë¬¼: ì „í˜•ì  ì¸ë¬¼('ê·¸')ì„ í†µí•´ ì‹ë¯¼ì§€ ë°±ì„±ì˜ _____ ì‚¶ì„ íš¨ê³¼ì ìœ¼ë¡œ ë³´ì—¬ì¤Œ.",
                    highlight: "(ë³´í¸ì ì¸ / íŠ¹ìˆ˜í•œ)",
                    options: ["ë³´í¸ì ì¸", "íŠ¹ìˆ˜í•œ"],
                    correct: 0
                },
                {
                    id: 11,
                    text: "ì–¸ì–´: ë“±ì¥ì¸ë¬¼ì˜ _____ ì‚¬ìš©ìœ¼ë¡œ ìƒë™ê°ê³¼ ì‚¬ì‹¤ì„±ì„ ë¶€ì—¬í•¨.",
                    highlight: "(ì‚¬íˆ¬ë¦¬ / í‘œì¤€ì–´)",
                    options: ["ì‚¬íˆ¬ë¦¬", "í‘œì¤€ì–´"],
                    correct: 0
                },
                {
                    id: 12,
                    text: "ìƒì§•: 'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼, íí—ˆê°€ ëœ ê³ í–¥ ë“±ì„ í†µí•´ ì£¼ì œë¥¼ _____ìœ¼ë¡œ ë“œëŸ¬ëƒ„.",
                    highlight: "(ì•”ì‹œì  / ì§ì ‘ì )",
                    options: ["ì•”ì‹œì ", "ì§ì ‘ì "],
                    correct: 0
                },
                {
                    id: 13,
                    text: "'ê·¸'ì˜ ëª¨ìŠµì€ ë¿Œë¦¬ ë½‘íŒ ìœ ë‘ë¯¼ì˜ ëª¨ìŠµì„ _____",
                    highlight: "(ìƒì§•í•˜ë©° / ì™œê³¡í•˜ë©°)",
                    options: ["ìƒì§•í•˜ë©°", "ì™œê³¡í•˜ë©°"],
                    correct: 0
                },
                {
                    id: 14,
                    text: "'ë‚˜'ëŠ” ê·¸ì—ê²Œì„œ ì²˜ìŒì—ëŠ” _____ê³¼ í˜¸ê¸°ì‹¬ì„ ë™ì‹œì— ëŠë‚€ë‹¤.",
                    highlight: "(ê±°ë¶€ê° / ë™ì§ˆê°)",
                    options: ["ê±°ë¶€ê°", "ë™ì§ˆê°"],
                    correct: 0
                },
                {
                    id: 15,
                    text: "'ê·¸'ì˜ ê³ í–¥ì€ ì›ë˜ ì—­ë‘”í† ë¥¼ ë¶€ì¹˜ë©° í‰í™”ë¡­ê²Œ ì‚´ë˜ ë§ˆì„ì´ì—ˆìœ¼ë‚˜, ë•…ì´ ëª¨ë‘ _____ì˜ ì†Œìœ ë¡œ ë„˜ì–´ê°€ë©´ì„œ ì‚¶ì´ í”¼íí•´ì§„ë‹¤.",
                    highlight: "(ë™ì–‘ ì²™ì‹ íšŒì‚¬ / ê°œì¸ ì§€ì£¼)",
                    options: ["ë™ì–‘ ì²™ì‹ íšŒì‚¬", "ê°œì¸ ì§€ì£¼"],
                    correct: 0
                },
                {
                    id: 16,
                    text: "ì¤‘ê°„ ì†Œì‘ì¸ì˜ ì´ì¤‘ ìˆ˜íƒˆë¡œ ì†Œì‘ì¸ë“¤ì€ ì†Œì¶œì˜ _____ë„ ì œëŒ€ë¡œ ë°›ì§€ ëª»í•˜ê²Œ ë˜ê³ , ë§ˆì„ ì‚¬ëŒë“¤ì€ ê³ í–¥ì„ ë– ë‚˜ ë¿”ë¿”ì´ í©ì–´ì§„ë‹¤.",
                    highlight: "(3í•  / 7í• )",
                    options: ["3í• ", "7í• "],
                    correct: 0
                },
                {
                    id: 17,
                    text: "ì´ëŠ” ë‹¹ì‹œ ì¼ì œì˜ _____ì´ ë†ì´Œ ì‚¬íšŒë¥¼ ì–´ë–»ê²Œ íŒŒê´´í–ˆëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” êµ¬ì²´ì ì¸ ì‚¬ë¡€ì´ë‹¤.",
                    highlight: "(í† ì§€ ìˆ˜íƒˆ ì •ì±… / ë¬¸í™” í†µì¹˜ ì •ì±…)",
                    options: ["í† ì§€ ìˆ˜íƒˆ ì •ì±…", "ë¬¸í™” í†µì¹˜ ì •ì±…"],
                    correct: 0
                },
                {
                    id: 18,
                    text: "'ê·¸'ì˜ ê°€ì¡± ì—­ì‹œ 9ë…„ ì „, ì‚´ê¸° ì¢‹ë‹¤ëŠ” ë§ì„ ë“£ê³  í¬ë§ì„ í’ˆê³  _____ìœ¼ë¡œ ì´ì£¼í•œë‹¤.",
                    highlight: "(ì„œê°„ë„ / ì¼ë³¸)",
                    options: ["ì„œê°„ë„", "ì¼ë³¸"],
                    correct: 0
                },
                {
                    id: 19,
                    text: "í•˜ì§€ë§Œ ê·¸ê³³ì˜ ì‚¶ë„ ë…¹ë¡ì§€ ì•Šì•„ ì•„ë²„ì§€ì™€ ì–´ë¨¸ë‹ˆê°€ ì—°ì´ì–´ _____ë¡œ ëŒì•„ê°€ì‹œëŠ” ë¹„ê·¹ì„ ê²ªëŠ”ë‹¤.",
                    highlight: "(ë³‘ê³¼ ì˜ì–‘ì‹¤ì¡° / ì‚¬ê³ )",
                    options: ["ë³‘ê³¼ ì˜ì–‘ì‹¤ì¡°", "ì‚¬ê³ "],
                    correct: 0
                },
                {
                    id: 20,
                    text: "'ê·¸'ì˜ ê°€ì¡±ì‚¬ëŠ” ê°œì¸ì˜ ë¶ˆí–‰ì„ ë„˜ì–´, ë‹¹ì‹œ ìœ ë‘í•˜ë˜ ìš°ë¦¬ ë¯¼ì¡±ì´ ê²ªì–´ì•¼ í–ˆë˜ _____ ê³ ë‚œì„ ëŒ€í‘œí•œë‹¤.",
                    highlight: "(ë³´í¸ì ì¸ / ì˜ˆì™¸ì ì¸)",
                    options: ["ë³´í¸ì ì¸", "ì˜ˆì™¸ì ì¸"],
                    correct: 0
                },
                {
                    id: 21,
                    text: "ì´í›„ 'ê·¸'ëŠ” ì¼ë³¸ì˜ íƒ„ê´‘, ì² ê³µì¥ ë“±ì„ ë– ëŒë©° _____ ì‚¶ì„ ì´ì–´ê°„ë‹¤.",
                    highlight: "(ë°©ë‘í•˜ëŠ” / ì •ì°©í•˜ëŠ”)",
                    options: ["ë°©ë‘í•˜ëŠ”", "ì •ì°©í•˜ëŠ”"],
                    correct: 0
                },
                {
                    id: 22,
                    text: "'ê·¸'ëŠ” ìš¸í™”ì™€ ê·¸ë¦¬ì›€ì— 9ë…„ ë§Œì— ê³ í–¥ì„ ì°¾ì•„ê°€ì§€ë§Œ, ë§ˆì„ì€ ì§‘ë„ ì‚¬ëŒë„ ì—†ì´ ì™„ì „íˆ _____ê°€ ëœ ìƒíƒœì˜€ë‹¤.",
                    highlight: "(íí—ˆ / í˜„ëŒ€í™”)",
                    options: ["íí—ˆ", "í˜„ëŒ€í™”"],
                    correct: 0
                },
                {
                    id: 23,
                    text: "'ê·¸'ëŠ” \"ì©ì–´ ë„˜ì–´ì§„ ì„œê¹Œë˜, í’€í’€ êµ¬ë¥´ëŠ” ì£¼ì¶”ëŠ”! ê¼­ ë¬´ë¤ì„ íŒŒì„œ í•´ê³¨ì„ í—ì–´ ì –í˜€ ë†“ì€ ê²ƒ ê°™ë”ë§ˆ.\"ë¼ê³  ë§í•˜ë©°, ê³ í–¥ì˜ ëª¨ìŠµì—ì„œ _____ì˜ ì´ë¯¸ì§€ë¥¼ ë– ì˜¬ë¦°ë‹¤.",
                    highlight: "(ì£½ìŒ / í¬ë§)",
                    options: ["ì£½ìŒ", "í¬ë§"],
                    correct: 0
                },
                {
                    id: 24,
                    text: "ì´ëŠ” ë‹¨ìˆœí•œ ë¬¼ë¦¬ì  ê³µê°„ì˜ íŒŒê´´ë¥¼ ë„˜ì–´, ìš°ë¦¬ ë¯¼ì¡±ì˜ ì‚¶ì˜ í„°ì „ê³¼ _____ê°€ ì™„ì „íˆ íŒŒê´´ë˜ì—ˆìŒì„ ì˜ë¯¸í•œë‹¤.",
                    highlight: "(ê³µë™ì²´ / ê°œì¸ ì¬ì‚°)",
                    options: ["ê³µë™ì²´", "ê°œì¸ ì¬ì‚°"],
                    correct: 0
                },
                {
                    id: 25,
                    text: "'ê·¸'ì˜ ë¹„ì°¸í•œ ì´ì•¼ê¸°ì— 'ë‚˜'ëŠ” ìˆ ì„ ê±´ë„¤ë©° ìœ„ë¡œí•œë‹¤. ìˆ ì€ 'ë‚˜'ì˜ _____ì„ ë³´ì—¬ì£¼ëŠ” ì†Œì¬ì´ë‹¤.",
                    highlight: "(ì—°ë¯¼ê³¼ ê³µê° / ë¬´ê´€ì‹¬ê³¼ ê²½ê³„)",
                    options: ["ì—°ë¯¼ê³¼ ê³µê°", "ë¬´ê´€ì‹¬ê³¼ ê²½ê³„"],
                    correct: 0
                },
                {
                    id: 26,
                    text: "'ê·¸'ê°€ í˜ë¦¬ëŠ” ëˆˆë¬¼ ì†ì—ì„œ 'ë‚˜'ëŠ” 'ìŒì‚°í•˜ê³  ë¹„ì°¸í•œ _____'ì„ ë°œê²¬í•œë‹¤.",
                    highlight: "(ì¡°ì„ ì˜ ì–¼êµ´ / ê°œì¸ì˜ ìŠ¬í””)",
                    options: ["ì¡°ì„ ì˜ ì–¼êµ´", "ê°œì¸ì˜ ìŠ¬í””"],
                    correct: 0
                },
                {
                    id: 27,
                    text: "ì´ ì¥ë©´ì„ í†µí•´ ì„œìˆ ì 'ë‚˜'ëŠ” 'ê·¸'ì˜ ê°œì¸ì  ë¹„ê·¹ì´ ê³§ _____ ì „ì²´ì˜ ë¹„ê·¹ì„ì„ ê¹¨ë‹«ê³ , ì£¼ì œ ì˜ì‹ì„ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚¸ë‹¤.",
                    highlight: "(ìš°ë¦¬ ë¯¼ì¡± / íŠ¹ì • ê³„ì¸µ)",
                    options: ["ìš°ë¦¬ ë¯¼ì¡±", "íŠ¹ì • ê³„ì¸µ"],
                    correct: 0
                }
            ],
            fullText: `## **1ï¸âƒ£ ë”¥ë¦¬ì„œì¹˜: ì¶œì œ í¬ì¸íŠ¸ ë° í•µì‹¬ ì •ë¦¬ ğŸ§ **

ë³¸ê²©ì ì¸ ì‘í’ˆ ë¶„ì„ì— ì•ì„œ, í˜„ì§„ê±´ì˜ <ê³ í–¥>ì´ ì–´ë–¤ ì‘í’ˆì¸ì§€ í•µì‹¬ì ì¸ íŠ¹ì§•ë“¤ì„ ë¨¼ì € ì•Œì•„ë´…ì‹œë‹¤.

**[ì‘í’ˆ í•´ì œ]** ì´ ì‘í’ˆì€ 1920ë…„ëŒ€ ì¼ì œ ê°•ì ê¸°ë¥¼ ë°°ê²½ìœ¼ë¡œ, ê¸°ì°¨ì—ì„œ ìš°ì—°íˆ ë§Œë‚œ 'ë‚˜'ì™€ 'ê·¸'ì˜ ëŒ€í™”ë¥¼ í†µí•´ ë‹¹ëŒ€ ì¡°ì„  ë†ë¯¼ë“¤ì˜ ë¹„ì°¸í•œ í˜„ì‹¤ì„ ê³ ë°œí•˜ëŠ” (ë‹¨í¸ ì†Œì„¤ / ì¥í¸ ì†Œì„¤)ì…ë‹ˆë‹¤. íŠ¹íˆ ì™¸ë¶€ ì´ì•¼ê¸°('ë‚˜'ì™€ 'ê·¸'ì˜ ë§Œë‚¨) ì†ì— ë‚´ë¶€ ì´ì•¼ê¸°('ê·¸'ì˜ ê³¼ê±° íšŒìƒ)ê°€ ë“¤ì–´ ìˆëŠ” (ì•¡ìì‹ êµ¬ì„± / ì˜´ë‹ˆë²„ìŠ¤ì‹ êµ¬ì„±)ì„ í†µí•´ 'ê·¸' ê°œì¸ì˜ ë¹„ê·¹ì„ ë¯¼ì¡± ì „ì²´ì˜ ì•„í””ìœ¼ë¡œ í™•ì¥í•˜ë©° ì‚¬ì‹¤ì„±ê³¼ ë³´í¸ì„±ì„ íšë“í•˜ê³  ìˆìŠµë‹ˆë‹¤.

**[í•µì‹¬ ì •ë¦¬ í‘œ]**

| êµ¬ë¶„ | ë‚´ìš© |
| :---- | :---- |
| **ê°ˆë˜** | ë‹¨í¸ ì†Œì„¤, (ì‚¬ì‹¤ì£¼ì˜ / ë‚­ë§Œì£¼ì˜) ì†Œì„¤, ì•¡ì ì†Œì„¤ |
| **ì„±ê²©** | ì‚¬ì‹¤ì , ê³ ë°œì , (ë¯¼ì¡±ì£¼ì˜ì  / ê°œì¸ì£¼ì˜ì ) |
| **ë°°ê²½** | ì‹œê°„ì : 1920ë…„ëŒ€ ì¼ì œ ê°•ì ê¸° ê³µê°„ì : ëŒ€êµ¬ì—ì„œ ì„œìš¸ë¡œ í–¥í•˜ëŠ” (ê¸°ì°¨ ì•ˆ / ë²„ìŠ¤ ì•ˆ) |
| **ì‹œì ** | ì™¸í™”(ì™¸ë¶€ ì´ì•¼ê¸°): 1ì¸ì¹­ ê´€ì°°ì ì‹œì  ë‚´í™”(ë‚´ë¶€ ì´ì•¼ê¸°): (ì „ì§€ì  ì‘ê°€ / 1ì¸ì¹­ ì£¼ì¸ê³µ) ì‹œì  (ì„œìˆ ìì¸ 'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ë“¤ì€ ì´ì•¼ê¸°ë¥¼ ì „ë‹¬) |
| **ì£¼ì œ** | ì¼ì œ ê°•ì í•˜ ìš°ë¦¬ ë¯¼ì¡±ì˜ (ë¹„ì°¸í•œ ì‚¶ / í’ìš”ë¡œìš´ ì‚¶)ê³¼ ê³ í–¥ ìƒì‹¤ì˜ ì•„í”” |
| **íŠ¹ì§•** | 1. ì•¡ìì‹ êµ¬ì„±: 'ë‚˜'ì˜ ê´€ì°°ê³¼ 'ê·¸'ì˜ ì‹ ì„¸íƒ€ë ¹ìœ¼ë¡œ ì´ë£¨ì–´ì ¸, ì´ì•¼ê¸°ì˜ (ì‚¬ì‹¤ì„± / ë¹„í˜„ì‹¤ì„±)ì„ ë†’ì„. 2. ì‚¬ì‹¤ì£¼ì˜: í† ì§€ ìˆ˜íƒˆ, ìœ ë‘ ë“± 1920ë…„ëŒ€ ë†ì´Œì˜ í˜„ì‹¤ì„ (êµ¬ì²´ì  / ì¶”ìƒì )ìœ¼ë¡œ ë¬˜ì‚¬í•¨. 3. ì¸ë¬¼: ì „í˜•ì  ì¸ë¬¼('ê·¸')ì„ í†µí•´ ì‹ë¯¼ì§€ ë°±ì„±ì˜ (ë³´í¸ì ì¸ / íŠ¹ìˆ˜í•œ) ì‚¶ì„ íš¨ê³¼ì ìœ¼ë¡œ ë³´ì—¬ì¤Œ. 4. ì–¸ì–´: ë“±ì¥ì¸ë¬¼ì˜ (ì‚¬íˆ¬ë¦¬ / í‘œì¤€ì–´) ì‚¬ìš©ìœ¼ë¡œ ìƒë™ê°ê³¼ ì‚¬ì‹¤ì„±ì„ ë¶€ì—¬í•¨. 5. ìƒì§•: 'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼, íí—ˆê°€ ëœ ê³ í–¥ ë“±ì„ í†µí•´ ì£¼ì œë¥¼ (ì•”ì‹œì  / ì§ì ‘ì )ìœ¼ë¡œ ë“œëŸ¬ëƒ„. |

**[ì „ì²´ ì¤„ê±°ë¦¬ ë° ì¶œì œ í¬ì¸íŠ¸]**

**[ì™¸í™”] ë°œë‹¨: 'ë‚˜'ì™€ 'ê·¸'ì˜ ë§Œë‚¨**

* 'ë‚˜'ëŠ” ëŒ€êµ¬ì—ì„œ ì„œìš¸ë¡œ ê°€ëŠ” ê¸°ì°¨ ì•ˆì—ì„œ ì¡°ì„ , ì¤‘êµ­, ì¼ë³¸ì˜ ì˜·ì„ ë’¤ì„ì–´ ì…ì€ ê¸°ì´í•œ ì°¨ë¦¼ì˜ 'ê·¸'ë¥¼ ë§Œë‚œë‹¤. 'ê·¸'ì˜ ëª¨ìŠµì€ ë¿Œë¦¬ ë½‘íŒ ìœ ë‘ë¯¼ì˜ ëª¨ìŠµì„ (ìƒì§•í•˜ë©° / ì™œê³¡í•˜ë©°), 'ë‚˜'ëŠ” ê·¸ì—ê²Œì„œ ì²˜ìŒì—ëŠ” (ê±°ë¶€ê° / ë™ì§ˆê°)ê³¼ í˜¸ê¸°ì‹¬ì„ ë™ì‹œì— ëŠë‚€ë‹¤.

**[ë‚´í™” 1] ì „ê°œ-ìœ„ê¸°: 'ê·¸'ì˜ ê³¼ê±° (ìˆ˜íƒˆê³¼ ìœ ë‘)**

* 'ê·¸'ì˜ ê³ í–¥ì€ ì›ë˜ ì—­ë‘”í† ë¥¼ ë¶€ì¹˜ë©° í‰í™”ë¡­ê²Œ ì‚´ë˜ ë§ˆì„ì´ì—ˆìœ¼ë‚˜, ë•…ì´ ëª¨ë‘ (ë™ì–‘ ì²™ì‹ íšŒì‚¬ / ê°œì¸ ì§€ì£¼)ì˜ ì†Œìœ ë¡œ ë„˜ì–´ê°€ë©´ì„œ ì‚¶ì´ í”¼íí•´ì§„ë‹¤.
* ì¤‘ê°„ ì†Œì‘ì¸ì˜ ì´ì¤‘ ìˆ˜íƒˆë¡œ ì†Œì‘ì¸ë“¤ì€ ì†Œì¶œì˜ (3í•  / 7í• )ë„ ì œëŒ€ë¡œ ë°›ì§€ ëª»í•˜ê²Œ ë˜ê³ , ë§ˆì„ ì‚¬ëŒë“¤ì€ ê³ í–¥ì„ ë– ë‚˜ ë¿”ë¿”ì´ í©ì–´ì§„ë‹¤. ì´ëŠ” ë‹¹ì‹œ ì¼ì œì˜ (í† ì§€ ìˆ˜íƒˆ ì •ì±… / ë¬¸í™” í†µì¹˜ ì •ì±…)ì´ ë†ì´Œ ì‚¬íšŒë¥¼ ì–´ë–»ê²Œ íŒŒê´´í–ˆëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” êµ¬ì²´ì ì¸ ì‚¬ë¡€ì´ë‹¤.
* 'ê·¸'ì˜ ê°€ì¡± ì—­ì‹œ 9ë…„ ì „, ì‚´ê¸° ì¢‹ë‹¤ëŠ” ë§ì„ ë“£ê³  í¬ë§ì„ í’ˆê³  (ì„œê°„ë„ / ì¼ë³¸)ìœ¼ë¡œ ì´ì£¼í•œë‹¤.
* í•˜ì§€ë§Œ ê·¸ê³³ì˜ ì‚¶ë„ ë…¹ë¡ì§€ ì•Šì•„ ì•„ë²„ì§€ì™€ ì–´ë¨¸ë‹ˆê°€ ì—°ì´ì–´ (ë³‘ê³¼ ì˜ì–‘ì‹¤ì¡° / ì‚¬ê³ )ë¡œ ëŒì•„ê°€ì‹œëŠ” ë¹„ê·¹ì„ ê²ªëŠ”ë‹¤. 'ê·¸'ì˜ ê°€ì¡±ì‚¬ëŠ” ê°œì¸ì˜ ë¶ˆí–‰ì„ ë„˜ì–´, ë‹¹ì‹œ ìœ ë‘í•˜ë˜ ìš°ë¦¬ ë¯¼ì¡±ì´ ê²ªì–´ì•¼ í–ˆë˜ (ë³´í¸ì ì¸ / ì˜ˆì™¸ì ì¸) ê³ ë‚œì„ ëŒ€í‘œí•œë‹¤.
* ì´í›„ 'ê·¸'ëŠ” ì¼ë³¸ì˜ íƒ„ê´‘, ì² ê³µì¥ ë“±ì„ ë– ëŒë©° (ë°©ë‘í•˜ëŠ” / ì •ì°©í•˜ëŠ”) ì‚¶ì„ ì´ì–´ê°„ë‹¤.

**[ë‚´í™” 2] ì ˆì •: íí—ˆê°€ ëœ ê³ í–¥**

* 'ê·¸'ëŠ” ìš¸í™”ì™€ ê·¸ë¦¬ì›€ì— 9ë…„ ë§Œì— ê³ í–¥ì„ ì°¾ì•„ê°€ì§€ë§Œ, ë§ˆì„ì€ ì§‘ë„ ì‚¬ëŒë„ ì—†ì´ ì™„ì „íˆ (íí—ˆ / í˜„ëŒ€í™”)ê°€ ëœ ìƒíƒœì˜€ë‹¤.
* 'ê·¸'ëŠ” "ì©ì–´ ë„˜ì–´ì§„ ì„œê¹Œë˜, í’€í’€ êµ¬ë¥´ëŠ” ì£¼ì¶”ëŠ”! ê¼­ ë¬´ë¤ì„ íŒŒì„œ í•´ê³¨ì„ í—ì–´ ì –í˜€ ë†“ì€ ê²ƒ ê°™ë”ë§ˆ."ë¼ê³  ë§í•˜ë©°, ê³ í–¥ì˜ ëª¨ìŠµì—ì„œ (ì£½ìŒ / í¬ë§)ì˜ ì´ë¯¸ì§€ë¥¼ ë– ì˜¬ë¦°ë‹¤. ì´ëŠ” ë‹¨ìˆœí•œ ë¬¼ë¦¬ì  ê³µê°„ì˜ íŒŒê´´ë¥¼ ë„˜ì–´, ìš°ë¦¬ ë¯¼ì¡±ì˜ ì‚¶ì˜ í„°ì „ê³¼ (ê³µë™ì²´ / ê°œì¸ ì¬ì‚°)ê°€ ì™„ì „íˆ íŒŒê´´ë˜ì—ˆìŒì„ ì˜ë¯¸í•œë‹¤.

**[ì™¸í™”] ê²°ë§: ê³µê°ê³¼ ë¯¼ì¡±ì  ë¹„ì• **

* 'ê·¸'ì˜ ë¹„ì°¸í•œ ì´ì•¼ê¸°ì— 'ë‚˜'ëŠ” ìˆ ì„ ê±´ë„¤ë©° ìœ„ë¡œí•œë‹¤. ìˆ ì€ 'ë‚˜'ì˜ (ì—°ë¯¼ê³¼ ê³µê° / ë¬´ê´€ì‹¬ê³¼ ê²½ê³„)ì„ ë³´ì—¬ì£¼ëŠ” ì†Œì¬ì´ë‹¤.
* 'ê·¸'ê°€ í˜ë¦¬ëŠ” ëˆˆë¬¼ ì†ì—ì„œ 'ë‚˜'ëŠ” 'ìŒì‚°í•˜ê³  ë¹„ì°¸í•œ (ì¡°ì„ ì˜ ì–¼êµ´ / ê°œì¸ì˜ ìŠ¬í””)'ì„ ë°œê²¬í•œë‹¤.
* ì´ ì¥ë©´ì„ í†µí•´ ì„œìˆ ì 'ë‚˜'ëŠ” 'ê·¸'ì˜ ê°œì¸ì  ë¹„ê·¹ì´ ê³§ (ìš°ë¦¬ ë¯¼ì¡± / íŠ¹ì • ê³„ì¸µ) ì „ì²´ì˜ ë¹„ê·¹ì„ì„ ê¹¨ë‹«ê³ , ì£¼ì œ ì˜ì‹ì„ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚¸ë‹¤.`
        };

        // 2ë‹¨ê³„: ì–´íœ˜ í•™ìŠµ ë°ì´í„°
        const vocabularyData = [
            {
                word: "ë™ì–‘ ì²™ì‹ íšŒì‚¬",
                meaning: "1908ë…„ ì¼ì œê°€ ì¡°ì„ ì˜ í† ì§€ì™€ ìì›ì„ ìˆ˜íƒˆí•  ëª©ì ìœ¼ë¡œ ì„¸ìš´ êµ­ì±… íšŒì‚¬.",
                type: "ê°œë…",
                confusors: {
                    word: ["ì¡°ì„  ì´ë…ë¶€", "ì‹ì‚°ì€í–‰", "ë™ì•„ì¼ë³´ì‚¬"],
                    meaning: ["1910ë…„ ì¼ì œê°€ ì¡°ì„ ì„ ì‹ë¯¼ í†µì¹˜í•˜ê¸° ìœ„í•´ ì„¤ì¹˜í•œ ìµœê³  ê¸°ê´€.", "1918ë…„ ì¼ì œê°€ ì¡°ì„ ì˜ ë†ê³µì—… ë°œì „ ëª…ëª©ìœ¼ë¡œ ì„¤ë¦½í•œ ê¸ˆìœµ ê¸°ê´€.", "1920ë…„ ì¡°ì„ ì¸ë“¤ì´ ë¯¼ì¡± ì–¸ë¡ ì„ ìœ„í•´ ì°½ê°„í•œ ì‹ ë¬¸ì‚¬."]
                }
            },
            {
                word: "ì—­ë‘”í† (é©›å±¯åœŸ)",
                meaning: "ì¡°ì„  ì‹œëŒ€, ê° ì—­(é©›)ì— ì†í•˜ì—¬ ê²½ë¹„ë¥¼ ì¶©ë‹¹í•˜ë˜ í† ì§€.",
                type: "ê°œë…",
                confusors: {
                    word: ["ê¶ë°©ì „(å®®æˆ¿ç”°)", "ë‘”ì „(å±¯ç”°)", "ì‚¬íŒ¨ì§€(è³œç‰Œåœ°)"],
                    meaning: ["ì¡°ì„  ì‹œëŒ€, ì™•ì‹¤ ì†Œìœ ë¡œ ê¶ë°©ì˜ ê²½ë¹„ë¥¼ ì¶©ë‹¹í•˜ë˜ ë†í† .", "ì¡°ì„  ì‹œëŒ€, êµ°ì‚¬ í›ˆë ¨ê³¼ ì‹ëŸ‰ í™•ë³´ë¥¼ ìœ„í•´ ìš´ì˜í•˜ë˜ í† ì§€.", "ì¡°ì„  ì‹œëŒ€, ê³µì‹ ì´ë‚˜ ê´€ë£Œì—ê²Œ í•˜ì‚¬í•œ ì‚¬ìœ ì§€."]
                }
            },
            {
                word: "ì¤‘ê°„ ì†Œì‘ì¸",
                meaning: "ì†Œì‘ê¶Œì„ ê°€ì§„ ì§€ì£¼ì™€ ì‹¤ì œ ë†ì‚¬ë¥¼ ì§“ëŠ” ì†Œì‘ì¸ ì‚¬ì´ì—ì„œ ì¤‘ê°œí•˜ëŠ” ì‚¬ëŒ.",
                type: "ê°œë…",
                confusors: {
                    word: ["ì‹¤ì‘ì¸", "ë§ˆë¦„", "ì§€ì£¼"],
                    meaning: ["ì‹¤ì œë¡œ ë†ì‚¬ë¥¼ ì§ì ‘ ì§“ëŠ” ì†Œì‘ì¸.", "ì§€ì£¼ë¥¼ ëŒ€ì‹ í•˜ì—¬ ë†ì‚¬ì™€ ì†Œì‘ë£Œë¥¼ ê´€ë¦¬í•˜ëŠ” ì‚¬ëŒ.", "ë•…ì„ ì†Œìœ í•˜ê³  ì†Œì‘ì¸ì—ê²Œ ë¹Œë ¤ì£¼ëŠ” ì‚¬ëŒ."]
                }
            },
            {
                word: "ì‹¤ì‘ì¸",
                meaning: "ì‹¤ì œ ë†ì‚¬ë¥¼ ì§“ëŠ” ì†Œì‘ì¸.",
                type: "ê°œë…",
                confusors: {
                    word: ["ì¤‘ê°„ ì†Œì‘ì¸", "ë§ˆë¦„", "ì†Œì‘ë£Œ"],
                    meaning: ["ì§€ì£¼ì™€ ì‹¤ì‘ì¸ ì‚¬ì´ì—ì„œ ì¤‘ê°œí•˜ëŠ” ì‚¬ëŒ.", "ì§€ì£¼ë¥¼ ëŒ€ì‹ í•˜ì—¬ ë†ì‚¬ë¥¼ ê°ë…í•˜ëŠ” ê´€ë¦¬ì¸.", "ì†Œì‘ì¸ì´ ì§€ì£¼ì—ê²Œ ë‚´ëŠ” ì§€ëŒ€."]
                }
            },
            {
                word: "ì†Œì¶œ",
                meaning: "ìˆ˜í™•í•œ ë†ì‘ë¬¼.",
                type: "ê°œë…",
                confusors: {
                    word: ["ì†Œì‘ë£Œ", "ì‘í™©", "ì¶”ìˆ˜"],
                    meaning: ["ì†Œì‘ì¸ì´ ì§€ì£¼ì—ê²Œ ë‚´ëŠ” ì§€ëŒ€ë‚˜ ì†Œì‘ ëŒ€ê¸ˆ.", "ë†ì‘ë¬¼ì´ ìë¼ëŠ” ìƒíƒœë‚˜ ìˆ˜í™•ì˜ ì •ë„.", "ìµì€ ê³¡ì‹ì´ë‚˜ ê³¼ì¼ ë”°ìœ„ë¥¼ ê±°ë‘ì–´ë“¤ì„."]
                }
            },
            {
                word: "ì „ì•¼",
                meaning: "ë…¼ê³¼ ë°­ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë“¤.",
                type: "ê°œë…",
                confusors: {
                    word: ["í‰ì•¼", "ë†ê²½ì§€", "í™©ë¬´ì§€"],
                    meaning: ["ë„“ê³  í‰í‰í•˜ê²Œ í¼ì³ì§„ ë“¤íŒ.", "ë†ì‚¬ë¥¼ ì§“ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë•….", "ê°œê°„í•˜ì§€ ì•Šì•„ ê±°ì¹ ê³  í™©íí•œ ë•…."]
                }
            },
            {
                word: "ì£¼ì¶”",
                meaning: "ê¸°ë‘¥ ë°‘ì— ê¸°ì´ˆë¡œ ë°›ì³ ë†“ì€ ëŒ.",
                type: "ê°œë…",
                confusors: {
                    word: ["ìƒì¸ë°©", "ëŒ€ë“¤ë³´", "ì¶”ë…€"],
                    meaning: ["ê¸°ë‘¥ ìœ„ì— ê°€ë¡œë¡œ ê±¸ì³ ë†“ì€ ë‚˜ë¬´.", "ì§€ë¶•ì˜ ë¬´ê²Œë¥¼ ë°›ì¹˜ëŠ” ê°€ì¥ í° ë‚˜ë¬´.", "ì²˜ë§ˆì˜ ë„¤ ê·€ì—ì„œ 45ë„ ê°ë„ë¡œ ë»—ì–´ ë‚˜ì˜¨ ë‚˜ë¬´."]
                }
            },
            {
                word: "ì„œê¹Œë˜",
                meaning: "ì§€ë¶•ì˜ ê³¨ê²©ì„ ì´ë£¨ë©° ë„ë¦¬ë¥¼ ë°›ì¹˜ëŠ” ë‚˜ë¬´.",
                type: "ê°œë…",
                confusors: {
                    word: ["ë„ë¦¬", "ëŒ€ë“¤ë³´", "ê¸°ë‘¥"],
                    meaning: ["ì„œê¹Œë˜ë¥¼ ë°›ì¹˜ê¸° ìœ„í•´ ê°€ë¡œë¡œ ê±´ ë‚˜ë¬´.", "ì§€ë¶•ì˜ ë¬´ê²Œë¥¼ ë°›ì¹˜ëŠ” ê°€ì¥ í° ë‚˜ë¬´.", "ê±´ë¬¼ì˜ ë¬´ê²Œë¥¼ ì§€íƒ±í•˜ëŠ” ì„¸ë¡œ ë‚˜ë¬´."]
                }
            },
            {
                word: "ìœ ë¦¬(æµé›¢)",
                meaning: "í•œê³³ì— ì •ì°©í•˜ì—¬ ì‚´ì§€ ëª»í•˜ê³  ì´ë¦¬ì €ë¦¬ ë– ëŒì•„ë‹¤ë‹˜.",
                type: "ìƒí™©",
                confusors: {
                    word: ["ì •ì°©(å®šç€)", "ì´ì£¼(ç§»ä½)", "ì²´ë¥˜(æ»¯ç•™)"],
                    meaning: ["ì¼ì •í•œ ê³³ì— ìë¦¬ë¥¼ ì¡ê³  ë¨¸ë¬¼ëŸ¬ ì‚¶.", "ë‹¤ë¥¸ ì§€ì—­ìœ¼ë¡œ ê±°ì²˜ë¥¼ ì˜®ê²¨ ê°€ì„œ ì‚¶.", "ì¼ì •í•œ ê³³ì— ë¨¸ë¬¼ëŸ¬ ë– ë‚˜ì§€ ì•„ë‹ˆí•¨."]
                }
            },
            {
                word: "ì‡ ì§„(è¡°ç›¡)",
                meaning: "ëª¸ê³¼ ë§ˆìŒì´ ì§€ì³ ì‡ ì•½í•´ì§.",
                type: "ìƒí™©",
                confusors: {
                    word: ["ë¶„ë°œ(å¥®ç™¼)", "ë§¤ì§„(é‚é€²)", "í™œë ¥(æ´»åŠ›)"],
                    meaning: ["ì •ì‹ ì„ ê°€ë‹¤ë“¬ì–´ í˜ì„ ëƒ„.", "í˜ì¨ ë‚˜ì•„ê°.", "í™œë™í•˜ëŠ” í˜ì´ë‚˜ ê¸°ìš´."]
                }
            },
            {
                word: "ì•…ì°©(é½·é½ª)",
                meaning: "ë§¤ìš° ëª¨ì§ˆê³  ëˆë•ì§„. ë˜ëŠ” ê·¸ëŸ° ê²ƒ.",
                type: "ì •ì„œ",
                confusors: {
                    word: ["ë‚˜íƒœ(æ‡¶æ€ )", "ë‚˜ì•½(æ‡¦å¼±)", "ìš°ìœ ë¶€ë‹¨(å„ªæŸ”ä¸æ–·)"],
                    meaning: ["ê²Œìœ¼ë¦„ì„ í”¼ìš°ë©° í•  ì¼ì„ í•˜ì§€ ì•„ë‹ˆí•¨.", "ì˜ì§€ê°€ ì•½í•˜ê³  êµ³ì„¸ì§€ ëª»í•¨.", "ê²°ë‹¨ë ¥ì´ ì—†ì–´ í–‰ë™ì´ ë¶„ëª…í•˜ì§€ ëª»í•¨."]
                }
            },
            {
                word: "ì£¼ì ‘",
                meaning: "í•˜ëŠ” ì¼ ì—†ì´ ë¹Œë¶™ì–´ ì§€ëƒ„. ë˜ëŠ” ê·¸ëŸ° ì‚¬ëŒ.",
                type: "ìƒí™©",
                confusors: {
                    word: ["ìë¦½(è‡ªç«‹)", "ë…ë¦½(ç¨ç«‹)", "ìí™œ(è‡ªæ´»)"],
                    meaning: ["ë‚¨ì—ê²Œ ì˜ì¡´í•˜ì§€ ì•Šê³  ìŠ¤ìŠ¤ë¡œ ì„¬.", "ë‚¨ì—ê²Œ ì˜ˆì†ë˜ê±°ë‚˜ ì˜ì¡´í•˜ì§€ ì•Šê³  ìê¸° í˜ìœ¼ë¡œ ì„¬.", "ìŠ¤ìŠ¤ë¡œì˜ í˜ìœ¼ë¡œ ìƒí™œí•¨."]
                }
            },
            {
                word: "ìŒì‚°(é™°æ•£)",
                meaning: "ìŒì¹¨í•˜ê³  ìŠ¤ì‚°í•œ.",
                type: "ì •ì„œ",
                confusors: {
                    word: ["ëª…ë‘(æ˜æœ—)", "í™”ì°½(å’Œæš¢)", "ì¾Œí™œ(å¿«æ´»)"],
                    meaning: ["ë°ê³  ë§‘ì€.", "ë‚ ì”¨ê°€ ë”°ëœ»í•˜ê³  ë§‘ì€.", "ì„±ê²©ì´ ë°ê³  í™œë°œí•œ."]
                }
            },
            {
                word: "íë†(å»¢è¾²)",
                meaning: "ë§ˆì„ì˜ ë†ì‚¬ì¼ì´ ëª¨ë‘ ë§í•˜ì—¬ í™©íí•˜ê²Œ ë¨.",
                type: "ìƒí™©",
                confusors: {
                    word: ["í™©íí™”(è’å»¢åŒ–)", "íŒŒì‚°(ç ´ç”£)", "ëª°ë½(æ²’è½)"],
                    meaning: ["í† ì§€ë‚˜ ì§€ì—­ì´ ê±°ì¹ ê³  ì“¸ì“¸í•˜ê²Œ ë§ê°€ì§.", "ì¬ì‚°ì„ ë‹¤ ìƒê³  ê²½ì œì ìœ¼ë¡œ íŒŒíƒ„ë‚¨.", "ë†’ì€ ì§€ìœ„ë‚˜ ìƒí™œì´ ë¬´ë„ˆì ¸ ë‚´ë¦¼."]
                }
            },
            {
                word: "ë‚¨ë¶€ì—¬ëŒ€(ç”·è² å¥³æˆ´)",
                meaning: "ë‚¨ìëŠ” ì§€ê³  ì—¬ìëŠ” ì¸ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ê°€ë‚œí•œ ì‚¬ëŒë“¤ì´ ì‚´ ê³³ì„ ì°¾ì•„ ë– ëŒì•„ë‹¤ë‹˜ì„ ì´ë¥´ëŠ” ë§.",
                type: "í•œìì„±ì–´",
                confusors: {
                    word: ["ìœ ë¦¬ê±¸ì‹(æµé›¢ä¹é£Ÿ)", "ê°€ì‚°íƒ•ì§„(å®¶ç”£è•©ç›¡)", "ì´ì‚°ê°€ì¡±(é›¢æ•£å®¶æ—)"],
                    meaning: ["ë– ëŒì•„ë‹¤ë‹ˆë©° ë¹Œì–´ë¨¹ëŠ”ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ì§‘ ì—†ì´ ë– ëŒë©° êµ¬ê±¸í•˜ëŠ” ê²ƒì„ ì´ë¥´ëŠ” ë§.", "ì§‘ì•ˆì˜ ì¬ì‚°ì„ ëª¨ë‘ íƒ•ì§„í•˜ì—¬ ì—†ì•¤ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ì‚´ë¦¼ì„ ë§ì¹˜ëŠ” ê²ƒì„ ì´ë¥´ëŠ” ë§.", "ì „ìŸì´ë‚˜ ì¬ë‚œìœ¼ë¡œ ê°€ì¡±ì´ ë¿”ë¿”ì´ í©ì–´ì§„ ê²ƒì„ ì´ë¥´ëŠ” ë§."]
                }
            },
            {
                word: "ì„œê°„ë„",
                meaning: "ë§Œì£¼ ì§€ì—­ì˜ ì„œìª½ ì§€ì—­. ì¼ì œ ê°•ì ê¸° ì¡°ì„ ì¸ë“¤ì´ ì´ì£¼í•œ ì§€ì—­.",
                type: "ê°œë…",
                confusors: {
                    word: ["ë¶ê°„ë„", "ë§Œì£¼", "ì—°ë³€"],
                    meaning: ["ë§Œì£¼ ì§€ì—­ì˜ ë¶ìª½ ì§€ì—­. ë‘ë§Œê°• ë¶ìª½ ì¼ëŒ€ë¥¼ ê°€ë¦¬í‚´.", "ì¤‘êµ­ ë™ë¶ë¶€ ì§€ì—­ì˜ ì˜› ëª…ì¹­. í˜„ì¬ ë´ì˜¤ë‹, ì§€ë¦°, í—¤ì´ë£½ì¥ì„± ì¼ëŒ€.", "ì¤‘êµ­ ì§€ë¦°ì„± ë™ë¶€ì˜ ì¡°ì„ ì¡± ìì¹˜ì£¼. ì¡°ì„ ì¸ ì´ì£¼ë¯¼ì´ ë§ì´ ê±°ì£¼."]
                }
            },
            {
                word: "ê·œìŠˆ",
                meaning: "ì¼ë³¸ì˜ ë‚¨ì„œìª½ì— ìœ„ì¹˜í•œ í° ì„¬. íƒ„ê´‘ì´ ë§ì•˜ë˜ ì§€ì—­.",
                type: "ê°œë…",
                confusors: {
                    word: ["í˜¼ìŠˆ", "í™‹ì¹´ì´ë„", "ì‹œì½”ì¿ "],
                    meaning: ["ì¼ë³¸ì˜ ê°€ì¥ í° ì„¬. ë„ì¿„, ì˜¤ì‚¬ì¹´ ë“± ì£¼ìš” ë„ì‹œê°€ ìœ„ì¹˜í•¨.", "ì¼ë³¸ì˜ ìµœë¶ë‹¨ ì„¬. ì‚¿í¬ë¡œê°€ ìˆìœ¼ë©° ì¶”ìš´ ê¸°í›„ê°€ íŠ¹ì§•.", "ì¼ë³¸ì˜ ë„¤ ê°œ ì£¼ìš” ì„¬ ì¤‘ ê°€ì¥ ì‘ì€ ì„¬. ì‹œì½”ì¿  ì§€ë°©ì„ í˜•ì„±."]
                }
            },
            {
                word: "ì˜¤ì‚¬ì¹´",
                meaning: "ì¼ë³¸ì˜ ì£¼ìš” ê³µì—… ë„ì‹œ. ì¼ì œ ê°•ì ê¸° ì¡°ì„ ì¸ ë…¸ë™ìê°€ ë§ì´ ì¼í–ˆë˜ ê³³.",
                type: "ê°œë…",
                confusors: {
                    word: ["ë„ì¿„", "êµí† ", "ê³ ë² "],
                    meaning: ["ì¼ë³¸ì˜ ìˆ˜ë„. ì •ì¹˜, ê²½ì œ, ë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ë¡œ ê°€ì¥ í° ë„ì‹œ.", "ì¼ë³¸ì˜ ì˜› ìˆ˜ë„. ì „í†µ ë¬¸í™”ì™€ ìœ ì ì´ ë§ì´ ë‚¨ì•„ ìˆëŠ” ì—­ì‚¬ ë„ì‹œ.", "ì¼ë³¸ íš¨ê³ í˜„ì˜ í•­êµ¬ ë„ì‹œ. ë¬´ì—­ê³¼ í•´ìš´ì—…ì´ ë°œë‹¬í•œ ê³³."]
                }
            }
        ];

        // 3ë‹¨ê³„ ë¬¸ì¥ ë…í•´ ë°ì´í„°
        const sentenceData = [
    {
        sentence: "ì €ëŠ” ì†ì— í™ í•œë²ˆ ë§Œì ¸ ë³´ì§€ë„ ì•Šê³  ë™ì²™ì—” ì†Œì‘ì¸ ë…¸ë¦‡ì„ í•˜ë©° ì‹¤ì‘ì¸ì—ê²ŒëŠ” ì§€ì£¼ í–‰ì„¸ë¥¼ í•˜ê²Œ ë˜ì—ˆë‹¤.",
        question: "ì´ ë¬¸ì¥ì—ì„œ ë¶€ë‹¹í•œ ì´ìµì„ ì·¨í•˜ëŠ” 'ì €'ëŠ” ëˆ„êµ¬ì¸ê°€?",
        correctAnswer: "ì¤‘ê°„ ì†Œì‘ì¸",
        distractors: ["ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ì§ì›", "ë•…ì„ ì§ì ‘ ê²½ì‘í•˜ëŠ” ì‹¤ì‘ì¸", "í† ì§€ë¥¼ ì†Œìœ í•œ ì¼ë³¸ì¸ ì§€ì£¼"]
    },
    {
        sentence: "ë™ì²™ì— ì†Œì‘ë£Œë¥¼ ë¬¼ê³  ë‚˜ì„œ ë˜ ì¤‘ê°„ ì†Œì‘ì¸ì—ê²Œ ê¸íˆê³  ë³´ë‹ˆ, ì‹¤ì‘ì¸ì˜ ì†ì—ëŠ” ì†Œì¶œì˜ ì‚¼ í• ë„ ë–¨ì–´ì§€ì§€ ì•Šì•˜ë‹¤.",
        question: "'ì‹¤ì‘ì¸'ì˜ ì†ì— ìˆ˜í™•ë¬¼ì˜ 30%ë„ ë‚¨ì§€ ì•Šê²Œ ëœ ì›ì¸ì€ ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "ë™ì–‘ ì²™ì‹ íšŒì‚¬ì™€ ì¤‘ê°„ ì†Œì‘ì¸ì—ê²Œ ì´ì¤‘ìœ¼ë¡œ ìˆ˜íƒˆë‹¹í–ˆê¸° ë•Œë¬¸",
        distractors: ["ë‚ ì”¨ê°€ ì¢‹ì§€ ì•Šì•„ ë†ì‚¬ ìˆ˜í™•ëŸ‰ì´ í¬ê²Œ ì¤„ì–´ë“¤ì—ˆê¸° ë•Œë¬¸", "ë†ì‚¬ ê¸°ìˆ ê³¼ ê²½í—˜ì´ ë¶€ì¡±í•˜ì—¬ ìƒì‚°ëŸ‰ì´ ì ì—ˆê¸° ë•Œë¬¸", "ë†í† ê°€ ì²™ë°•í•˜ì—¬ ì• ì´ˆì— ìˆ˜í™•ëŸ‰ ìì²´ê°€ ì ì—ˆê¸° ë•Œë¬¸"]
    },
    {
        sentence: "ê·¸ í›„ë¡œ 'ì£½ê² ë‹¤', 'ëª» ì‚´ê² ë‹¤' í•˜ëŠ” ì†Œë¦¬ëŠ” ì¤‘ì´ ì—¼ë¶ˆí•˜ë“¯ ê·¸ë“¤ì˜ ì…ê¸¸ì—ì„œ ì˜¤ë¥´ë‚´ë¦¬ê²Œ ë˜ì—ˆë‹¤.",
        question: "'ê·¸ë“¤'ì´ 'ì£½ê² ë‹¤'ëŠ” ë§ì„ ì…ì— ë‹¬ê³  ì‚´ê²Œ ëœ ê·¼ë³¸ì ì¸ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "ë™ì²™ê³¼ ì¤‘ê°„ ì†Œì‘ì¸ì˜ ì´ì¤‘ ìˆ˜íƒˆë¡œ ìƒê³„ ìœ ì§€ê°€ ë¶ˆê°€ëŠ¥í–ˆê¸° ë•Œë¬¸",
        distractors: ["ë§ˆì„ ì „ì²´ì— ì „ì—¼ë³‘ì´ í¬ê²Œ ëŒì•„ ìƒëª…ì„ ìœ„í˜‘ë°›ì•˜ê¸° ë•Œë¬¸", "ê°€ë­„ê³¼ í™ìˆ˜ê°€ ë°˜ë³µë˜ì–´ ì—¬ëŸ¬ í•´ ë™ì•ˆ í‰ë…„ì´ ê³„ì†ë˜ì—ˆê¸° ë•Œë¬¸", "ë§ˆì„ ì‚¬ëŒë“¤ ì‚¬ì´ì˜ ê°ˆë“±ê³¼ ë¶ˆí™”ë¡œ ê³µë™ì²´ê°€ ë¬´ë„ˆì¡Œê¸° ë•Œë¬¸"]
    },
    {
        sentence: "ì«“ê²¨ ê°€ëŠ” ìš´ëª…ì´ê±°ë“  ì–´ë””ë¥¼ ê°„ë“¤ ì‹ ì‹ í•˜ë´.",
        question: "ì´ ë¬¸ì¥ì´ ì˜ë¯¸í•˜ëŠ” ë°”ëŠ” ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "ì–´ë””ë¥¼ ê°€ë”ë¼ë„ ì²˜ì§€ê°€ ë‚˜ì•„ì§€ì§€ ì•Šì„ ê²ƒì´ë¼ëŠ” ë¹„ê´€ì  ì˜ˆì¸¡",
        distractors: ["ìƒˆë¡œìš´ ê³³ìœ¼ë¡œ ê°€ë©´ ë” ë‚˜ì€ ì‚¶ì´ ê¸°ë‹¤ë¦´ ê²ƒì´ë¼ëŠ” í¬ë§ì  ê¸°ëŒ€", "ê³ í–¥ì„ ì ˆëŒ€ë¡œ ë– ë‚˜ì„œëŠ” ì•ˆ ëœë‹¤ëŠ” ê°•í•œ ì¶©ê³ ì™€ ê²½ê³ ", "ìš´ëª…ì„ ê±°ìŠ¤ë¥¼ ìˆ˜ ì—†ìœ¼ë‹ˆ ìˆœì‘í•˜ë©° ì‚´ì•„ì•¼ í•œë‹¤ëŠ” ì²´ë…"]
    },
    {
        sentence: "ì¡°ê¸ˆ ì¢‹ì€ ë•…ì€ ë¨¼ì € ê°„ ì´ê°€ ëª¨ì¡°ë¦¬ ì°¨ì§€ë¥¼ í•˜ì˜€ê³  í™©ë¬´ì§€ëŠ” ë¹„ë¡ ë§ë‹¤ í•˜ë‚˜ ê·¸ê³³ ë‹¹ë„í•˜ë˜ ë‚ ë¶€í„° ì•„ì¹¨ê±°ë¦¬ ì €ë…ê±°ë¦¬ ê±±ì •ì´ë¼...",
        question: "'ê·¸'ì˜ ê°€ì¡±ì´ ì„œê°„ë„ì—ì„œ í™©ë¬´ì§€ë¥¼ ê°œê°„í•˜ì§€ ëª»í•œ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "ë‹¹ì¥ ë¼ë‹ˆë¥¼ í•´ê²°í•˜ê¸°ë„ ì–´ë ¤ì›Œ ì¥ê¸°ì  íˆ¬ìê°€ ë¶ˆê°€ëŠ¥í–ˆê¸° ë•Œë¬¸",
        distractors: ["í™©ë¬´ì§€ì˜ í† ì§ˆì´ ë„ˆë¬´ ì²™ë°•í•˜ì—¬ ê°œê°„í•´ë„ ë†ì‚¬ê°€ ë¶ˆê°€ëŠ¥í–ˆê¸° ë•Œë¬¸", "ì¤‘êµ­ ê´€í—Œìœ¼ë¡œë¶€í„° í™©ë¬´ì§€ ê°œê°„ì— ëŒ€í•œ í—ˆê°€ë¥¼ ë°›ì§€ ëª»í–ˆê¸° ë•Œë¬¸", "ê°œê°„ì— í•„ìš”í•œ ë†ê¸°êµ¬ì™€ ë„êµ¬ë¥¼ ì „í˜€ êµ¬í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸"]
    },
    {
        sentence: "ì—´ì•„í™‰ ì‚´ë°–ì— ì•ˆ ëœ ê·¸ê°€ í™€ì–´ë¨¸ë‹ˆë¥¼ ëª¨ì‹œê³  ì•…ìœ¼ë¡œ ì•…ìœ¼ë¡œ ëª¨ì§„ ëª©ìˆ¨ì„ ì´ì–´ ê°€ëŠ” ì¤‘ ì‚¬ ë…„ì´ ëª» ë˜ì–´ ì˜ì–‘ ë¶€ì¡±í•œ ëª¸ì´ ì‹¬í•œ ë…¸ë™ì— ì§€ì¹œ íƒ“ìœ¼ë¡œ ê·¸ì˜ ì–´ë¨¸ë‹ˆ ë˜í•œ ì£½ê³  ë§ì•˜ë‹¤.",
        question: "'ê·¸ì˜ ì–´ë¨¸ë‹ˆ'ê°€ ëŒì•„ê°€ì‹œê²Œ ëœ ì§ì ‘ì ì¸ ì›ì¸ì€ ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "ì˜ì–‘ ë¶€ì¡±ê³¼ ì‹¬í•œ ë…¸ë™",
        distractors: ["ì „ì—¼ë³‘ ê°ì—¼ê³¼ ì¶”ìš´ ë‚ ì”¨", "ë†ì‚¬ì¼ ì¤‘ì˜ ì‚¬ê³ ì™€ ë¶€ìƒ", "ê³ í–¥ì— ëŒ€í•œ ê·¸ë¦¬ì›€ê³¼ ìš°ìš¸ì¦"]
    },
    {
        sentence: "ì•…ì°©í•œ ìš´ëª…ì´ ë˜ì ¸ ì¤€ ê¹Šì€ ìŠ¬í””ì„ ìˆ ë¡œ ë…¹ì´ë ¤ëŠ” ë“¯ì´ ì—°ê±°í‘¸ ë‹¤ì„¯ ì”ì„ ë§ˆì‹  ê·¸ëŠ” ë‹¤ì‹œ ë§ì„ ê³„ì†í•˜ì˜€ë‹¤.",
        question: "ê·¸ê°€ ìˆ ì„ ë§ˆì‹  ì´ìœ ëŠ” ë¬´ì—‡ì´ë¼ê³  ì„œìˆ ìëŠ” ì¶”ì¸¡í•˜ê³  ìˆëŠ”ê°€?",
        correctAnswer: "ìš´ëª…ì´ ì¤€ ê¹Šì€ ìŠ¬í””ì„ ìˆ ë¡œ ìŠê±°ë‚˜ í•´ì†Œí•˜ë ¤ê³ ",
        distractors: ["ìˆ ì— ì·¨í•´ ê³ í†µìŠ¤ëŸ¬ìš´ ì´ì•¼ê¸°ë¥¼ ì¤‘ë‹¨í•˜ë ¤ê³ ", "'ë‚˜'ì—ê²Œ ìˆ ì„ ëŒ€ì ‘ë°›ì€ ê²ƒì— ëŒ€í•œ ê°ì‚¬ í‘œì‹œë¡œ", "ì¶”ìš´ ë‚ ì”¨ ë•Œë¬¸ì— ëª¸ì„ ë”°ëœ»í•˜ê²Œ ë…¹ì´ë ¤ê³ "]
    },
    {
        sentence: "ê³ í–¥ì— ê°€ì‹œë‹ˆ ë°˜ê°€ì›Œí•˜ëŠ” ì‚¬ëŒì´ ìˆìŠµë‹ˆê¹Œ?",
        question: "ì´ ì§ˆë¬¸ì— ë‹´ê¸´ 'ë‚˜'ì˜ ë§ˆìŒì€ ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "'ê·¸'ì˜ ë¶ˆí–‰í•œ ì´ì•¼ê¸°ì— ê³µê°í•˜ë©° ê·¸ë¥¼ ì•ˆíƒ€ê¹ê²Œ ì—¬ê¸°ëŠ” ë§ˆìŒ",
        distractors: ["ê³ í–¥ì— ë‚¨ì•„ ìˆëŠ” ì‚¬ëŒë“¤ì´ ëˆ„êµ¬ì¸ì§€ì— ëŒ€í•œ ë‹¨ìˆœí•œ í˜¸ê¸°ì‹¬", "'ê·¸'ê°€ í•˜ëŠ” ì´ì•¼ê¸°ì˜ ì§„ì‹¤ì„±ì„ ì˜ì‹¬í•˜ë©° í™•ì¸í•˜ë ¤ëŠ” ë§ˆìŒ", "'ê·¸'ì™€ì˜ ëŒ€í™”ë¥¼ ë¹¨ë¦¬ ëë‚´ê³  ë– ë‚˜ë³´ë‚´ê³  ì‹¶ì€ ë¶ˆí¸í•œ ë§ˆìŒ"]
    },
    {
        sentence: "ì©ì–´ ë„˜ì–´ì§„ ì„œê¹Œë˜, í’€í’€ êµ¬ë¥´ëŠ” ì£¼ì¶”ëŠ”! ê¼­ ë¬´ë¤ì„ íŒŒì„œ í•´ê³¨ì„ í—ì–´ ì –í˜€ ë†“ì€ ê²ƒ ê°™ë”ë§ˆ.",
        question: "ì´ëŸ¬í•œ ë¹„ìœ ë¥¼ í†µí•´ ì•Œ ìˆ˜ ìˆëŠ” 'ê·¸'ì˜ ì‹¬ì •ì€ ì–´ë– í•œê°€?",
        correctAnswer: "ê³ í–¥ ìƒì‹¤ì— ëŒ€í•œ ì¶©ê²©ê³¼ ì°¸ë‹´í•¨ê³¼ ì ˆë§ê°",
        distractors: ["ê³ í–¥ì´ ì–´ë–»ê²Œ ë³€í–ˆëŠ”ì§€ì— ëŒ€í•œ ê°•í•œ í˜¸ê¸°ì‹¬", "íí—ˆê°€ ëœ ê³ í–¥ì—ì„œ ìƒˆë¡­ê²Œ ì‹œì‘í•˜ë ¤ëŠ” ê¸°ëŒ€ê°", "ê³ í†µìŠ¤ëŸ¬ìš´ ê³¼ê±°ì˜ ê¸°ì–µì„ ì™„ì „íˆ ìŠê³  ì‹¶ì€ ë§ˆìŒ"]
    },
    {
        sentence: "ë‚˜ëŠ” ê·¸ ëˆˆë¬¼ ê°€ìš´ë° ìŒì‚°í•˜ê³  ë¹„ì°¸í•œ ì¡°ì„ ì˜ ì–¼êµ´ì„ ë˜‘ë˜‘íˆ ë³¸ ë“¯ì‹¶ì—ˆë‹¤.",
        question: "'ì¡°ì„ ì˜ ì–¼êµ´'ì€ êµ¬ì²´ì ìœ¼ë¡œ ë¬´ì—‡ì„ ìƒì§•í•˜ëŠ”ê°€?",
        correctAnswer: "ì¼ì œ ê°•ì í•˜ì—ì„œ ìˆ˜íƒˆë‹¹í•˜ê³  ê³ í†µë°›ëŠ” ìš°ë¦¬ ë¯¼ì¡±ì˜ ë¹„ì°¸í•œ í˜„ì‹¤",
        distractors: ["'ê·¸' í•œ ê°œì¸ì´ ê²ªì€ ë¶ˆí–‰í•˜ê³  ìŠ¬í”ˆ ê³¼ê±°ì™€ ì‚¶ì˜ ê¶¤ì ", "ì„œê°„ë„ë¡œ ë– ë‚˜ ì´ì£¼í•œ ì¡°ì„ ì¸ë“¤ì´ ê²ªëŠ” ê³ ë‚œê³¼ ì–´ë ¤ìš´ ì²˜ì§€", "ì¡°ì„ ì˜ ë†ì´Œ ì‚¬íšŒì— ë§Œì—°í•œ ê°€ë‚œí•˜ê³  í”¼íí•œ ìƒí™œìƒ"]
    },
    {
        sentence: "ê·¸ ì‹ ì„¸ë„ ë‚´ ì‹ ì„¸ë§Œì´ë‚˜ í•˜êµ¬ë¨¼.",
        question: "ì´ ëŒ€í™”ë¥¼ í†µí•´ ì•Œ ìˆ˜ ìˆëŠ” ë‘ ì¸ë¬¼ì˜ ê³µí†µì ì¸ ì²˜ì§€ëŠ” ë¬´ì—‡ì¸ê°€?",
        correctAnswer: "ë‘˜ ë‹¤ ê°€ë‚œ ë•Œë¬¸ì— ê³ í–¥ì„ ë– ë‚˜ ë¹„ì°¸í•œ ì‚¶ì„ ì‚´ê³  ìˆë‹¤",
        distractors: ["ë‘˜ ë‹¤ ì¼ë³¸ì¸ì´ ìš´ì˜í•˜ëŠ” ì§‘ì—ì„œ ê³ ìš©ì‚´ì´ë¥¼ í•˜ê³  ìˆë‹¤", "ë‘˜ ë‹¤ ì„œìš¸ë¡œ ì˜¬ë¼ê°€ ìƒˆë¡œìš´ ì¼ìë¦¬ë¥¼ ì°¾ìœ¼ëŸ¬ ê°€ëŠ” ì¤‘ì´ë‹¤", "ë‘˜ ë‹¤ ì „ìŸê³¼ ì´ë³„ë¡œ ì¸í•´ ê°€ì¡±ì„ ëª¨ë‘ ìƒì–´ë²„ë ¸ë‹¤"]
    },
    {
        sentence: "ì¸ë¬¼ì´ë‚˜ ì¢‹ì€ ê³„ì§‘ì€ ìœ ê³½ìœ¼ë¡œ ê°€ê³ ìš”...",
        question: "ì´ êµ¬ì ˆì€ ë‹¹ì‹œ ì—¬ì„±ì´ ê²ªì–´ì•¼ í–ˆë˜ ì–´ë–¤ ë¹„ê·¹ì ì¸ í˜„ì‹¤ì„ ë³´ì—¬ì£¼ëŠ”ê°€?",
        correctAnswer: "ê°€ë‚œìœ¼ë¡œ ì¸í•´ ì¸ê²©ê³¼ ì¡´ì—„ì„±ì„ ìƒê³  ì„±ì ìœ¼ë¡œ ì°©ì·¨ë‹¹í•´ì•¼ í–ˆë˜ í˜„ì‹¤",
        distractors: ["ì—¬ì„±ë“¤ì´ í•™êµì— ë‹¤ë‹ˆë©° êµìœ¡ì„ ë°›ì„ ê¸°íšŒê°€ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨ë˜ì—ˆë˜ í˜„ì‹¤", "ì—¬ì„±ë“¤ì´ ì •ì¹˜ì— ì°¸ì—¬í•˜ê±°ë‚˜ íˆ¬í‘œê¶Œì„ í–‰ì‚¬í•  ìˆ˜ ì—†ì—ˆë˜ ì œë„ì  í˜„ì‹¤", "ì—¬ì„±ë“¤ì´ ì›í•˜ëŠ” ì§ì—…ì„ ììœ ë¡­ê²Œ ì„ íƒí•  ê¶Œë¦¬ê°€ ì—†ì—ˆë˜ ì‚¬íšŒì  í˜„ì‹¤"]
    }
        ];

        // 1ë‹¨ê³„ ì „ìš© ë³€ìˆ˜
        let stage1Data = {
            currentQuestionIndex: 0,
            answeredQuestions: new Set(),
            correctAnswers: 0,
            wrongAnswers: 0,
            startTime: 0,
            timeRemaining: 180,
            maxTime: 180
        };

        // 2ë‹¨ê³„ ì „ìš© ë³€ìˆ˜
        let stage2Data = {
            questions: [],
            currentQuestionIndex: 0,
            correctAnswers: 0,
            wrongAnswers: 0,
            startTime: 0,
            timeRemaining: 240,
            maxTime: 240
        };

        // 3ë‹¨ê³„ ì „ìš© ë³€ìˆ˜
        let stage3Data = {
            questions: [],
            currentQuestionIndex: 0,
            correctAnswers: 0,
            wrongAnswers: 0,
            startTime: 0,
            timeRemaining: 100,
            maxTime: 100
        };

        // ê³µí†µ ë³€ìˆ˜
        let timerInterval = null;
        let modalDragging = false;
        let modalOffsetX = 0;
        let modalOffsetY = 0;
        let activeModal = null;
        let activeTimeout = null;
        let isProcessingClick = false;

        // í˜„ì¬ ë‹¨ê³„ì— ë”°ë¥¸ ì‹œê°„ ê´€ë ¨ ë³€ìˆ˜ (í˜¸í™˜ì„± ìœ ì§€)
        let timeRemaining = 180;
        let maxTime = 180;

        // ì „ì—­ í•™ìŠµ ì‹œì‘ ì‹œê°„
        let globalStartTime = null;

        // ì „ì²´ í•™ìŠµ ê²°ê³¼ ì €ì¥
        const stageResults = {
            stage1: { correct: 0, wrong: 0, score: 0, elapsedTime: 0, wrongQuestions: [] },
            stage2: { correct: 0, wrong: 0, score: 0, elapsedTime: 0, wrongQuestions: [] },
            stage3: { correct: 0, wrong: 0, score: 0, elapsedTime: 0, wrongQuestions: [] },
            stage4: { correct: 0, wrong: 0, score: 0, elapsedTime: 0, wrongQuestions: [] },
            stage5: { correct: 0, wrong: 0, score: 0, elapsedTime: 0, wrongQuestions: [] }
        };

        // ì´ˆê¸°í™”
        function init() {
            // ì „ì—­ ì‹œì‘ ì‹œê°„ ê¸°ë¡
            globalStartTime = Date.now();

            // Stage 1 ì´ˆê¸°í™”
            stage1Data.startTime = Date.now();
            timeRemaining = stage1Data.timeRemaining;
            maxTime = stage1Data.maxTime;

            renderPassage();
            updateQuestionCounter();
            updateTimerBar();
            startTimer();
            setupModalDrag();
        }

        // ì§€ë¬¸ ë Œë”ë§
        function renderPassage() {
            const container = document.getElementById('passage-container');
            let html = learningData.fullText;

            // ë§ˆí¬ë‹¤ìš´ ì²˜ë¦¬ (í•˜ì´ë¼ì´íŠ¸ ì²˜ë¦¬ ì „ì— ë¨¼ì € ì‹¤í–‰)
            // ì œëª© ì²˜ë¦¬
            html = html.replace(/^##\s+(.+)$/gm, '<h2>$1</h2>');
            html = html.replace(/^â–  (.+)$/gm, '<h3>$1</h3>');

            // í…Œì´ë¸” ì²˜ë¦¬ (ë§ˆí¬ë‹¤ìš´ í…Œì´ë¸”ì„ HTML í…Œì´ë¸”ë¡œ ë³€í™˜)
            const tableRegex = /^\|.+\|$/gm;
            const tableMatches = [];
            let match;
            while ((match = tableRegex.exec(html)) !== null) {
                tableMatches.push(match.index);
            }

            if (tableMatches.length > 0) {
                // í…Œì´ë¸” ë¼ì¸ë“¤ì„ ì°¾ì•„ì„œ ê·¸ë£¹í™”
                let i = 0;
                while (i < tableMatches.length) {
                    let tableStart = tableMatches[i];
                    let tableEnd = tableMatches[i];
                    let j = i + 1;

                    // ì—°ì†ëœ í…Œì´ë¸” ë¼ì¸ ì°¾ê¸°
                    while (j < tableMatches.length && tableMatches[j] - tableEnd < 100) {
                        tableEnd = tableMatches[j];
                        j++;
                    }

                    // í…Œì´ë¸” í…ìŠ¤íŠ¸ ì¶”ì¶œ
                    let beforeTable = html.substring(0, tableStart);
                    let afterTable = html.substring(tableEnd + html.substring(tableEnd).indexOf('\n') + 1);
                    let tableText = html.substring(tableStart, tableEnd + html.substring(tableEnd).indexOf('\n'));

                    const lines = tableText.split('\n').filter(line => line.trim().startsWith('|'));

                    let tableHTML = '<table style="border-collapse: collapse; width: 100%; margin: 20px 0;">';
                    let rowIndex = 0;

                    lines.forEach((line) => {
                        // êµ¬ë¶„ì„  ìŠ¤í‚µ
                        if (line.match(/^\|\s*:?-+:?\s*\|/)) return;

                        const cells = line.split('|').slice(1, -1); // ì²«ë²ˆì§¸ì™€ ë§ˆì§€ë§‰ ë¹ˆ ìš”ì†Œ ì œê±°
                        const tag = rowIndex === 0 ? 'th' : 'td';
                        const bgColor = rowIndex === 0 ? 'background: #f8f9fa; font-weight: 600;' : '';

                        tableHTML += '<tr>';
                        cells.forEach(cell => {
                            tableHTML += `<${tag} style="border: 1px solid #ddd; padding: 12px; text-align: left; ${bgColor}">${cell.trim()}</${tag}>`;
                        });
                        tableHTML += '</tr>';
                        rowIndex++;
                    });

                    tableHTML += '</table>';
                    html = beforeTable + tableHTML + afterTable;

                    i = j;
                }
            }

            // ë³¼ë“œ ì²˜ë¦¬
            html = html.replace(/\*\*([^<>]+?)\*\*/g, '<strong>$1</strong>');

            // ì„¹ì…˜ ë²ˆí˜¸ ì²˜ë¦¬ (1. 2. 3. í˜•íƒœ)
            html = html.replace(/^(\d+)\.\s+(.+êµ¬ê°„.*)$/gm, function(match, num, text) {
                return `<div style="margin-top: 20px;"><span class="section-number">${num}.</span><strong>${text}</strong></div>`;
            });

            // ë¶ˆë¦¿ ì²˜ë¦¬
            html = html.replace(/^[â€¢Â·]\s+(.+)$/gm, function(match, content) {
                return `<div class="subsection">â€¢ ${content}</div>`;
            });

            // í•˜ì´ë¼ì´íŠ¸ ì²˜ë¦¬ (ë§ˆì§€ë§‰ì— ì‹¤í–‰ - HTML ë³€í™˜ëœ ë‚´ìš©ì— ì ìš©)
            learningData.questions.forEach((q, index) => {
                // ì •ê·œì‹ íŠ¹ìˆ˜ë¬¸ì ì´ìŠ¤ì¼€ì´í”„
                const escapedHighlight = q.highlight.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const regex = new RegExp(escapedHighlight);
                const highlightHTML = `<span class="highlight" data-question="${index}">${q.highlight}</span>`;
                // ì²« ë²ˆì§¸ ë§¤ì¹­ë§Œ êµì²´
                html = html.replace(regex, highlightHTML);
            });

            container.innerHTML = html;

            // í•˜ì´ë¼ì´íŠ¸ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡ (PCì™€ ëª¨ë°”ì¼ ëª¨ë‘ ì§€ì›)
            document.querySelectorAll('.highlight').forEach(highlight => {
                let touchStartX = 0;
                let touchStartY = 0;

                const handleInteraction = function(e) {
                    e.preventDefault();
                    e.stopPropagation();

                    // ì´ë¯¸ ì²˜ë¦¬ ì¤‘ì´ë©´ ë¬´ì‹œ
                    if (isProcessingClick) return;
                    isProcessingClick = true;

                    const questionIndex = parseInt(this.getAttribute('data-question'));

                    // í´ë¦­/í„°ì¹˜ ì¢Œí‘œ ê°€ì ¸ì˜¤ê¸°
                    let clientX, clientY;
                    if (e.type === 'touchend') {
                        // í„°ì¹˜ ì‹œì‘ ìœ„ì¹˜ ì‚¬ìš© (ë” ì •í™•í•¨)
                        clientX = touchStartX;
                        clientY = touchStartY;
                    } else {
                        clientX = e.clientX;
                        clientY = e.clientY;
                    }

                    showQuestion(questionIndex, clientX, clientY);

                    // ì²˜ë¦¬ í”Œë˜ê·¸ ë¦¬ì…‹
                    setTimeout(() => {
                        isProcessingClick = false;
                    }, 300);
                };

                // í„°ì¹˜ ì‹œì‘ ìœ„ì¹˜ ì €ì¥
                highlight.addEventListener('touchstart', function(e) {
                    const touch = e.touches[0];
                    touchStartX = touch.clientX;
                    touchStartY = touch.clientY;
                }, { passive: false });

                // ì´ë²¤íŠ¸ ë“±ë¡ (í„°ì¹˜ ë””ë°”ì´ìŠ¤ëŠ” touchendë§Œ, PCëŠ” clickë§Œ)
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                if (isTouchDevice) {
                    highlight.addEventListener('touchend', handleInteraction, { passive: false });
                } else {
                    highlight.addEventListener('click', handleInteraction);
                }
            });
        }

        // ë¬¸ì œ í‘œì‹œ
        function showQuestion(index, clickX, clickY) {
            // ì´ë¯¸ í‘¼ ë¬¸ì œëŠ” ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ
            if (stage1Data.answeredQuestions.has(index)) return;

            // ì´ì „ ëª¨ë‹¬ê³¼ íƒ€ì´ë¨¸ ì •ë¦¬
            if (activeModal && activeModal.classList.contains('active')) {
                activeModal.classList.remove('active');
            }
            if (activeTimeout) {
                clearTimeout(activeTimeout);
                activeTimeout = null;
            }

            const question = learningData.questions[index];
            const modal = document.getElementById('question-modal');
            const highlight = document.querySelector(`[data-question="${index}"]`);

            // í•˜ì´ë¼ì´íŠ¸ í™œì„±í™”
            document.querySelectorAll('.highlight').forEach(h => h.classList.remove('active'));
            highlight.classList.add('active');

            // ëª¨ë‹¬ ë‚´ìš© ì„¤ì •
            document.getElementById('modal-question-num').textContent = index + 1;
            document.getElementById('modal-question-text').textContent = question.text;

            // ì„ íƒì§€ ëœë¤ ë°°ì—´
            const shuffledOptions = shuffleOptions(question.options, question.correct);

            const optionsHTML = shuffledOptions.map((option, i) => {
                const isCorrect = option.isCorrect ? 'true' : 'false';
                return `
                    <button class="option-button" onclick="checkAnswer(${index}, ${i}, ${isCorrect})">
                        <span class="option-number">${i + 1}</span>
                        <span>${option.text}</span>
                    </button>
                `;
            }).join('');

            document.getElementById('modal-options').innerHTML = optionsHTML;

            // ëª¨ë‹¬ ìœ„ì¹˜ ì„¤ì • (í´ë¦­ ì¢Œí‘œ ì¤‘ì‹¬)
            positionModalAtClick(modal, clickX, clickY);

            modal.classList.add('active');
            activeModal = modal;
        }

        // ì„ íƒì§€ ì„ê¸°
        function shuffleOptions(options, correctIndex) {
            const shuffled = options.map((text, index) => ({
                text: text,
                isCorrect: index === correctIndex
            }));

            // Fisher-Yates shuffle
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }

            return shuffled;
        }

        // ë‹µ ì²´í¬ (ì „ì—­ í•¨ìˆ˜ë¡œ ë“±ë¡)
        window.checkAnswer = function(questionIndex, selectedOption, isCorrect) {
            const modal = document.getElementById('question-modal');
            const buttons = modal.querySelectorAll('.option-button');
            const highlight = document.querySelector(`[data-question="${questionIndex}"]`);

            // ë²„íŠ¼ ë¹„í™œì„±í™”
            buttons.forEach(btn => btn.disabled = true);

            // isCorrectë¥¼ booleanìœ¼ë¡œ ë³€í™˜
            const correct = (isCorrect === true || isCorrect === 'true');

            if (correct) {
                buttons[selectedOption].classList.add('correct');
                modal.classList.add('correct-animation');
                highlight.classList.add('correct');
                stage1Data.correctAnswers++;
                addTime(10);
            } else {
                buttons[selectedOption].classList.add('incorrect');
                modal.classList.add('incorrect-animation');
                highlight.classList.add('incorrect');
                stage1Data.wrongAnswers++;
                subtractTime(40);

                // ì •ë‹µ í‘œì‹œ
                buttons.forEach((btn, i) => {
                    const optionText = btn.querySelector('span:last-child').textContent;
                    const correctText = learningData.questions[questionIndex].options[learningData.questions[questionIndex].correct];
                    if (optionText === correctText) {
                        btn.classList.add('correct');
                    }
                });
            }

            stage1Data.answeredQuestions.add(questionIndex);
            updateQuestionCounter();

            // 0.8ì´ˆ í›„ ëª¨ë‹¬ ë‹«ê¸°
            activeTimeout = setTimeout(() => {
                modal.classList.remove('active', 'correct-animation', 'incorrect-animation');
                highlight.classList.remove('active');
                activeModal = null;
                activeTimeout = null;

                // ëª¨ë“  ë¬¸ì œ ì™„ë£Œ ì²´í¬
                if (stage1Data.answeredQuestions.size === learningData.questions.length) {
                    completeStage();
                }
            }, 800);
        }

        // ëª¨ë‹¬ ìœ„ì¹˜ ì„¤ì •
        function positionModal(highlight) {
            const modal = document.getElementById('question-modal');
            const rect = highlight.getBoundingClientRect();

            let left = rect.left + window.scrollX;
            let top = rect.bottom + window.scrollY + 10;

            // í™”ë©´ ë²—ì–´ë‚¨ ë°©ì§€
            const modalRect = modal.getBoundingClientRect();
            if (left + 450 > window.innerWidth) {
                left = window.innerWidth - 460;
            }
            if (top + modalRect.height > window.innerHeight + window.scrollY) {
                top = rect.top + window.scrollY - modalRect.height - 10;
            }

            modal.style.left = left + 'px';
            modal.style.top = top + 'px';
        }

        // í´ë¦­ ì¢Œí‘œì— ëª¨ë‹¬ ì¤‘ì‹¬ ë°°ì¹˜
        function positionModalAtClick(modal, clickX, clickY) {
            // ëª¨ë‹¬ì„ fixed í¬ì§€ì…˜ìœ¼ë¡œ ì„¤ì • (ë·°í¬íŠ¸ ê¸°ì¤€)
            modal.style.position = 'fixed';

            // ì¸¡ì •ì„ ìœ„í•œ ì„ì‹œ í‘œì‹œ (ì´ì „ ê°’ ì €ì¥)
            const prevDisplay = modal.style.display;
            const prevVisibility = modal.style.visibility;

            modal.style.visibility = 'hidden';
            modal.style.display = 'block';

            const modalWidth = modal.offsetWidth;
            const modalHeight = modal.offsetHeight;

            // í´ë¦­ ì¢Œí‘œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê³„ì‚° (ë·°í¬íŠ¸ ê¸°ì¤€)
            let left = clickX - (modalWidth / 2);
            let top = clickY - (modalHeight / 2);

            // í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ì¡°ì •
            const margin = 10;

            // ì¢Œìš° ê²½ê³„ ì²´í¬
            if (left < margin) {
                left = margin;
            } else if (left + modalWidth > window.innerWidth - margin) {
                left = window.innerWidth - modalWidth - margin;
            }

            // ìƒí•˜ ê²½ê³„ ì²´í¬
            if (top < margin) {
                top = margin;
            } else if (top + modalHeight > window.innerHeight - margin) {
                top = window.innerHeight - modalHeight - margin;
            }

            // ìœ„ì¹˜ ì„¤ì •
            modal.style.left = left + 'px';
            modal.style.top = top + 'px';

            // ì¤‘ìš”: ì„ì‹œ í‘œì‹œ ì›ë³µ - .active í´ë˜ìŠ¤ê°€ displayë¥¼ ê´€ë¦¬í•˜ë„ë¡
            modal.style.visibility = prevVisibility || '';
            modal.style.display = prevDisplay || '';
        }

        // ëª¨ë‹¬ ë“œë˜ê·¸ ì„¤ì •
        function setupModalDrag() {
            const modal = document.getElementById('question-modal');

            // PC ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
            modal.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);

            // ëª¨ë°”ì¼ í„°ì¹˜ ì´ë²¤íŠ¸
            modal.addEventListener('touchstart', startDrag, { passive: false });
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('touchend', endDrag);
        }

        function startDrag(e) {
            // ì˜µì…˜ ë²„íŠ¼ í´ë¦­ì‹œ ë“œë˜ê·¸ ë°©ì§€
            if (e.target.closest('.option-button')) return;

            const modal = document.getElementById('question-modal');
            modalDragging = true;
            modal.classList.add('dragging');

            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;

            const rect = modal.getBoundingClientRect();
            modalOffsetX = clientX - rect.left;
            modalOffsetY = clientY - rect.top;

            if (e.touches) {
                e.preventDefault(); // í„°ì¹˜ ì‹œ ìŠ¤í¬ë¡¤ ë°©ì§€
            }
        }

        function drag(e) {
            if (!modalDragging) return;

            const modal = document.getElementById('question-modal');
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;

            const newLeft = clientX - modalOffsetX;
            const newTop = clientY - modalOffsetY;

            // í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ì œí•œ
            const maxLeft = window.innerWidth - modal.offsetWidth;
            const maxTop = window.innerHeight - modal.offsetHeight;

            modal.style.left = Math.max(0, Math.min(newLeft, maxLeft)) + 'px';
            modal.style.top = Math.max(0, Math.min(newTop, maxTop)) + 'px';

            if (e.touches) {
                e.preventDefault(); // í„°ì¹˜ ë“œë˜ê·¸ ì‹œ ìŠ¤í¬ë¡¤ ë°©ì§€
            }
        }

        function endDrag() {
            modalDragging = false;
            const modal = document.getElementById('question-modal');
            if (modal) {
                modal.classList.remove('dragging');
            }
        }

        // íƒ€ì´ë¨¸
        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining -= 0.1;

                // ë‹¨ê³„ë³„ ì‹œê°„ ì—…ë°ì´íŠ¸
                if (currentStage === 1) {
                    stage1Data.timeRemaining = timeRemaining;
                } else if (currentStage === 2) {
                    stage2Data.timeRemaining = timeRemaining;
                } else if (currentStage === 3) {
                    stage3Data.timeRemaining = timeRemaining;
                } else if (currentStage === 4) {
                    stage4Data.timeRemaining = timeRemaining;
                }

                if (timeRemaining <= 0) {
                    timeRemaining = 0;
                    if (currentStage === 1) {
                        completeStage();
                    } else if (currentStage === 2) {
                        completeStage2();
                    } else if (currentStage === 3) {
                        completeStage3();
                    } else if (currentStage === 4) {
                        completeStage4();
                    } else if (currentStage === 5) {
                        completeStage5();
                    }
                }
                updateTimerBar();
            }, 100);
        }

        function updateTimerBar() {
            const percentage = (timeRemaining / maxTime) * 100;
            document.getElementById('timer-bar').style.width = percentage + '%';
        }

        function addTime(seconds) {
            timeRemaining = Math.min(maxTime, timeRemaining + seconds);

            // ë‹¨ê³„ë³„ ì‹œê°„ ì—…ë°ì´íŠ¸
            if (currentStage === 1) {
                stage1Data.timeRemaining = timeRemaining;
            } else if (currentStage === 2) {
                stage2Data.timeRemaining = timeRemaining;
            } else if (currentStage === 3) {
                stage3Data.timeRemaining = timeRemaining;
            } else if (currentStage === 4) {
                stage4Data.timeRemaining = timeRemaining;
            }

            updateTimerBar();
        }

        function subtractTime(seconds) {
            timeRemaining = Math.max(0, timeRemaining - seconds);

            // ë‹¨ê³„ë³„ ì‹œê°„ ì—…ë°ì´íŠ¸
            if (currentStage === 1) {
                stage1Data.timeRemaining = timeRemaining;
            } else if (currentStage === 2) {
                stage2Data.timeRemaining = timeRemaining;
            } else if (currentStage === 3) {
                stage3Data.timeRemaining = timeRemaining;
            } else if (currentStage === 4) {
                stage4Data.timeRemaining = timeRemaining;
            }

            updateTimerBar();
        }

        // ë¬¸ì œ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
        function updateQuestionCounter() {
            if (currentStage === 1) {
                document.getElementById('current-question').textContent = stage1Data.answeredQuestions.size;
                document.getElementById('total-questions').textContent = learningData.questions.length;
            } else if (currentStage === 2) {
                document.getElementById('current-question').textContent = stage2Data.currentQuestionIndex;
                document.getElementById('total-questions').textContent = stage2Data.questions.length;
            } else if (currentStage === 3) {
                document.getElementById('current-question').textContent = stage3Data.currentQuestionIndex;
                document.getElementById('total-questions').textContent = stage3Data.questions.length;
            }
        }

        // í•™ìŠµ ì™„ë£Œ
        function completeStage() {
            clearInterval(timerInterval);

            const endTime = Date.now();
            const elapsedTime = Math.floor((endTime - stage1Data.startTime) / 1000);

            // ì§„í–‰ë¥ ê³¼ ì •ë‹µë¥  ê³„ì‚°
            const totalAnswered = stage1Data.correctAnswers + stage1Data.wrongAnswers;
            const progress = Math.round((stage1Data.answeredQuestions.size / learningData.questions.length) * 100);
            const accuracy = totalAnswered > 0 ? Math.round((stage1Data.correctAnswers / totalAnswered) * 100) : 0;

            // ê²°ê³¼ í™”ë©´ í‘œì‹œ
            document.getElementById('main-content').style.display = 'none';
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.add('active');

            // ì œëª© ì—…ë°ì´íŠ¸
            resultScreen.querySelector('.result-title').textContent = '1ë‹¨ê³„ í•™ìŠµ ì™„ë£Œ!';

            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('progress-stat').textContent = progress + '%';
            document.getElementById('accuracy-stat').textContent = accuracy + '%';
            document.getElementById('correct-stat').textContent = stage1Data.correctAnswers;
            document.getElementById('wrong-stat').textContent = stage1Data.wrongAnswers;
            document.getElementById('time-stat').textContent = formatTime(elapsedTime);

            // ê²°ê³¼ ì €ì¥
            const score = (accuracy / 100) * 10; // 10ì  ë§Œì ìœ¼ë¡œ í™˜ì‚°
            stageResults.stage1 = {
                correct: stage1Data.correctAnswers,
                wrong: stage1Data.wrongAnswers,
                score: score,
                elapsedTime: elapsedTime,
                wrongQuestions: [] // Stage1ì€ í‹€ë¦° ë¬¸ì œ ì¶”ì  ì•ˆ í•¨
            };

            // ë¶€ëª¨ ì°½ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            if (window.parent !== window) {
                window.parent.postMessage({
                    type: 'stage-complete',
                    stage: 1,
                    stageName: 'ë”¥ë¦¬ì„œì¹˜',
                    accuracy: accuracy,
                    correctAnswers: stage1Data.correctAnswers,
                    wrongAnswers: stage1Data.wrongAnswers,
                    totalQuestions: learningData.questions.length,
                    elapsedTime: elapsedTime,
                    timeRemaining: timeRemaining
                }, '*');
            }
        }

        // ì‹œê°„ í¬ë§·
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // ë‹¤ì‹œ í•™ìŠµí•˜ê¸°
        function restartStage() {
            stage1Data.currentQuestionIndex = 0;
            stage1Data.answeredQuestions.clear();
            stage1Data.correctAnswers = 0;
            stage1Data.wrongAnswers = 0;
            stage1Data.timeRemaining = 180;
            timeRemaining = 180;
            maxTime = 180;
            stage1Data.startTime = Date.now();

            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            // í•˜ì´ë¼ì´íŠ¸ ì´ˆê¸°í™”
            document.querySelectorAll('.highlight').forEach(h => {
                h.classList.remove('correct', 'incorrect', 'active');
            });

            updateQuestionCounter();
            updateTimerBar();
            startTimer();
        }

        // ë‹¤ìŒ ë‹¨ê³„ë¡œ
        function nextStage() {
            // 2ë‹¨ê³„ ì–´íœ˜ í•™ìŠµìœ¼ë¡œ ì „í™˜
            currentStage = 2;
            initStage2();
        }

        // ========== 2ë‹¨ê³„ ì–´íœ˜ í•™ìŠµ í•¨ìˆ˜ë“¤ ==========

        // 2ë‹¨ê³„ ì´ˆê¸°í™”
        function initStage2() {
            // ì´ì „ íƒ€ì´ë¨¸ ì •ë¦¬
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }

            // ë³€ìˆ˜ ì´ˆê¸°í™”
            stage2Data.currentQuestionIndex = 0;
            stage2Data.correctAnswers = 0;
            stage2Data.wrongAnswers = 0;
            stage2Data.startTime = Date.now();
            stage2Data.timeRemaining = 240;
            timeRemaining = 240; // 4ë¶„
            maxTime = 240;

            // ë¬¸ì œ ìƒì„±
            generateStage2Questions();

            // UI ì—…ë°ì´íŠ¸
            updateStage2UI();

            // ì²« ë²ˆì§¸ ë¬¸ì œ í‘œì‹œ
            showStage2Question();

            // íƒ€ì´ë¨¸ ì‹œì‘
            startTimer();
        }

        // 2ë‹¨ê³„ ë¬¸ì œ ìƒì„± (ì–‘ë°©í–¥)
        function generateStage2Questions() {
            stage2Data.questions = [];

            vocabularyData.forEach(vocab => {
                // ë‹¨ì–´ â†’ ëœ» ë¬¸ì œ
                const wordToMeaning = {
                    type: 'word-to-meaning',
                    question: `"${vocab.word}"ì˜ ì˜ë¯¸ëŠ”?`,
                    correct: vocab.meaning,
                    word: vocab.word,
                    options: shuffleArray([
                        vocab.meaning,
                        ...vocab.confusors.meaning.slice(0, 3)
                    ])
                };

                // ëœ» â†’ ë‹¨ì–´ ë¬¸ì œ
                const meaningToWord = {
                    type: 'meaning-to-word',
                    question: `"${vocab.meaning}"ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìš©ì–´ëŠ”?`,
                    correct: vocab.word,
                    meaning: vocab.meaning,
                    options: shuffleArray([
                        vocab.word,
                        ...vocab.confusors.word.slice(0, 3)
                    ])
                };

                stage2Data.questions.push(wordToMeaning, meaningToWord);
            });

            // Fisher-Yates ì…”í”Œ
            stage2Data.questions = shuffleArray(stage2Data.questions);
        }

        // ë°°ì—´ ì…”í”Œ (Fisher-Yates)
        function shuffleArray(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        // 2ë‹¨ê³„ UI ì—…ë°ì´íŠ¸
        function updateStage2UI() {
            // í—¤ë” ì—…ë°ì´íŠ¸
            document.querySelector('.subtitle').textContent = '2ë‹¨ê³„: ì–´íœ˜ í•™ìŠµ - í•µì‹¬ ìš©ì–´ ë§ˆìŠ¤í„°';

            // ìŠ¤í…Œì´ì§€ ì¸ë””ì¼€ì´í„° ì—…ë°ì´íŠ¸
            const stageDots = document.querySelectorAll('.stage-dot');
            stageDots[0].classList.remove('active');
            stageDots[0].classList.add('completed');
            stageDots[1].classList.add('active');

            // ë¬¸ì œ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
            document.getElementById('current-question').textContent = 0;
            document.getElementById('total-questions').textContent = stage2Data.questions.length;

            // ë©”ì¸ ì»¨í…ì¸  ì—…ë°ì´íŠ¸
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = `
                <div class="vocabulary-container">
                    <div class="vocabulary-question-card">
                        <div class="question-number">ë¬¸ì œ <span id="vocab-current-num">1</span> / ${stage2Data.questions.length}</div>
                        <div class="question-text" id="vocab-question-text"></div>
                        <div class="options-grid" id="vocab-options"></div>
                    </div>
                </div>
            `;

            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            mainContent.style.display = 'block';
        }

        // 2ë‹¨ê³„ ë¬¸ì œ í‘œì‹œ
        function showStage2Question() {
            if (stage2Data.currentQuestionIndex >= stage2Data.questions.length) {
                completeStage2();
                return;
            }

            const question = stage2Data.questions[stage2Data.currentQuestionIndex];

            // ë¬¸ì œ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
            document.getElementById('vocab-current-num').textContent = stage2Data.currentQuestionIndex + 1;
            document.getElementById('current-question').textContent = stage2Data.currentQuestionIndex + 1;

            // ë¬¸ì œ í…ìŠ¤íŠ¸ í‘œì‹œ
            document.getElementById('vocab-question-text').textContent = question.question;

            // ì„ íƒì§€ í‘œì‹œ
            const optionsContainer = document.getElementById('vocab-options');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'vocab-option-button';
                button.innerHTML = `
                    <span class="option-number">${index + 1}</span>
                    <span class="option-text">${option}</span>
                `;
                button.onclick = () => handleStage2Answer(option, question.correct, button);
                optionsContainer.appendChild(button);
            });
        }

        // 2ë‹¨ê³„ ë‹µë³€ ì²˜ë¦¬
        function handleStage2Answer(selected, correct, buttonEl) {
            // ì¤‘ë³µ í´ë¦­ ë°©ì§€
            const buttons = document.querySelectorAll('.vocab-option-button');
            buttons.forEach(btn => btn.disabled = true);

            if (selected === correct) {
                // ì •ë‹µ
                buttonEl.classList.add('correct');
                stage2Data.correctAnswers++;
                addTime(10);
            } else {
                // ì˜¤ë‹µ
                buttonEl.classList.add('incorrect');
                stage2Data.wrongAnswers++;
                subtractTime(20);

                // ì •ë‹µ í‘œì‹œ
                buttons.forEach(btn => {
                    if (btn.querySelector('.option-text').textContent === correct) {
                        btn.classList.add('correct');
                    }
                });
            }

            // ë‹¤ìŒ ë¬¸ì œë¡œ
            setTimeout(() => {
                stage2Data.currentQuestionIndex++;
                showStage2Question();
            }, 1000);
        }

        // 2ë‹¨ê³„ ì™„ë£Œ
        function completeStage2() {
            clearInterval(timerInterval);

            const endTime = Date.now();
            const elapsedTime = Math.floor((endTime - stage2Data.startTime) / 1000);

            // ì •ë‹µë¥  ê³„ì‚°
            const totalAnswered = stage2Data.correctAnswers + stage2Data.wrongAnswers;
            const progress = Math.round((totalAnswered / stage2Data.questions.length) * 100);
            const accuracy = totalAnswered > 0 ? Math.round((stage2Data.correctAnswers / totalAnswered) * 100) : 0;

            // ê²°ê³¼ í™”ë©´ í‘œì‹œ
            document.getElementById('main-content').style.display = 'none';
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.add('active');

            // ì œëª© ì—…ë°ì´íŠ¸
            resultScreen.querySelector('.result-title').textContent = '2ë‹¨ê³„ í•™ìŠµ ì™„ë£Œ!';

            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('progress-stat').textContent = progress + '%';
            document.getElementById('accuracy-stat').textContent = accuracy + '%';
            document.getElementById('correct-stat').textContent = stage2Data.correctAnswers;
            document.getElementById('wrong-stat').textContent = stage2Data.wrongAnswers;
            document.getElementById('time-stat').textContent = formatTime(elapsedTime);

            // ê²°ê³¼ ì €ì¥
            const score = (accuracy / 100) * 10; // 10ì  ë§Œì ìœ¼ë¡œ í™˜ì‚°
            stageResults.stage2 = {
                correct: stage2Data.correctAnswers,
                wrong: stage2Data.wrongAnswers,
                score: score,
                elapsedTime: elapsedTime,
                wrongQuestions: [] // Stage2ëŠ” í‹€ë¦° ë¬¸ì œ ì¶”ì  ì•ˆ í•¨
            };

            // ë²„íŠ¼ ì—…ë°ì´íŠ¸
            const resultButtons = resultScreen.querySelector('.result-buttons');
            resultButtons.innerHTML = `
                <button class="result-button secondary" onclick="restartStage2()">ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
                <button class="result-button primary" onclick="nextStage3()">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
            `;

            // ë¶€ëª¨ ì°½ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            if (window.parent !== window) {
                window.parent.postMessage({
                    type: 'stage-complete',
                    stage: 2,
                    stageName: 'ì–´íœ˜ í•™ìŠµ',
                    accuracy: accuracy,
                    correctAnswers: stage2Data.correctAnswers,
                    wrongAnswers: stage2Data.wrongAnswers,
                    totalQuestions: stage2Data.questions.length,
                    elapsedTime: elapsedTime,
                    timeRemaining: timeRemaining
                }, '*');
            }
        }

        // 2ë‹¨ê³„ ë‹¤ì‹œ ì‹œì‘
        function restartStage2() {
            // ë³€ìˆ˜ ì´ˆê¸°í™”
            stage2Data.currentQuestionIndex = 0;
            stage2Data.correctAnswers = 0;
            stage2Data.wrongAnswers = 0;
            stage2Data.startTime = Date.now();
            stage2Data.timeRemaining = 240;

            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            initStage2();
        }

        // Stage 3ë¡œ ì´ë™
        function nextStage3() {
            currentStage = 3;
            initStage3();
        }

        // ========== 3ë‹¨ê³„ ë¬¸ì¥ ë…í•´ í•¨ìˆ˜ë“¤ ==========

        // 3ë‹¨ê³„ ì´ˆê¸°í™”
        function initStage3() {
            // ì´ì „ íƒ€ì´ë¨¸ ì •ë¦¬
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }

            // ë³€ìˆ˜ ì´ˆê¸°í™”
            stage3Data.currentQuestionIndex = 0;
            stage3Data.correctAnswers = 0;
            stage3Data.wrongAnswers = 0;
            stage3Data.startTime = Date.now();
            stage3Data.timeRemaining = 100;
            timeRemaining = 100;
            maxTime = 100;

            // ë¬¸ì œ ìƒì„±
            generateStage3Questions();

            // UI ì—…ë°ì´íŠ¸
            updateStage3UI();

            // ì²« ë²ˆì§¸ ë¬¸ì œ í‘œì‹œ
            showStage3Question();

            // íƒ€ì´ë¨¸ ì‹œì‘
            startTimer();
        }

        // 3ë‹¨ê³„ ë¬¸ì œ ìƒì„±
        function generateStage3Questions() {
            stage3Data.questions = [];

            sentenceData.forEach(data => {
                const question = {
                    sentence: data.sentence,
                    question: data.question,
                    correct: data.correctAnswer,
                    options: shuffleArray([
                        data.correctAnswer,
                        ...data.distractors
                    ])
                };
                stage3Data.questions.push(question);
            });

            // Fisher-Yates ì…”í”Œ
            stage3Data.questions = shuffleArray(stage3Data.questions);
        }

        // 3ë‹¨ê³„ UI ì—…ë°ì´íŠ¸
        function updateStage3UI() {
            // í—¤ë” ì—…ë°ì´íŠ¸
            document.querySelector('.subtitle').textContent = '3ë‹¨ê³„: ë¬¸ì¥ ë…í•´ - í•µì‹¬ ì´í•´ë ¥ ê°•í™”';

            // ìŠ¤í…Œì´ì§€ ì¸ë””ì¼€ì´í„° ì—…ë°ì´íŠ¸
            const stageDots = document.querySelectorAll('.stage-dot');
            stageDots[0].classList.remove('active');
            stageDots[0].classList.add('completed');
            stageDots[1].classList.remove('active');
            stageDots[1].classList.add('completed');
            stageDots[2].classList.add('active');

            // ë¬¸ì œ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
            document.getElementById('current-question').textContent = 0;
            document.getElementById('total-questions').textContent = stage3Data.questions.length;

            // ë©”ì¸ ì»¨í…ì¸  ì—…ë°ì´íŠ¸
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = `
                <div class="sentence-container">
                    <div class="sentence-display">
                        <div class="sentence-text" id="sentence-text"></div>
                        <div class="sentence-question" id="sentence-question"></div>
                        <div class="cards-grid" id="cards-grid"></div>
                    </div>
                </div>
            `;

            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            mainContent.style.display = 'block';
        }

        // 3ë‹¨ê³„ ë¬¸ì œ í‘œì‹œ
        function showStage3Question() {
            if (stage3Data.currentQuestionIndex >= stage3Data.questions.length) {
                completeStage3();
                return;
            }

            const question = stage3Data.questions[stage3Data.currentQuestionIndex];

            // ë¬¸ì¥ê³¼ ì§ˆë¬¸ í‘œì‹œ
            document.getElementById('sentence-text').textContent = question.sentence;
            document.getElementById('sentence-question').textContent = `Q. ${question.question}`;

            // ì¹´ìš´í„° ì—…ë°ì´íŠ¸
            document.getElementById('current-question').textContent = stage3Data.currentQuestionIndex + 1;

            // ì¹´ë“œ ìƒì„±
            const cardsGrid = document.getElementById('cards-grid');
            cardsGrid.innerHTML = '';

            question.options.forEach((option, index) => {
                const flipCard = document.createElement('div');
                flipCard.className = 'flip-card';
                flipCard.setAttribute('data-index', index);

                const isCorrect = option === question.correct;

                flipCard.innerHTML = `
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="card-text">${option}</div>
                        </div>
                        <div class="flip-card-back ${isCorrect ? 'correct' : 'incorrect'}">
                            <div>
                                <div class="card-icon">${isCorrect ? 'âœ…' : 'âŒ'}</div>
                                <div class="card-text">${isCorrect ? 'ì •ë‹µ!' : 'ì˜¤ë‹µ'}</div>
                            </div>
                        </div>
                    </div>
                `;

                flipCard.onclick = () => handleStage3Answer(option, question.correct, flipCard);
                cardsGrid.appendChild(flipCard);
            });
        }

        // 3ë‹¨ê³„ ë‹µë³€ ì²˜ë¦¬
        function handleStage3Answer(selected, correct, cardEl) {
            // ëª¨ë“  ì¹´ë“œ ë¹„í™œì„±í™”
            const cards = document.querySelectorAll('.flip-card');
            cards.forEach(card => {
                card.onclick = null;
                card.style.pointerEvents = 'none';
            });

            // ì„ íƒí•œ ì¹´ë“œ ë’¤ì§‘ê¸°
            cardEl.classList.add('flipped');

            if (selected === correct) {
                // ì •ë‹µ
                stage3Data.correctAnswers++;
                addTime(15);
            } else {
                // ì˜¤ë‹µ
                stage3Data.wrongAnswers++;
                subtractTime(20);

                // ì •ë‹µ ì¹´ë“œë„ í‘œì‹œ
                setTimeout(() => {
                    cards.forEach(card => {
                        const cardText = card.querySelector('.flip-card-front .card-text').textContent;
                        if (cardText === correct) {
                            card.classList.add('flipped');
                        }
                    });
                }, 500);
            }

            // ë‹¤ìŒ ë¬¸ì œë¡œ
            setTimeout(() => {
                stage3Data.currentQuestionIndex++;
                showStage3Question();
            }, 1500);
        }

        // 3ë‹¨ê³„ ì™„ë£Œ
        function completeStage3() {
            clearInterval(timerInterval);

            const endTime = Date.now();
            const elapsedTime = Math.floor((endTime - stage3Data.startTime) / 1000);

            // ì§„í–‰ë¥ ê³¼ ì •ë‹µë¥  ê³„ì‚°
            const totalAnswered = stage3Data.correctAnswers + stage3Data.wrongAnswers;
            const progress = Math.round((totalAnswered / stage3Data.questions.length) * 100);
            const accuracy = totalAnswered > 0 ? Math.round((stage3Data.correctAnswers / totalAnswered) * 100) : 0;

            // ê²°ê³¼ í™”ë©´ í‘œì‹œ
            document.getElementById('main-content').style.display = 'none';
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.add('active');

            // ì œëª© ì—…ë°ì´íŠ¸
            resultScreen.querySelector('.result-title').textContent = '3ë‹¨ê³„ í•™ìŠµ ì™„ë£Œ!';

            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('progress-stat').textContent = progress + '%';
            document.getElementById('accuracy-stat').textContent = accuracy + '%';
            document.getElementById('correct-stat').textContent = stage3Data.correctAnswers;
            document.getElementById('wrong-stat').textContent = stage3Data.wrongAnswers;
            document.getElementById('time-stat').textContent = formatTime(elapsedTime);

            // ê²°ê³¼ ì €ì¥
            const score = (accuracy / 100) * 10; // 10ì  ë§Œì ìœ¼ë¡œ í™˜ì‚°
            stageResults.stage3 = {
                correct: stage3Data.correctAnswers,
                wrong: stage3Data.wrongAnswers,
                score: score,
                elapsedTime: elapsedTime,
                wrongQuestions: [] // Stage3ëŠ” í‹€ë¦° ë¬¸ì œ ì¶”ì  ì•ˆ í•¨
            };

            // ë²„íŠ¼ ì—…ë°ì´íŠ¸
            const resultButtons = resultScreen.querySelector('.result-buttons');
            resultButtons.innerHTML = `
                <button class="result-button secondary" onclick="restartStage3()">ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
                <button class="result-button primary" onclick="initStage4()">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
            `;

            // ë¶€ëª¨ ì°½ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            if (window.parent !== window) {
                window.parent.postMessage({
                    type: 'stage-complete',
                    stage: 3,
                    stageName: 'ë¬¸ì¥ ë…í•´',
                    accuracy: accuracy,
                    correctAnswers: stage3Data.correctAnswers,
                    wrongAnswers: stage3Data.wrongAnswers,
                    totalQuestions: stage3Data.questions.length,
                    elapsedTime: elapsedTime,
                    timeRemaining: timeRemaining
                }, '*');
            }
        }

        // 3ë‹¨ê³„ ë‹¤ì‹œ ì‹œì‘
        function restartStage3() {
            // ë³€ìˆ˜ ì´ˆê¸°í™”
            stage3Data.currentQuestionIndex = 0;
            stage3Data.correctAnswers = 0;
            stage3Data.wrongAnswers = 0;
            stage3Data.startTime = Date.now();
            stage3Data.timeRemaining = 100;

            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            initStage3();
        }

        // ================== 4ë‹¨ê³„: OXí€´ì¦ˆ ==================
        const stage4Data = {
            questions: [],
            currentQuestionIndex: 0,
            correctAnswers: 0,
            wrongAnswers: 0,
            wrongQuestions: [],  // í‹€ë¦° ë¬¸ì œ ì €ì¥
            startTime: null,
            timeRemaining: 120
        };

        // OXí€´ì¦ˆ ë°ì´í„°
        const oxQuizData = [
    { question: "'ê·¸'ëŠ” 'ë‚˜'ì—ê²Œ ìˆ ì„ ë”°ë¼ ì£¼ë©° ìì‹ ì˜ ì‹ ì„¸ë¥¼ í•œíƒ„í•˜ê¸° ì‹œì‘í–ˆë‹¤.", answer: false, explanation: "ìˆ ì„ ë”°ë¼ ì¤€ ì£¼ì²´ëŠ” 'ë‚˜'ì´ì§€ 'ê·¸'ê°€ ì•„ë‹™ë‹ˆë‹¤. í–‰ìœ„ì˜ ì£¼ì²´ë¥¼ ë°”ê¾¸ì–´ ì‚¬ì‹¤ ê´€ê³„ë¥¼ ì™œê³¡í–ˆìŠµë‹ˆë‹¤." },
    { question: "'ê·¸'ì˜ ê³ í–¥ ë§ˆì„ ì‚¬ëŒë“¤ì€ ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ë“±ì¥ ì´í›„ì—ë„ ì—­ë‘”í†  ë•ë¶„ì— í‰í™”ë¡­ê²Œ ì‚´ ìˆ˜ ìˆì—ˆë‹¤.", answer: false, explanation: "ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ë“±ì¥ ì´í›„, ë§ˆì„ ì‚¬ëŒë“¤ì˜ ì‚¶ì€ ìˆ˜íƒˆë¡œ ì¸í•´ ì™„ì „íˆ íŒŒê´´ë˜ì—ˆìŠµë‹ˆë‹¤." },
    { question: "'ê·¸'ì˜ ê°€ì¡±ì€ ì„œê°„ë„ì˜ ìƒí™œì´ ë„ˆë¬´ ë¹„ì°¸í–ˆê¸° ë•Œë¬¸ì— ê²°êµ­ ë¿”ë¿”ì´ í©ì–´ì§€ê³  ë§ì•˜ë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ëŠ” ì¼ë³¸ì˜ íƒ„ê´‘ê³¼ ì² ê³µì¥ì—ì„œ ì¼í•˜ë©° íƒ€ì§€ë¥¼ ë– ëŒì•˜ë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ëŠ” íí—ˆê°€ ëœ ê³ í–¥ì˜ ëª¨ìŠµì—ì„œ ì•ìœ¼ë¡œì˜ í¬ë§ì„ ë°œê²¬í•˜ê³  ì„œìš¸ë¡œ í–¥í•˜ëŠ” ê¸¸ì´ì—ˆë‹¤.", answer: false, explanation: "'ê·¸'ëŠ” íí—ˆê°€ ëœ ê³ í–¥ì—ì„œ 'ë¬´ë¤', 'í•´ê³¨'ê³¼ ê°™ì€ ì ˆë§ê³¼ ì£½ìŒì˜ ì´ë¯¸ì§€ë¥¼ ë– ì˜¬ë ¸ìŠµë‹ˆë‹¤." },
    { question: "ì„œìˆ ì 'ë‚˜'ëŠ” 'ê·¸'ì™€ í•¨ê»˜ ì„œê°„ë„ë¡œ ê°€ì„œ ê·¸ì˜ ë¶€ëª¨ë‹˜ ì‚°ì†Œë¥¼ ëŒë³´ì•˜ë‹¤.", answer: false, explanation: "'ë‚˜'ëŠ” ê¸°ì°¨ ì•ˆì—ì„œ 'ê·¸'ì˜ ì´ì•¼ê¸°ë¥¼ ë“£ê³  ìˆì„ ë¿, ê·¸ì˜ ê³¼ê±°(ë‚´í™”)ì— ì§ì ‘ ì°¸ì—¬í•œ ì‚¬ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤." },
    { question: "ì„œìˆ ì 'ë‚˜'ëŠ” 'ê·¸'ì˜ ëˆˆë¬¼ì—ì„œ ì‹ë¯¼ì§€ ì¡°ì„ ì˜ ë¹„ì°¸í•œ í˜„ì‹¤ì„ ë– ì˜¬ë ¸ë‹¤.", answer: true, explanation: "" },
    { question: "'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ì •ì¢…ì„ ë”°ë¼ ì¤€ ê²ƒì€ ê·¸ì˜ ì´ì•¼ê¸°ë¥¼ ê·¸ë§Œ ë“£ê³  ì‹¶ë‹¤ëŠ” ì˜ì‚¬ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•¨ì´ì—ˆë‹¤.", answer: false, explanation: "'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ìˆ ì„ ì¤€ ê²ƒì€ ê·¸ì˜ ë¹„ê·¹ì ì¸ ì´ì•¼ê¸°ì— ê³µê°í•˜ê³  ì—°ë¯¼ì„ ëŠê»´ ìœ„ë¡œí•˜ê¸° ìœ„í•œ í–‰ë™ì…ë‹ˆë‹¤." },
    { question: "'ê·¸'ì˜ ê³ í–¥ ë§ˆì„ì€ 9ë…„ ë§Œì— ì‚¬ëŒì´ ì‚´ì§€ ì•ŠëŠ” íí—ˆë¡œ ë³€í•´ ìˆì—ˆë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ì˜ ì–´ë¨¸ë‹ˆëŠ” ì„œê°„ë„ë¡œ ì´ì£¼í•œ ì§í›„ì— ëŒì•„ê°€ì…¨ê³ , ê·¸ í›„ì— ì•„ë²„ì§€ê°€ ëŒì•„ê°€ì…¨ë‹¤.", answer: false, explanation: "ì•„ë²„ì§€ê°€ ë¨¼ì € ëŒì•„ê°€ì…¨ê³ , ê·¸ í›„ì— ì–´ë¨¸ë‹ˆê°€ ëŒì•„ê°€ì…¨ìŠµë‹ˆë‹¤. ì‚¬ê±´ì˜ ì„ í›„ ê´€ê³„ë¥¼ ë’¤ì§‘ì—ˆìŠµë‹ˆë‹¤." },
    { question: "ì¤‘ê°„ ì†Œì‘ì¸ì€ ì‹¤ì œë¡œ ë†ì‚¬ë¥¼ ì§“ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤ì‘ì¸ë“¤ì„ ì°©ì·¨í•˜ì—¬ ì´ìµì„ ì–»ì—ˆë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ê°€ ê³ í–¥ì—ì„œ ë§Œë‚œ ì˜› ì—¬ì¸ì€ ìœ ê³½ì— íŒ”ë ¤ ê°”ë‹¤ê°€ ëŒì•„ì™€ í˜„ì¬ëŠ” 'ê·¸'ì™€ í•¨ê»˜ ì‚´ê³  ìˆë‹¤.", answer: false, explanation: "ì˜› ì—¬ì¸ì´ ìœ ê³½ì— ë‹¤ë…€ì˜¨ ê²ƒì€ ì‚¬ì‹¤ì´ì§€ë§Œ, 'ê·¸'ì™€ í•¨ê»˜ ì‚°ë‹¤ëŠ” ë‚´ìš©ì€ ì—†ìŠµë‹ˆë‹¤." },
    { question: "'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼ì€ ì¡°ì„ , ì¤‘êµ­, ì¼ë³¸ì„ ë– ëŒì•„ë‹¤ë‹Œ ê·¸ì˜ ìœ ë‘ ìƒí™œì„ ì•”ì‹œí•œë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ì˜ ì•„ë²„ì§€ëŠ” 'ê·¸'ì—ê²Œ 'í° ì£½ í•œ ëª¨ê¸ˆ ëª» ìì…¨êµ¬ë§ˆ.'ë¼ëŠ” ìœ ì–¸ì„ ë‚¨ê¸°ê³  ëŒì•„ê°€ì…¨ë‹¤.", answer: false, explanation: "í•´ë‹¹ ëŒ€ì‚¬ëŠ” 'ê·¸'ê°€ 'ë‚˜'ì—ê²Œ ìì‹ ì˜ ì–´ë¨¸ë‹ˆê°€ ëŒì•„ê°€ì‹¤ ë•Œì˜ ìƒí™©ì„ ì„¤ëª…í•˜ëŠ” ë§ì…ë‹ˆë‹¤." },
    { question: "'ê·¸'ëŠ” ì¼ë³¸ì—ì„œì˜ ë…¸ë™ ìƒí™œì„ í†µí•´ ë§ì€ ëˆì„ ëª¨ì•„ ê³ í–¥ìœ¼ë¡œ ê¸ˆì˜í™˜í–¥í•˜ëŠ” ê¸¸ì´ì—ˆë‹¤.", answer: false, explanation: "ì¼ë³¸ì—ì„œì˜ ì‚¶ì€ 'ë°©íƒ•í•´ì¡Œë‹¤', 'ëˆì„ ëª¨ì„ ìˆ˜ ì—†ì—ˆë‹¤'ê³  ì„œìˆ ë˜ë©°, ê³ í–¥ì€ íí—ˆê°€ ë˜ì—ˆìŠµë‹ˆë‹¤." },
    { question: "'ë‚˜'ëŠ” 'ê·¸'ì˜ ì´ì•¼ê¸°ì— ì ì°¨ ë™ì •ì‹¬ê³¼ ì—°ë¯¼ì„ ëŠë¼ê²Œ ëœë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ì˜ ê³ í–¥ ë§ˆì„ì´ íí—ˆê°€ ëœ ê²ƒì€ ë§ˆì„ ì‚¬ëŒë“¤ë¼ë¦¬ì˜ ë¶ˆí™” ë•Œë¬¸ì´ì—ˆë‹¤.", answer: false, explanation: "ë§ˆì„ì´ íŒŒê´´ëœ ê·¼ë³¸ì ì¸ ì›ì¸ì€ ë™ì–‘ ì²™ì‹ íšŒì‚¬ë¥¼ ì•ì„¸ìš´ ì¼ì œì˜ í† ì§€ ìˆ˜íƒˆ ì •ì±…ì…ë‹ˆë‹¤." },
    { question: "'ê·¸'ê°€ ë¶€ë¥´ëŠ” ë…¸ë˜ì˜ ë‚´ìš©ì€ ë•…ì„ ë˜ì°¾ê³  ì¹œêµ¬ë“¤ê³¼ ì¬íšŒí•˜ëŠ” í¬ë§ì ì¸ ë¯¸ë˜ë¥¼ ë‹´ê³  ìˆë‹¤.", answer: false, explanation: "ë…¸ë˜ì˜ ë‚´ìš©ì€ ì „í† ëŠ” ì‹ ì‘ë¡œê°€ ë˜ê³  ì¹œêµ¬ëŠ” ê°ì˜¥ì— ê°€ëŠ” ë“± ëª¨ë“  ê²ƒì„ ìƒì‹¤í•˜ëŠ” ì ˆë§ì  í˜„ì‹¤ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤." },
    { question: "'ê·¸'ëŠ” ê³ í–¥ì„ ë– ë‚˜ ì„œê°„ë„ë¡œ ê°ˆ ë•Œë§Œ í•´ë„ ì‚´ê¸° ì¢‹ì•„ì§ˆ ê²ƒì´ë¼ëŠ” ê¸°ëŒ€ë¥¼ ê°€ì§€ê³  ìˆì—ˆë‹¤.", answer: true, explanation: "" },
    { question: "'ê·¸'ëŠ” ê³ í–¥ì—ì„œ ë§Œë‚œ ì˜› ì—¬ì¸ê³¼ ê²°í˜¼í•˜ì—¬ ìƒˆë¡œìš´ ì‚¶ì„ ì‹œì‘í•˜ê¸°ë¡œ ì•½ì†í–ˆë‹¤.", answer: false, explanation: "'ê·¸'ëŠ” ì˜› ì—¬ì¸ê³¼ ë§Œë‚˜ ì„œë¡œì˜ ì²˜ì§€ë¥¼ í•œíƒ„í–ˆì„ ë¿, ê²°í˜¼ì„ ì•½ì†í•˜ëŠ” ë“± ìƒˆë¡œìš´ ë¯¸ë˜ë¥¼ ê¸°ì•½í•˜ëŠ” ì¼ì€ ì—†ì—ˆìŠµë‹ˆë‹¤." }
        ];

        // 4ë‹¨ê³„ ì´ˆê¸°í™”
        function initStage4() {
            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            // ê¸°ì¡´ íƒ€ì´ë¨¸ ì •ë¦¬
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            currentStage = 4;

            // ë¬¸ì œ ëœë¤ ì…”í”Œ
            stage4Data.questions = [...oxQuizData];
            for (let i = stage4Data.questions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [stage4Data.questions[i], stage4Data.questions[j]] = [stage4Data.questions[j], stage4Data.questions[i]];
            }

            stage4Data.currentQuestionIndex = 0;
            stage4Data.correctAnswers = 0;
            stage4Data.wrongAnswers = 0;
            stage4Data.wrongQuestions = [];  // í‹€ë¦° ë¬¸ì œ ì´ˆê¸°í™”
            stage4Data.startTime = Date.now();
            timeRemaining = stage4Data.timeRemaining;
            maxTime = stage4Data.timeRemaining;  // maxTime ì„¤ì •

            // í—¤ë” ì—…ë°ì´íŠ¸
            document.querySelector('.title').textContent = 'í˜„ì§„ê±´ <ê³ í–¥>';
            document.querySelector('.subtitle').textContent = '4ë‹¨ê³„: OXí€´ì¦ˆ';
            document.querySelector('.stage-indicator').textContent = 'Stage 4 / 4';
            document.querySelector('.question-counter').textContent = `ë¬¸ì œ: 1/${stage4Data.questions.length}`;

            startTimer();
            showStage4Question();
        }

        // 4ë‹¨ê³„ ë¬¸ì œ í‘œì‹œ
        function showStage4Question() {
            if (stage4Data.currentQuestionIndex >= stage4Data.questions.length) {
                completeStage4();
                return;
            }

            const question = stage4Data.questions[stage4Data.currentQuestionIndex];
            const mainContent = document.getElementById('main-content');

            // ë¬¸ì œ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
            document.querySelector('.question-counter').textContent =
                `ë¬¸ì œ: ${stage4Data.currentQuestionIndex + 1}/${stage4Data.questions.length}`;

            // OX ì¹´ë“œ í˜•ì‹ìœ¼ë¡œ í‘œì‹œ
            mainContent.innerHTML = `
                <div class="stage4-container">
                    <div class="question-panel">
                        <h2 class="question-text">${question.question}</h2>
                        <button class="text-review-btn" onclick="showTextModal()">
                            <span>ğŸ“–</span> ì§€ë¬¸ í™•ì¸
                        </button>
                    </div>
                    <div class="ox-cards-container">
                        <div class="flip-card ox-card" onclick="handleOXAnswer(true, ${question.answer}, this)">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <div class="card-symbol">O</div>
                                </div>
                                <div class="flip-card-back ${question.answer === true ? 'correct' : 'incorrect'}">
                                    <div class="result-icon">${question.answer === true ? 'âœ“' : 'âœ—'}</div>
                                </div>
                            </div>
                        </div>
                        <div class="flip-card ox-card" onclick="handleOXAnswer(false, ${question.answer}, this)">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <div class="card-symbol">X</div>
                                </div>
                                <div class="flip-card-back ${question.answer === false ? 'correct' : 'incorrect'}">
                                    <div class="result-icon">${question.answer === false ? 'âœ“' : 'âœ—'}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    ${question.explanation ? `<div class="explanation-text" id="explanation" style="display:none;">${question.explanation}</div>` : ''}
                </div>
            `;

            // ìŠ¤íƒ€ì¼ ì¶”ê°€
            if (!document.querySelector('#stage4-styles')) {
                const styles = document.createElement('style');
                styles.id = 'stage4-styles';
                styles.textContent = `
                    .stage4-container {
                        padding: 30px;
                        max-width: 900px;
                        margin: 0 auto;
                    }

                    .question-panel {
                        background: white;
                        border-radius: 12px;
                        padding: 30px;
                        margin-bottom: 40px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                        position: relative;
                    }

                    .question-text {
                        font-size: 24px;
                        line-height: 1.6;
                        color: #2c3e50;
                        margin: 0 0 20px 0;
                    }

                    .text-review-btn {
                        background: #3498db;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 6px;
                        cursor: pointer;
                        font-size: 16px;
                        display: inline-flex;
                        align-items: center;
                        gap: 8px;
                        transition: background 0.3s;
                    }

                    .text-review-btn:hover {
                        background: #2980b9;
                    }

                    .ox-cards-container {
                        display: flex;
                        justify-content: center;
                        gap: 60px;
                        margin-bottom: 30px;
                    }

                    .ox-card {
                        width: 200px;
                        height: 200px;
                    }

                    .ox-card .flip-card-front {
                        background: white;
                        border: 3px solid #e9ecef;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .card-symbol {
                        font-size: 80px;
                        font-weight: bold;
                        color: #3498db;
                    }

                    .ox-card .flip-card-back.correct {
                        background: #27ae60;
                    }

                    .ox-card .flip-card-back.incorrect {
                        background: #e74c3c;
                    }

                    .ox-card .result-icon {
                        font-size: 80px;
                        color: white;
                    }

                    .explanation-text {
                        background: #fff3cd;
                        border: 1px solid #ffc107;
                        border-radius: 8px;
                        padding: 15px;
                        margin-top: 20px;
                        font-size: 16px;
                        color: #856404;
                        text-align: center;
                    }

                    /* í…ìŠ¤íŠ¸ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
                    .text-modal-overlay {
                        position: fixed;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background: rgba(0, 0, 0, 0.7);
                        z-index: 10000;
                        display: none;
                    }

                    .text-modal-overlay.active {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .text-modal {
                        background: white;
                        border-radius: 12px;
                        width: 90%;
                        max-width: 800px;
                        max-height: 80vh;
                        display: flex;
                        flex-direction: column;
                    }

                    .text-modal-header {
                        padding: 20px;
                        border-bottom: 1px solid #e9ecef;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    }

                    .text-modal-title {
                        font-size: 20px;
                        font-weight: bold;
                        color: #2c3e50;
                    }

                    .text-modal-close {
                        background: none;
                        border: none;
                        font-size: 24px;
                        cursor: pointer;
                        color: #7f8c8d;
                        padding: 0;
                        width: 30px;
                        height: 30px;
                    }

                    .text-modal-body {
                        padding: 20px;
                        overflow-y: auto;
                        flex: 1;
                        font-size: 16px;
                        line-height: 1.8;
                        color: #2c3e50;
                    }

                    @media (max-width: 768px) {
                        /* Stage 4 ëª¨ë°”ì¼ ìµœì í™” */
                        .ox-cards-container {
                            gap: 20px;  /* ê°„ê²© ë” ì¤„ì„ */
                        }

                        .ox-card {
                            width: 120px;  /* ì¹´ë“œ í¬ê¸° ë” ì‘ê²Œ */
                            height: 120px;
                        }

                        .card-symbol, .ox-card .result-icon {
                            font-size: 45px;  /* ì‹¬ë³¼ í¬ê¸° ì¶•ì†Œ */
                        }

                        .question-text {
                            font-size: 16px;  /* ì§ˆë¬¸ í…ìŠ¤íŠ¸ ë” ì‘ê²Œ */
                            line-height: 1.4;  /* ì¤„ ê°„ê²© ì¡°ì • */
                        }
                    }
                `;
                document.head.appendChild(styles);
            }
        }

        // OX ë‹µë³€ ì²˜ë¦¬
        window.handleOXAnswer = function(selected, correct, cardEl) {
            // ëª¨ë“  ì¹´ë“œ ë¹„í™œì„±í™”
            const cards = document.querySelectorAll('.ox-card');
            cards.forEach(card => {
                card.onclick = null;
                card.style.pointerEvents = 'none';
            });

            // ì„ íƒí•œ ì¹´ë“œ ë’¤ì§‘ê¸°
            cardEl.classList.add('flipped');

            const currentQuestion = stage4Data.questions[stage4Data.currentQuestionIndex];

            if (selected === correct) {
                // ì •ë‹µ
                stage4Data.correctAnswers++;
                addTime(10);
            } else {
                // ì˜¤ë‹µ - í‹€ë¦° ë¬¸ì œ ì €ì¥
                stage4Data.wrongAnswers++;
                subtractTime(15);

                // í‹€ë¦° ë¬¸ì œ ë°ì´í„° ì €ì¥
                stage4Data.wrongQuestions.push({
                    question: currentQuestion.question,
                    userAnswer: selected ? 'O' : 'X',
                    correctAnswer: correct ? 'O' : 'X',
                    explanation: currentQuestion.explanation || null
                });

                // ì •ë‹µ ì¹´ë“œë„ í‘œì‹œ
                setTimeout(() => {
                    cards.forEach(card => {
                        const symbol = card.querySelector('.card-symbol').textContent;
                        const isCorrectCard = (symbol === 'O' && correct === true) || (symbol === 'X' && correct === false);
                        if (isCorrectCard) {
                            card.classList.add('flipped');
                        }
                    });
                }, 300);

                // ì„¤ëª… í‘œì‹œ
                const explanation = document.getElementById('explanation');
                if (explanation) {
                    setTimeout(() => {
                        explanation.style.display = 'block';
                    }, 600);
                }
            }

            // ë‹¤ìŒ ë¬¸ì œë¡œ
            setTimeout(() => {
                stage4Data.currentQuestionIndex++;
                showStage4Question();
            }, 2000);
        };

        // í…ìŠ¤íŠ¸ ëª¨ë‹¬ í‘œì‹œ
        window.showTextModal = function() {
            // ëª¨ë‹¬ì´ ì—†ìœ¼ë©´ ìƒì„±
            if (!document.getElementById('text-modal-overlay')) {
                const modalHTML = `
                    <div id="text-modal-overlay" class="text-modal-overlay">
                        <div class="text-modal">
                            <div class="text-modal-header">
                                <div class="text-modal-title">ì›ë¬¸ í™•ì¸</div>
                                <button class="text-modal-close" onclick="closeTextModal()">âœ•</button>
                            </div>
                            <div class="text-modal-body" id="text-modal-content"></div>
                        </div>
                    </div>
                `;
                document.body.insertAdjacentHTML('beforeend', modalHTML);
            }

            // ì§„ì§œ ì›ë¬¸ í‘œì‹œ
            const originalText = `ëŒ€êµ¬ì—ì„œ ì„œìš¸ë¡œ ì˜¬ë¼ì˜¤ëŠ” ì°¨ì¤‘ì—ì„œ ìƒê¸´ ì¼ì´ë‹¤. ë‚˜ëŠ” ë‚˜ì™€ ë§ˆì£¼ ì•‰ì€ ê·¸ë¥¼ ë§¤ìš° í¥ë¯¸ìˆê²Œ ë°”ë¼ë³´ê³  ë˜ ë°”ë¼ë³´ì•˜ë‹¤. ë‘ë£¨ë§ˆê¸° ê²©ìœ¼ë¡œ ê¸°ëª¨ë…¸ë¥¼ ë‘˜ë €ê³ , ê·¸ ì•ˆì—ì„œ ì˜¥ì–‘ëª© ì €ê³ ë¦¬ê°€ ë‚´ì–´ ë³´ì´ë©° ì•„ë«ë„ë¦¬ì—” ì¤‘êµ­ì‹ ë°”ì§€ë¥¼ ì…ì—ˆë‹¤. ê·¸ê²ƒì€ ê·¸ë„¤ë“¤ì´ í”íˆ ì…ëŠ” ìœ ì§€ ëª¨ì–‘ìœ¼ë¡œ ë²ˆì§ˆë²ˆì§ˆí•œ ì•”ê°ˆìƒ‰ í”¼ë¥™ìœ¼ë¡œ ì§€ì€ ê²ƒì´ì—ˆë‹¤. ê·¸ë¦¬ê³  ë°œì€ ê°ë°œì„ í•˜ì˜€ëŠ”ë° ì§šì‹ ì„ ì‹ ì—ˆê³ , ê³ ë¬´ê°€ë¦¬ë¡œ ê¹ì€ ë¨¸ë¦¬ì—” ëª¨ìë„ ì“°ì§€ ì•Šì•˜ë‹¤. ìš°ì—°íˆ ì´ë”°ê¸ˆ ê¸°ë¬˜í•œ ëª¨ì„ì„ ê¾¸ë¯¼ ê²ƒì´ë‹¤. ìš°ë¦¬ê°€ ìë¦¬ë¥¼ ì¡ì€ ì°»ê°„ì—ëŠ” ê³µêµë¡­ê²Œ ì„¸ ë‚˜ë¼ ì‚¬ëŒì´ ë‹¤ ëª¨ì˜€ìœ¼ë‹ˆ, ë‚´ ì˜†ì—ëŠ” ì¤‘êµ­ ì‚¬ëŒì´ ê¸°ëŒ€ì—ˆë‹¤. ê·¸ì˜ ì˜†ì—ëŠ” ì¼ë³¸ ì‚¬ëŒì´ ì•‰ì•„ ìˆì—ˆë‹¤. ê·¸ëŠ” ë™ì–‘ ì‚¼êµ­ì˜·ì„ í•œëª¸ì— ê°ì€ ë³´ëŒì´ ìˆì–´ ì¼ë³¸ë§ë„ ê³§ì˜ ì² ì²  ëŒ€ì´ê±°ë‹ˆì™€ ì¤‘êµ­ë§ì—ë„ ê·¸ë¦¬ ì„œíˆ´ì§€ ì•Šì€ ëª¨ì–‘ì´ì—ˆë‹¤.

"ê³ ê¼¬ë§ˆë° ì˜¤ì´ë° ë°ìŠ¤ê¹Œ?(ì–´ë””ê¹Œì§€ ê°€ì‹­ë‹ˆê¹Œ?)"í•˜ê³  ì²«ë§ˆë””ë¥¼ ê±¸ë”ë‹ˆë§Œ, ë„ê¼¬ê°€ ì–´ë– ë‹ˆ, ì˜¤ì‚¬ê¹Œê°€ ì–´ë– ë‹ˆ, ì¡°ì„  ì‚¬ëŒì€ ê³ ì¶”ë¥¼ ë”ì°ì´ ë§ì´ ë¨¹ëŠ”ë‹¤ëŠ” ë‘¥, ì¼ë³¸ ìŒì‹ì€ ë„ˆë¬´ ì‹±ê±°ì›Œì„œ ì²˜ìŒì—ëŠ” ì†ì´ ë‰˜ì—¿ê±¸ë‹¤ëŠ” ë‘¥, íš¡ì„¤ìˆ˜ì„¤ ì§€ê»„ì´ë‹¤ê°€ ì¼ë³¸ ì‚¬ëŒì´ ì—„ì§€ì™€ ê²€ì§€ ì†ê°€ë½ìœ¼ë¡œ ì§§ê²Œ ëŠì€ ê¼¿ê¼¿í•œ ìœ—ìˆ˜ì—¼ì„ ë¹„ë¹„ë©´ì„œ ë§ˆì§€ëª»í•´ ê¹Œë•ê¹Œë•í•˜ëŠ” ê³ ê°œì™€ í•¨ê»˜ "ì†Œë°ìŠ¤ê¹Œ(ê·¸ë ‡ìŠµë‹ˆê¹Œ)"ë€ í•œ ë§ˆë””ë¡œ ì½”ëŒ€ë‹µì„ í•  ë”°ë¦„ì´ìš”, ì˜ ë°›ì•„ ì£¼ì§€ ì•Šìœ¼ë§¤, ê·¸ëŠ” ë˜ ì¤‘êµ­ì¸ì„ ë¶™ë“¤ê³ ì„œ ì‹¤ë‘ì´ë¥¼ í•˜ì˜€ë‹¤. "ë‹ˆìƒë‚˜ì—´ì·¨â€¦â€¦" "ë‹ˆì‹±ì„¬ë§ˆ"í•˜ê³  ë¤ë²¼ ë³´ì•˜ìœ¼ë‚˜ ì¤‘êµ­ì¸ ë˜í•œ ê·¸ ê¸°ë¦„ë‚€ ëšœìš°í•œ ì–¼êµ´ì— ìˆ˜ìˆ˜ê»˜ë¼ ê°™ì€ ì›ƒìŒì„ ë¨ ë¿ì´ìš” ë³„ë¡œ ëŒ€êµ¬ë¥¼ í•˜ì§€ ì•Šì•˜ê±´ë§Œ, ê·¸ë˜ë„ ë¬´ì–´ë¼ê³  ì—°í•´ ì›…ì–¼ê±°ë¦¬ë©´ì„œ ë‚˜ë¥¼ ë³´ê³  ì›ƒì–´ ë³´ì˜€ë‹¤.

ê·¸ê²ƒì€ ë§ˆì¹˜ ì§ìŠ¹ì„ ë†€ë¦¬ëŠ” ìš”ìˆ ì¥ì´ê°€ êµ¬ê²½ê¾¼ì„ ë°”ë¼ë³¼ ë•Œì²˜ëŸ¼ í›Œë¥­í•œ ì¬ì£¼ë¥¼ ê°ˆì±„í•´ ë‹¬ë¼ëŠ” ì›ƒìŒì´ì—ˆë‹¤. ë‚˜ëŠ” ìŒ€ìŒ€í•˜ê²Œ ê·¸ì˜ ì‹œì„ ì„ í”¼í•´ ë²„ë ¸ë‹¤. ê·¸ ì£¼ì ëŒ€ëŠ” ê¼´ì´ ì–´ì¤ì§€ ì•Šê³  ë°‰ì‚´ìŠ¤ëŸ¬ì› ë‹¤. ê·¸ëŠ” ì ê¹ ì…ì„ ë‹«ì¹˜ê³  ë¬´ë£Œí•œ ë“¯ì´ ë¨¸ë¦¬ë¥¼ ë•ì–µë•ì–µ ê¸ê¸°ë„ í•˜ë©°, ì†í†±ì„ ì´ë¡œ ë¬¼ì–´ëœ¯ê¸°ë„ í•˜ê³ , ë©€ê±°ë‹ˆ ì°½ ë°–ì„ ë‚´ë‹¤ë³´ê¸°ë„ í•˜ë‹¤ê°€, ì•”ë§Œí•´ë„ ì¤‘ì ˆëŒ€ì§€ ì•Šê³ ëŠ” ëª» ì°¸ê² ë˜ì§€ ë¬¸ë“ ë‚˜ì—ê²Œë¡œ í–¥í•˜ë©°, "ì–´ë””êº¼ì • ê°€ëŠ” ê¸°ì˜¤?"ë¼ê³  ê²½ìƒë„ ì‚¬íˆ¬ë¦¬ë¡œ ë§ì„ ë¶™ì¸ë‹¤.

"ì„œìš¸ê¹Œì§€ ê°€ìš”."

"ê·¸ëŸ°ê¸°ì˜¤. ì°¸ ë°˜ê°‘êµ¬ë§ˆ. ë‚˜ë„ ì„œìš¸êº¼ì • ê°€ëŠ”ë°. ê·¸ëŸ¬ë©´ ìš°ë¦¬ ë™í–‰ì´ ë˜ê² êµ¬ë§ˆ."

ë‚˜ëŠ” ì´ ì§€ë‚˜ì¹˜ê²Œ ë°˜ê°€ì™€í•˜ëŠ” ë§ì”¨ì— ëŒ€í•˜ì—¬ ë¬´ì–´ë¼ê³  ëŒ€ë‹µí•  ë§ë„ ì—†ê³ , ë˜ êµ³ì´ ëŒ€ë‹µí•˜ê¸°ë„ ì‹«ê¸°ì— ë¤ë¤íˆ ì…ì„ ë‹«ì³ ë²„ë ¸ë‹¤.

"ì„œìš¸ì— ì˜¤ë˜ ì‚´ì•˜ëŠ”ê¸°ìš”?" ê·¸ëŠ” ë˜ ë¬¼ì—ˆë‹¤.

"ìœ¡ì¹ ë…„ì´ë‚˜ ë©ë‹ˆë‹¤." ì¡°ê¸ˆ ì„±ê°€ì‹œë‹¤ ì‹¶ì—ˆìœ¼ë˜, ëŒ€ê¾¸ ì•Šì„ ìˆ˜ë„ ì—†ì—ˆë‹¤.

"ì—ì´êµ¬, ì˜¤ë˜ ì‚´ì•˜êµ¬ë§ˆ, ë‚˜ëŠ” ì²˜ìŒê¸¸ì¸ë° ìš°ë¦¬ ê°™ì€ ë§‰ë²Œì´êµ°ì´ ì°¨ë¥¼ ë‚´ë ¤ì„œ ì–´ë””ë¡œ ì°¾ì•„ê°€ì•¼ ë˜ê² ëŠ”ê¸°ìš”? ì¼ë³¸ìœ¼ë¡œ ë§í•˜ë©´ ê¸°ì „ì•¼ë„ ê°™ì€ ê²ƒì´ ìˆëŠ”ê¸°ì˜¤?"

í•˜ê³  ê·¸ëŠ” ë‹µë‹µí•œ ì œ ì‹ ì„¸ë¥¼ ìƒê°í–ˆë˜ì§€ ì°¡ê·¸ë ¤ ë³´ì•˜ë‹¤. ê·¸ë•Œ ë‚˜ëŠ” ê·¸ì˜ ì–¼êµ´ì´ ì›ƒê¸°ë³´ë‹¤ ì°¡ê·¸ë¦¬ê¸°ì— ê°€ì¥ ì ë‹¹í•œ ì–¼êµ´ì„ì„ ë°œê²¬í•˜ì˜€ë‹¤. êµ°ë°êµ°ë° ì°¢ì–´ì§„ ê²…ì„±ë“œë­‡í•œ ëˆˆì¹ì´ ì˜¬ì˜¬ì´ ì¼ì–´ì„œë©°, ì•„ë˜ë¡œ ì¶• ì²˜ì§€ëŠ” ì„œìŠ¬ì— ì–‘ë¯¸ê°„ì—ëŠ” ì—¬ëŸ¬ ê°€ë‹¥ ì£¼ë¦„ì´ ì¡íˆê³ , ê´‘ëŒ€ë¼ˆ ìœ„ë¡œ ëº¨ì‚´ì´ ì‹¤ë£©ì‹¤ë£© ë³´ì´ì ë‘ ë³¼ì€ ìª½ ë¹¨ì•„ë“ ë‹¤. ì…ì€ ì†Œíƒœë‚˜ ë¨¹ì€ ê²ƒì²˜ëŸ¼ ì™¼í¸ìœ¼ë¡œ ì‚ëš¤ì–´ì§€ê²Œ ì°¢ì–´ ì˜¬ë¼ê°€ê³ , ì£„ë˜ ëˆˆì—” ëˆˆë¬¼ì´ ê´¸ ë“¯ ì‚¼ì‹­ ì„¸ë°–ì— ì•ˆë˜ì–´ ë³´ì´ëŠ” ê·¸ ì–¼êµ´ì´ 10ë…„ ê°€ëŸ‰ì€ ëŠ™ì–´ì§„ ë“¯í•˜ì˜€ë‹¤. ë‚˜ëŠ” ê·¸ ì‹ ì‚°ìŠ¤ëŸ¬ìš´ í‘œì •ì— ì–¼ë§ˆì¯¤ ê°ë™ì´ ë˜ì–´ì„œ ê·¸ì—ê²Œ ëŒ€í•œ ë°˜ê°ì´ í’€ë ¤ì§€ëŠ” ë“¯í•˜ì˜€ë‹¤.

"ê¸€ì„ìš”, ì•„ë§ˆ ë…¸ë™ ìˆ™ë°•ì†Œë€ ê²ƒì´ ìˆì§€ìš”."

ë…¸ë™ ìˆ™ë°•ì†Œì— ëŒ€í•´ì„œ ë¯¸ì£¼ì•Œê³ ì£¼ì•Œ ë¬»ê³  ë‚˜ì„œ,

"ì‹œë°© ê°€ë©´ ë¬´ìŠ¨ ì¼ìë¦¬ë¥¼ êµ¬í•˜ê² ëŠ”ê¸°ì˜¤?"ë¼ê³  ê·¸ëŠ” ë§¤ë‹¬ë¦¬ëŠ” ë“¯ì´ ë˜ ê½¤ì³¤ë‹¤.

"ê¸€ì„ìš”, ë¬´ìŠ¨ ì¼ìë¦¬ë¥¼ êµ¬í•  ìˆ˜ ìˆì„ëŠ”ì§€ìš”." ë‚˜ëŠ” ë‚´ ëŒ€ë‹µì´ ë„ˆë¬´ ëƒ‰ë­í•˜ê³  ë¶ˆì¹œì ˆí•œ ê²ƒì´ ì£„ì†¡ìŠ¤ëŸ¬ì› ë‹¤. ê·¸ëŸ¬ë‚˜ ì¼ìë¦¬ì— ëŒ€í•˜ì—¬ ì•„ë¬´ ì§€ì‹ì´ ì—†ëŠ” ë‚˜ë¡œì„œëŠ” ì´ì™¸ì— ë” ì¢‹ì€ ëŒ€ë‹µì„ í•´ ì¤„ ìˆ˜ê°€ ì—†ì—ˆë˜ ê²ƒì´ë‹¤. ê·¸ ëŒ€ì‹  ë‚˜ëŠ” ì€ê·¼í•˜ê²Œ ë¬¼ì—ˆë‹¤.

"ì–´ë””ì„œ ì˜¤ì‹œëŠ” ê¸¸ì…ë‹ˆê¹Œ?"

"í , ê³ í–¥ì—ì„œ ì˜¤ëˆ„ë§ˆ."í•˜ê³  ê·¸ëŠ” íœ˜ í•œìˆ¨ì„ ì‰¬ì—ˆë‹¤. ê·¸ëŸ¬ì, ê·¸ì˜ ì‹ ì„¸íƒ€ë ¹ì˜ ì‹¤ë§ˆë¦¬ëŠ” í’€ë ¤ ë‚˜ì™”ë‹¤. ê·¸ì˜ ê³ í–¥ì€ ëŒ€êµ¬ì—ì„œ ë©€ì§€ ì•Šì€ Kêµ° Hë€ ì™¸ë”°ë¥¸ ë™ë¦¬ì˜€ë‹¤. í•œ ë°±í˜¸ ë‚¨ì§“í•œ ê·¸ê³³ ì£¼ë‹˜ì€ ì „ë¶€ê°€ ì—­ë‘”í† ë¥¼ íŒŒë¨¹ê³  ì‚´ì•˜ëŠ”ë°, ì—­ë‘”í† ë¡œ ë§í•˜ë©´ ì‚¬ì‚¿ì§‘ ë•…ì„ ë¶€ì¹˜ëŠ” ê²ƒë³´ë‹¤ ë–¨ì–´ì§€ëŠ” ê²ƒì´ í›„í•˜ì˜€ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë„‰ë„‰ì§€ëŠ” ëª»í• ë§ì • í‰í™”ë¡œìš´ ë†ì´Œìœ¼ë¡œ ë‚¨ë¶€ëŸ½ì§€ ì•Šê²Œ ì§€ë‚¼ ìˆ˜ ìˆì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì„¸ìƒì´ ë’¤ë°”ë€Œì ê·¸ ë•…ì€ ì „ë¶€ê°€ ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ì†Œìœ ì— ë“¤ì–´ê°€ê³  ë§ì•˜ë‹¤. ì§ì ‘ìœ¼ë¡œ íšŒì‚¬ì— ì†Œì‘ë£Œë¥¼ ë°”ì¹˜ê²Œ ë˜ì—ˆìœ¼ë©´ ê·¸ë˜ë„ ë‚˜ìœ¼ë ¨ë§Œ ì†Œìœ„ ì¤‘ê°„ ì†Œì‘ì¸ì´ë€ ê²ƒì´ ìƒê²¨ë‚˜ì„œ ì €ëŠ” ì†ì— í™ í•œ ë²ˆ ë§Œì ¸ ë³´ì§€ë„ ì•Šê³  ë™ì²™ì—” ì†Œì‘ì¸ ë…¸ë¦‡ì„ í•˜ë©°, ì‹¤ì§€ì¸ì—ê²ŒëŠ” ì§€ì£¼ í–‰ì„¸ë¥¼ í•˜ê²Œ ë˜ì—ˆë‹¤. ë™ì²™ì— ì†Œì‘ë£Œë¥¼ ë¬¼ê³  ë‚˜ì„œ ë˜ ì¤‘ê°„ ì†Œì‘ë£Œì¸ì—ê²Œ ê¸íˆê³  ë³´ë‹ˆ, ì‹¤ì‘ì¸ì˜ ì†ì—ëŠ” ì†Œì¶œì´ 3í• ë„ ë–¨ì–´ì§€ì§€ ì•Šì•˜ë‹¤. ê·¸í›„ë¡œ \<ì£½ê² ë‹¤, ëª» ì‚´ê² ë‹¤\>í•˜ëŠ” ì†Œë¦¬ëŠ” ì¤‘ì´ ì—¼ë¶ˆí•˜ë“¯ ê·¸ë“¤ì˜ ì…ê¸¸ì—ì„œ ì˜¤ë¥´ë‚´ë¦¬ê²Œ ë˜ì—ˆë‹¤. ë‚¨ë¶€ì—¬ëŒ€í•˜ê³  íƒ€ì²˜ë¡œ ìœ ë¦¬í•˜ëŠ” ì‚¬ëŒë§Œ ëŠ˜ê³  ë™ë¦¬ëŠ” ì ì  ì‡ ì§„í•´ê°”ë‹¤.

ì§€ê¸ˆìœ¼ë¡œë¶€í„° 9ë…„ ì „, ê·¸ê°€ ì—´ì¼ê³± ì‚´ ë˜ë˜ í•´ ë´„ì—(ê·¸ì˜ ë‚˜ì´ëŠ” ì‹¤ìƒ ìŠ¤ë¬¼ì—¬ì„¯ì´ì—ˆë‹¤. ê°€ë‚œê³¼ ê³ ìƒì´ ì–¼ë§ˆë‚˜ ì‚¬ëŒì„ ëŠ™íˆëŠ”ê°€?) ê·¸ì˜ ì§‘ì•ˆì€ ì‚´ê¸° ì¢‹ë‹¤ëŠ” ë°”ëŒì— ì„œê°„ë„ë¡œ ì´ì‚¬ë¥¼ ê°”ì—ˆë‹¤. ì«“ê²¨ê°€ëŠ” ìš´ëª…ì´ê±°ë“  ì–´ë””ë¥¼ ê°„ë“¤ ì‹ ì‹ í•˜ë´. ê·¸ê³³ì˜ ë¹„ì˜¥í•œ ì „ì•¼ë„ ê·¸ë“¤ì„ ìœ„í•˜ì—¬ ì—´ë ¤ì§ˆ ë¦¬ ì—†ì—ˆë‹¤. ì¡°ê¸ˆ ì¢‹ì€ ë•…ì€ ë¨¼ì € ê°„ ì´ê°€ ëª¨ì¡°ë¦¬ ì°¨ì§€í•˜ì˜€ê³  í™©ë¬´ì§€ëŠ” ë¹„ë¡ ë§ë‹¤ í•˜ë‚˜ ê·¸ê³³ ë‹¹ë„í•˜ë˜ ë‚ ë¶€í„° ì•„ì¹¨ê±°ë¦¬ ì €ë…ê±°ë¦¬ ê±±ì •ì´ë´. ë¬´ìŠ¨ í–‰ì„¸ë¡œ ì ì–´ë„ 1ë…„ì´ë€ ì¥êµ¬í•œ ì„¸ì›”ì„ ë¨¹ê³  ì…ì–´ ê°€ë©° ê±°ì¹œ ë•…ì„ í’€ ìˆ˜ê°€ ìˆìœ¼ë´. ë‚¨ì˜ ë°‘ì²œì„ ì–»ì–´ì„œ ë†ì‚¬ë¥¼ ì§“ê³  ë³´ë‹ˆ, ê°€ì„ì´ ë˜ì–´ ì–»ëŠ” ê²ƒì€ ë¹ˆì£¼ë¨¹ë¿ì´ì—ˆë‹¤. ì´íƒœ ë™ì•ˆì„ ì‚¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì–µì§€ë¡œ ë²„í‹°ì–´ ê°ˆ ì œ, ê·¸ì˜ ì•„ë²„ì§€ëŠ” ë§ì—°íˆ ë³‘ì„ ì–»ì–´ íƒ€êµ­ì˜ ì™¸ë¡œìš´ í˜¼ì´ ë˜ê³  ë§ì•˜ë‹¤. ì—´ì•„í™‰ ì‚´ë°–ì— ì•ˆëœ ê·¸ê°€ í™€ì–´ë¨¸ë‹ˆë¥¼ ë³´ì‹œê³  ì•…ìœ¼ë¡œ ì•…ìœ¼ë¡œ ëª¨ì§„ ëª©ìˆ¨ì„ ì´ì–´ê°€ëŠ” ì¤‘ 4ë…„ì´ ëª»ë˜ì–´ ì˜ì–‘ ë¶€ì¡±í•œ ëª¸ì´ ì‹¬í•œ ë…¸ë™ì— ì§€ì¹œ íƒ“ìœ¼ë¡œ ê·¸ì˜ ì–´ë¨¸ë‹ˆ ë˜í•œ ì£½ê³  ë§ì•˜ë‹¤.

"ëª¨ì¹œê¹Œì¥ ëŒì•„ê°”êµ¬ë§ˆ." "ëŒì•„ê°€ì‹¤ ë•Œ í°ì£½ í•œ ëª¨ê¸ˆë„ ëª» ìì…¨êµ¬ë§ˆ."í•˜ê³  ì´ì•¼ê¸°í•˜ë˜ ì´ëŠ” ë¬¸ë“ ë§ì„ ëš ëŠëŠ”ë‹¤. ë‚˜ëŠ” ë¬´ì—‡ì´ë¼ê³  ìœ„ë¡œí•  ë§ì„ ëª°ëë‹¤. í•œë™ì•ˆ ë¨¸ë­‡ë¨¸ë­‡ì´ ìˆë‹¤ê°€ ë‚˜ëŠ” ì°¨ë¥¼ íƒˆ ë•Œì— ì¹œêµ¬ë“¤ì´ ì‚¬ì¤€ ì •ì¢…ë³‘ ë§ˆê°œë¥¼ ë¹¼ì—ˆë‹¤. ì°»ì”ì— ë¶€ì–´ì„œ ê·¸ë„ ë§ˆì‹œê³  ë‚˜ë„ ë§ˆì…¨ë‹¤. ì•…ì°©í•œ ìš´ëª…ì´ ë˜ì ¸ ì¤€ ê¹Šì€ ìŠ¬í””ì„ ìˆ ë¡œ ë…¹ì´ë ¤ëŠ” ë“¯ì´ ì—°ê±°í‘¸ ë‹¤ì„¯ ì”ì„ ë§ˆì‹œëŠ” ê·¸ëŠ” ë‹¤ì‹œ ë§ì„ ê³„ì†í•˜ì˜€ë‹¤. ê·¸í›„ ê·¸ëŠ” ë¶€ëª¨ ìƒì€ ë•…ì— ì˜¤ë˜ ë¨¸ë¬¼ê¸° ì‹«ì—ˆë‹¤. ì‹ ì˜ì£¼ë¡œ, ì•ˆë™í˜„ìœ¼ë¡œ í’ˆì„ íŒ”ë‹¤ê°€ ì¼ë³¸ìœ¼ë¡œ ë˜ ë²Œì´ë¥¼ ì°¾ì•„ê°€ê²Œ ë˜ì—ˆë‹¤. ê·œìŠˆ íƒ„ê´‘ì— ìˆì–´ë„ ë³´ê³ , ì˜¤ì‚¬ê¹Œ ì² ê³µì¥ì—ë„ ëª¸ì„ ë‹´ì•„ ë³´ì•˜ë‹¤. ë²Œì´ëŠ” ì¡°ê¸ˆ ë‚˜ì•˜ìœ¼ë‚˜ ì™¸ë¡­ê³  ì Šì€ ëª¸ì€ ìì—°íˆ ë°©íƒ•í•´ì¡Œë‹¤. ëˆì„ ëª¨ìœ¼ë ¤ì•¼ ëª¨ì„ ìˆ˜ ì—†ê³  ì´ë”°ê¸ˆ ìš¸í™”ë§Œ ì¹˜ë°›ì¹˜ê¸° ë•Œë¬¸ì— í•œê³³ì— ì£¼ì ‘ì„ í•˜ê³  ìˆì„ ìˆ˜ ì—†ì—ˆë‹¤. í™”ë„ ë‚˜ê³  ê³ êµ­ ì‚°ì²œì´ ê·¸ë¦½ê¸°ë„ í•˜ì—¬ì„œ í›Œì© ë›°ì–´ë‚˜ì™”ë‹¤ê°€ ì˜¤ë˜ê°„ë§Œì— ê³ í–¥ì„ ë‘˜ëŸ¬ë³´ê³  ë²Œì´ë¥¼ êµ¬í•  ê²¸ ì„œìš¸ë¡œ ì˜¬ë¼ê°€ëŠ” ê¸¸ì´ë¼ í–ˆë‹¤.

"ê³ í–¥ì— ê°€ì‹œë‹ˆ ë°˜ê°€ì›Œí•˜ëŠ” ì‚¬ëŒì´ ìˆìŠµë””ê¹Œ?" ë‚˜ëŠ” íƒ„ì‹í•˜ì˜€ë‹¤.

"ë°˜ê°€ì›Œí•˜ëŠ” ì‚¬ëŒì´ ë‹¤ ë®Œê¸°ì˜¤, ê³ í–¥ì´ í†µ ì—†ì–´ì¡Œë”ë§ˆ."

"ê·¸ë ‡ê² ì§€ìš”. 9ë…„ ë™ì•ˆì´ë‚˜ í½ ë³€í–ˆê² ì§€ìš”."

"ë³€í•˜ê³  ë­ê³  ê°„ì— ì•„ë¬´ê²ƒë„ ì—†ë”ë§ˆ. ì§‘ë„ ì—†ê³ , ì‚¬ëŒë„ ì—†ê³ , ê°œ í•œ ë§ˆë¦¬ë„ ì–¼ì”¬ì„ ì•Šë”ë§ˆ."

"ê·¸ëŸ¬ë©´, ì•„ì£¼ íë†ì´ ë˜ì—ˆë‹¨ ë§ì”€ì´ì˜¤?"

"í¥, ê·¸ë ‡êµ¬ë§ˆ. ë¬´ë„ˆì§€ë‹¤ ë§Œ ë‹´ë§Œ ì¦ë¹„í•˜ê²Œ ë‚¨ì•˜ë“œë§ˆ. ìš°ë¦¬ ì‚´ë˜ ì§‘ë„ í„°ì•¼ ì•ˆ ë‚¨ì•˜ëŠ”ê¸°ì˜¤, ì•”ë§Œ ì°¾ì•„ë„ ëª» ì°¾ê² ë”ë§ˆ. ì‚¬ëŒ ì‚´ë˜ ë™ë¦¬ê°€ ê·¸ë ‡ê²Œ ëœ ê²ƒì„ í˜¹ êµ¬ê²½í–ˆëŠ”ê¸°ì˜¤?"

í•˜ê³  ê·¸ì˜ ì§œëŠ” ë“¯ í•œ ëª©ì€ ë†’ì•„ì¡Œë‹¤.

"ì©ì–´ ë„˜ì–´ì§„ ì„œê¹Œë˜, ëš¤ëš¤ êµ¬ë¥´ëŠ” ì£¼ì¶”ëŠ”\! ê¼­ ë¬´ë¤ì„ íŒŒì„œ í•´ê³¨ì„ í—ì–´ ì –í˜€ë†“ì€ ê²ƒ ê°™ë”ë§ˆ. ì„¸ìƒì— ì´ëŸ° ì¼ë„ ìˆëŠ”ê¸°ì˜¤? ë°±ì—¬í˜¸ ì‚´ë˜ ë™ë¦¬ê°€ 10ë…„ì´ ëª» ë˜ì–´ í†µ ì—†ì–´ì§€ëŠ” ìˆ˜ë„ ìˆëŠ”ê¸°ì˜¤, í›„\!"

í•˜ê³  ê·¸ëŠ” í•œìˆ¨ì„ ì‰¬ë©°, ê·¸ë•Œì˜ ê´‘ê²½ì„ ëˆˆì•ì— ê·¸ë¦¬ëŠ” ë“¯ì´ ë©€ê±°ë‹ˆ ë¨¼ì‚°ì„ ë³´ë‹¤ê°€ ë‚´ê°€ ë”°ë¼ ì¤€ ìˆ ì„ ê¿€êº½ ë“¤ì´ì¼œê³ ,

"ì°¸\! ê°€ìŠ´ì´ í„°ì§€ë”ë§ˆ, ê°€ìŠ´ì´ í„°ì ¸"

í•˜ìë§ˆì êµµì§í•œ ëˆˆë¬¼ ë‘¬ ë°©ìš¸ì´ ëšëš ë–¨ì–´ì§„ë‹¤.

ë‚˜ëŠ” ê·¸ ëˆˆë¬¼ ê°€ìš´ë° ìŒì‚°í•˜ê³  ë¹„ì°¸í•œ ì¡°ì„ ì˜ ì–¼êµ´ì„ ë˜‘ë˜‘íˆ ë³¸ ë“¯ ì‹¶ì—ˆë‹¤.

ì´ìœ½ê³  ë‚˜ëŠ” ì´ëŸ° ë§ì„ ë¬¼ì—ˆë‹¤.

"ê·¸ë˜, ì´ë²ˆ ê¸¸ì— ê³ í–¥ ì‚¬ëŒì€ í•˜ë‚˜ë„ ëª» ë§Œë‚¬ìŠµë‹ˆê¹Œ?"

"í•˜ë‚˜ ë§Œë‚¬êµ¬ë§ˆ, ë‹¨ì§€ í•˜ë‚˜."

"ì¹œì²™ë˜ëŠ” ë¶„ì´ë˜ê°€ìš”?"

"ì•„ë‹ˆêµ¬ë§ˆ, í•œ ì´ì›ƒì— ì‚´ë˜ ì‚¬ëŒì´êµ¬ë§ˆ."í•˜ê³  ê·¸ì˜ ì–¼êµ´ì€ ë”ìš± ì¹¨ìš¸í–ˆë‹¤.

"ì—¬ê°„ ë°˜ê°‘ì§€ ì•Šìœ¼ì…¨ì§€ì–´ìš”."

"ë°˜ê°‘ë‹¤ë§ˆë‹¤, ì£½ì€ ì‚¬ëŒì„ ë§Œë‚œ ê²ƒ ê°™ë”ë§ˆ. ë”êµ¬ë‚˜ ê·¸ ì‚¬ëŒì€ ë‚˜ì™€ ê¹Œë‹­ë„ ì¢€ ìˆë˜ ì‚¬ëŒì¸ë°â€¦â€¦"

"ê¹Œë‹­ì´ë¼ë‹ˆ?"

"ë‚˜ì™€ í˜¼ì¸ ë§ì´ ìˆë˜ ì—¬ìêµ¬ë§ˆ."

"í•˜ì•„\!" ë‚˜ëŠ” ë†€ë€ ë“¯ì´ ë²Œë¦° ì…ì´ ë‹«í˜€ì§€ì§€ ì•Šì•˜ë‹¤.

"ê·¸ ì‹ ì„¸ë„ ë‚´ ì‹ ì„¸ë§Œ í•˜êµ¬ë§ˆ."

í•˜ê³  ê·¸ëŠ” ë˜ ì´ì•¼ê¸°ë¥¼ ê³„ì†í•˜ì˜€ë‹¤. ê·¸ ì—¬ìëŠ” ìê¸°ë³´ë‹¤ ë‚˜ì´ ë‘ ì‚´ ìœ„ì˜€ëŠ”ë°, í•œì´ì›ƒì— ì‚¬ëŠ” íƒ“ìœ¼ë¡œ ê°™ì´ ë†€ê¸°ë„ í•˜ê³  ì‹¸ìš°ê¸°ë„ í•˜ë©° ìë¼ë‚¬ë‹¤. ê·¸ê°€ ì—´ ë„¤ì‚´ ì ë¶€í„° ê·¸ë“¤ ë¶€ëª¨ë“¤ ì‚¬ì´ì— í˜¼ì¸ ë§ì´ ìˆì—ˆê³  ê·¸ë„ ì–´ë¦° ë§ˆìŒì— ë§¤ìš° íƒíƒí•˜ê²Œ ìƒê°í•˜ì˜€ì—ˆë‹¤. ê·¸ëŸ°ë° ê·¸ ì²˜ë…€ê°€ ì—´ì¼ê³± ì‚´ ëœ ê²¨ìš¸ì— ë³„ì•ˆê°„ ê°„ ê³³ì„ ëª¨ë¥´ê²Œ ë˜ì—ˆë‹¤. ì•Œê³  ë³´ë‹ˆ, ê·¸ ì•„ë²„ì§€ë˜ëŠ” ìê°€ 20ì›ì„ ë°›ê³  ëŒ€êµ¬ ìœ ê³½ì— íŒ”ì•„ë¨¹ì€ ê²ƒì´ì—ˆë‹¤. ê·¸ ì†Œë¬¸ì´ í¼ì§€ì ê·¸ ì°¨ë…€ ê°€ì¡±ì€ ê·¸ ë™ë¦¬ì—ì„œ ëª» ì‚´ê³  ë©€ë¦¬ ì´ì‚¬ë¥¼ ê°”ëŠ”ë° ê·¸ í›„ë¡œëŠ” ë¬¼ë¡  í”¼ì°¨ì— í•œ ë²ˆ ë§Œë‚˜ ë³´ì§€ë„ ëª»í•˜ì˜€ë‹¤. ì´ë²ˆì—ì•¼ ë¹ˆí„°ë§Œ ë‚¨ì€ ê³ í–¥ì„ êµ¬ê²½í•˜ê³  ëŒì•„ì˜¤ëŠ” ê¸¸ì— ìë‚´ì—ì„œ ê·¸ ì•„ë‚´ë  ë»”í•œ ëŒê³¼ ë§ˆì£¼ì¹˜ê²Œ ë˜ì—ˆë‹¤.

ì²˜ë…€ëŠ” ì–´ë–¤ ì¼ë³¸ ì‚¬ëŒ ì§‘ì—ì„œ ì•„ì´ë¥¼ ë³´ê³  ìˆì—ˆë‹¤. ê¶ë…€ëŠ” 20ì› ëª¸ê°’ì„ 10ë…„ì„ ë‘ê³  ê°šì•˜ê±´ë§Œ ê·¸ë˜ë„ ì£¼ì¸ì—ê²Œ ë¹šì´ 60ì›ì´ë‚˜ ë‚¨ì•˜ì—ˆëŠ”ë°, ëª¸ì— ëª¹ì“¸ ë³‘ì´ ë“¤ì–´ ë‚˜ì´ ëŠ™ì–´ì ¸ì„œ ì‚°ì†¡ì¥ì´ ë˜ë‹ˆê¹Œ. ì£¼ì¸ë˜ëŠ” ìê°€ íŠ¹ë³„íˆ ë¹šì„ íƒ•ê°í•´ ì£¼ê³ , ì‘ë…„ ê°€ì„ì—ì•¼ ë†“ì•„ ì¤€ ê²ƒì´ì—ˆë‹¤.

ê¶ë…€ë„ ìê¸°ì™€ ê°™ì´ 10ë…„ ë™ì•ˆì´ë‚˜ ê·¸ë¦¬ë˜ ê³ í–¥ì— ì°¾ì•„ì˜¤ë‹ˆê¹Œ ê±°ê¸°ì—ëŠ” ì§‘ë„ ì—†ê³ , ë¶€ëª¨ë„ ì—†ê³  ì“¸ì“¸í•œ ëŒë¬´ë”ê¸°ë§Œ ëˆˆë¬¼ì„ ìì•„ë‚¼ ë¿ì´ì—ˆë‹¤. í•˜ë£¨í•´ë¥¼ ìš¸ì–´ ë³´ë‚´ê³  ìë‚´ë¡œ ë“¤ì–´ì™€ì„œ ëŒì•„ë‹¤ë‹ˆë‹¤ê°€, 10ë…„ ë™ì•ˆì— í•œ ë§ˆë”” ë‘ ë§ˆë”” ë°°ì›Œ ë‘ì—ˆë˜ ì¼ë³¸ë§ ë•íƒìœ¼ë¡œ ê·¸ ì¼ë³¸ ì§‘ì— ìˆê²Œ ë˜ì—ˆë˜ ê²ƒì´ë‹¤.

"ì•”ë§Œ ì‚¬ëŒì´ ë³€í•˜ê¸°ë¡œ ì–´ì§¸ ê·¸ë ‡ê²Œë„ ë³€í•˜ëŠ”ê¸°ì˜¤? ê·¸ ìˆ± ë§ë˜ë¨¸ë¦¬ê°€ í›Œë  ë‹¤ ë²—ì„ì¡Œë‘ë§ˆ. ëˆˆì„ í‘¹ ë“¤ì–´ê°€ê³  ê·¸ ì´ë“¤ì´ë“¤í•˜ë˜ ì–¼êµ´ë¹›ë„ ë§ˆì¹˜ ìœ ì‚°ì„ ë¼ì–¹ì€ ë“¯í•˜ë”ë§ˆ."

"ì„œë¡œ ë¶™ì¡ê³  ë§ì´ ìš°ì…¨ê² ì§€ìš”"

"ëˆˆë¬¼ë„ ì•ˆ ë‚˜ì˜¤ë”ë§ˆ. ì¼ë³¸ ìš°ë™ì§‘ì— ë“¤ì–´ê°€ì„œ ë‘˜ì´ì„œ ì •ì¢…ë§Œ ì—´ë³‘ ë•Œë ¤ë‰˜ê³  í—¤ì–´ì¡Œêµ¬ë§ˆ."

í•˜ê³  ê°€ìŠ´ì„ ì§œëŠ” ë“¯í•œ ê´´ë¡œìš´ í•œìˆ¨ì„ ì‰¬ë”ë‹ˆë§Œ ê·¸ëŠ” ì§€ë‚œ ìŠ¬í””ì„ ìƒˆë¡ìƒˆë¡ ìì•„ë‚´ì–´ ë§ˆìŒì„ ìƒˆê¸°ê¸°ì— ì§€ì³¤ìŒì´ë”ë¼.

"ì´ì•¼ê¸°ë¥¼ ë‹¤í•˜ë©´ ë­í•˜ëŠ”ê¸°ì˜¤."

í•˜ê³  ì“¸ì“¸í•˜ê²Œ ì…ì„ ë‹¤ë¬¸ë‹¤.

ë‚˜ ë˜í•œ ë„ˆë¬´ë„ ì°¸í˜¹í•œ ì‚¬ëŒì‚´ì´ë¥¼ ë“£ê¸°ì— ì“´ë¬¼ì´ ë‚¬ë‹¤.

"ì, ìš°ë¦¬ ìˆ ì´ë‚˜ ë§ˆì ë¨¹ìì‹œë‹¤."

í•˜ê³  ìš°ë¦¬ëŠ” ì£¼ê±°ë‹ˆë°›ê±°ë‹ˆ í•œë˜ ë³‘ì„ ë‹¤ ë§ë¦¬ê³  ë§ì•˜ë‹¤. ê·¸ëŠ” ì·¨í¥ì— ê²¨ì›Œì„œ ìš°ë¦¬ê°€ ì–´ë¦´ ë•Œ ë©‹ëª¨ë¥´ê³  ë¶€ë¥´ë˜ ë…¸ë˜ë¥¼ ìŠì¡°ë ¸ë‹¤.

ë³ì„¬ì´ë‚˜ ë‚˜ëŠ” ì „í† ëŠ”

ì‹ ì‘ë¡œê°€ ë˜ê³ ìš”â€¦â€¦

ë§ë§ˆë””ë‚˜ í•˜ëŠ” ì¹œêµ¬ëŠ”

ê°ì˜¥ì†Œë¡œ ê°€ê³ ìš”â€¦â€¦

ë‹´ë±ƒëŒ€ë‚˜ ë– ëŠ” ë…¸ì¸ì€

ê³µë™ë¬˜ì§€ ê°€ê³ ìš”â€¦â€¦

ì¸ë¬¼ì´ë‚˜ ì¢‹ì€ ê³„ì§‘ì€

ìœ ê³½ìœ¼ë¡œ ê°€ê³ ìš”â€¦â€¦`;

            const modalContent = document.getElementById('text-modal-content');
            modalContent.innerHTML = originalText.replace(/\n/g, '<br>');

            // ëª¨ë‹¬ í‘œì‹œ
            document.getElementById('text-modal-overlay').classList.add('active');
        };

        // í…ìŠ¤íŠ¸ ëª¨ë‹¬ ë‹«ê¸°
        window.closeTextModal = function() {
            document.getElementById('text-modal-overlay').classList.remove('active');
        };

        // 4ë‹¨ê³„ ì™„ë£Œ
        function completeStage4() {
            clearInterval(timerInterval);

            const endTime = Date.now();
            const elapsedTime = Math.floor((endTime - stage4Data.startTime) / 1000);

            // ì§„í–‰ë¥ ê³¼ ì •ë‹µë¥  ê³„ì‚°
            const totalAnswered = stage4Data.correctAnswers + stage4Data.wrongAnswers;
            const progress = Math.round((totalAnswered / stage4Data.questions.length) * 100);
            const accuracy = totalAnswered > 0 ? Math.round((stage4Data.correctAnswers / totalAnswered) * 100) : 0;

            // ê²°ê³¼ í™”ë©´ í‘œì‹œ
            document.getElementById('main-content').style.display = 'none';
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.add('active');

            // ì œëª© ì—…ë°ì´íŠ¸
            resultScreen.querySelector('.result-title').textContent = '4ë‹¨ê³„ í•™ìŠµ ì™„ë£Œ!';

            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('progress-stat').textContent = progress + '%';
            document.getElementById('accuracy-stat').textContent = accuracy + '%';
            document.getElementById('correct-stat').textContent = stage4Data.correctAnswers;
            document.getElementById('wrong-stat').textContent = stage4Data.wrongAnswers;
            document.getElementById('time-stat').textContent = formatTime(elapsedTime);

            // ê²°ê³¼ ì €ì¥
            const score = (accuracy / 100) * 10; // 10ì  ë§Œì ìœ¼ë¡œ í™˜ì‚°
            stageResults.stage4 = {
                correct: stage4Data.correctAnswers,
                wrong: stage4Data.wrongAnswers,
                score: score,
                elapsedTime: elapsedTime,
                wrongQuestions: stage4Data.wrongQuestions // Stage4ëŠ” í‹€ë¦° ë¬¸ì œ ì¶”ì 
            };

            // ë¶€ëª¨ ì°½ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            if (window.parent !== window) {
                window.parent.postMessage({
                    type: 'stage-complete',
                    stage: 4,
                    stageName: 'OXí€´ì¦ˆ',
                    accuracy: accuracy,
                    correctAnswers: stage4Data.correctAnswers,
                    wrongAnswers: stage4Data.wrongAnswers,
                    wrongQuestions: stage4Data.wrongQuestions,
                    totalQuestions: stage4Data.questions.length,
                    elapsedTime: elapsedTime,
                    timeRemaining: timeRemaining
                }, '*');
            }

            // ë²„íŠ¼ ì—…ë°ì´íŠ¸
            const resultButtons = resultScreen.querySelector('.result-buttons');
            let buttonsHTML = `
                <button class="result-button secondary" onclick="restartStage4()">ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
            `;

            // í‹€ë¦° ë¬¸ì œê°€ ìˆìœ¼ë©´ 'í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ ë³´ê¸°' ë²„íŠ¼ ì¶”ê°€
            if (stage4Data.wrongQuestions.length > 0) {
                buttonsHTML += `<button class="result-button info" onclick="showWrongQuestions()">í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ ë³´ê¸°</button>`;
            }

            buttonsHTML += `<button class="result-button primary" onclick="initStage5()">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>`;
            resultButtons.innerHTML = buttonsHTML;
        }

        // 4ë‹¨ê³„ ë‹¤ì‹œ ì‹œì‘
        function restartStage4() {
            // ë³€ìˆ˜ ì´ˆê¸°í™”
            stage4Data.currentQuestionIndex = 0;
            stage4Data.correctAnswers = 0;
            stage4Data.wrongAnswers = 0;
            stage4Data.wrongQuestions = [];  // í‹€ë¦° ë¬¸ì œ ì´ˆê¸°í™”
            stage4Data.startTime = Date.now();
            stage4Data.timeRemaining = 120;

            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            initStage4();
        }

        // í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ ë³´ê¸°
        function showWrongQuestions() {
            // ëª¨ë‹¬ì´ ì—†ìœ¼ë©´ ìƒì„±
            if (!document.getElementById('wrong-questions-modal')) {
                const modalHTML = `
                    <div id="wrong-questions-modal" class="wrong-questions-modal-overlay">
                        <div class="wrong-questions-modal">
                            <div class="wrong-questions-header">
                                <h2>í‹€ë¦° ë¬¸ì œ ë‹¤ì‹œ ë³´ê¸°</h2>
                                <button class="close-modal-btn" onclick="closeWrongQuestionsModal()">âœ•</button>
                            </div>
                            <div class="wrong-questions-body" id="wrong-questions-content"></div>
                        </div>
                    </div>
                `;
                document.body.insertAdjacentHTML('beforeend', modalHTML);

                // ìŠ¤íƒ€ì¼ ì¶”ê°€
                if (!document.querySelector('#wrong-questions-styles')) {
                    const styles = document.createElement('style');
                    styles.id = 'wrong-questions-styles';
                    styles.textContent = `
                        .wrong-questions-modal-overlay {
                            position: fixed;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: rgba(0, 0, 0, 0.7);
                            z-index: 10001;
                            display: none;
                            align-items: center;
                            justify-content: center;
                        }

                        .wrong-questions-modal-overlay.active {
                            display: flex;
                        }

                        .wrong-questions-modal {
                            background: white;
                            border-radius: 12px;
                            width: 90%;
                            max-width: 800px;
                            max-height: 80vh;
                            display: flex;
                            flex-direction: column;
                        }

                        .wrong-questions-header {
                            padding: 20px;
                            border-bottom: 2px solid #e9ecef;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        }

                        .wrong-questions-header h2 {
                            margin: 0;
                            color: #2c3e50;
                            font-size: 24px;
                        }

                        .close-modal-btn {
                            background: none;
                            border: none;
                            font-size: 28px;
                            cursor: pointer;
                            color: #7f8c8d;
                            padding: 0;
                            width: 40px;
                            height: 40px;
                        }

                        .wrong-questions-body {
                            padding: 20px;
                            overflow-y: auto;
                            flex: 1;
                        }

                        .wrong-question-card {
                            background: #f8f9fa;
                            padding: 20px;
                            margin-bottom: 20px;
                            border-radius: 8px;
                            border: 1px solid #dee2e6;
                        }

                        .wrong-question-number {
                            font-weight: bold;
                            color: #495057;
                            margin-bottom: 10px;
                            font-size: 16px;
                        }

                        .wrong-question-text {
                            font-size: 18px;
                            margin-bottom: 15px;
                            color: #2c3e50;
                            line-height: 1.6;
                        }

                        .wrong-question-answers {
                            display: flex;
                            gap: 30px;
                            margin-bottom: 15px;
                        }

                        .answer-item {
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        }

                        .answer-label {
                            font-weight: 600;
                            color: #6c757d;
                        }

                        .user-answer {
                            padding: 5px 15px;
                            border-radius: 20px;
                            background: #e74c3c;
                            color: white;
                            font-weight: bold;
                        }

                        .correct-answer {
                            padding: 5px 15px;
                            border-radius: 20px;
                            background: #27ae60;
                            color: white;
                            font-weight: bold;
                        }

                        .question-explanation {
                            background: #fff3cd;
                            border: 1px solid #ffc107;
                            border-radius: 6px;
                            padding: 12px;
                            color: #856404;
                            margin-top: 10px;
                        }

                        .question-explanation strong {
                            display: block;
                            margin-bottom: 5px;
                        }

                        .result-button.info {
                            background: #3498db;
                        }

                        .result-button.info:hover {
                            background: #2980b9;
                        }
                    `;
                    document.head.appendChild(styles);
                }
            }

            // í‹€ë¦° ë¬¸ì œ ë‚´ìš© ìƒì„±
            const content = document.getElementById('wrong-questions-content');
            let html = '';

            stage4Data.wrongQuestions.forEach((q, index) => {
                html += `
                    <div class="wrong-question-card">
                        <div class="wrong-question-number">ë¬¸ì œ ${index + 1}</div>
                        <div class="wrong-question-text">${q.question}</div>
                        <div class="wrong-question-answers">
                            <div class="answer-item">
                                <span class="answer-label">ë‚´ê°€ ì„ íƒí•œ ë‹µ:</span>
                                <span class="user-answer">${q.userAnswer}</span>
                            </div>
                            <div class="answer-item">
                                <span class="answer-label">ì •ë‹µ:</span>
                                <span class="correct-answer">${q.correctAnswer}</span>
                            </div>
                        </div>
                        ${q.explanation ? `
                            <div class="question-explanation">
                                <strong>ğŸ“ í•´ì„¤</strong>
                                ${q.explanation}
                            </div>
                        ` : ''}
                    </div>
                `;
            });

            content.innerHTML = html;
            document.getElementById('wrong-questions-modal').classList.add('active');
        }

        // í‹€ë¦° ë¬¸ì œ ëª¨ë‹¬ ë‹«ê¸°
        function closeWrongQuestionsModal() {
            document.getElementById('wrong-questions-modal').classList.remove('active');
        }

        // ================== 5ë‹¨ê³„: ì„œìˆ í˜• ë¬¸ì œ ==================
        const stage5Data = {
            questions: [],
            currentQuestionIndex: 0,
            correctAnswers: 0,
            wrongAnswers: 0,
            skippedQuestions: [],  // ë„˜ê¸´ ë¬¸ì œ ì €ì¥
            startTime: null,
            timeRemaining: 600,  // 10ë¶„ìœ¼ë¡œ ë³€ê²½
            currentArrangement: [],
            draggedCard: null,
            draggedElement: null
        };

        // ì„œìˆ í˜• ë¬¸ì œ ë°ì´í„°
        const writingQuestions = [
    {
        id: 1,
        question: "'ê·¸'ì˜ ê°€ì¡±ì´ ê³ í–¥ì„ ë– ë‚˜ ì„œê°„ë„ë¡œ ì´ì£¼í•´ì•¼ë§Œ í–ˆë˜ ì´ìœ ë¥¼, ì†Œì„¤ì— ë‚˜íƒ€ë‚œ ì‚¬íšŒì , ê²½ì œì  ë°°ê²½ê³¼ ê´€ë ¨ì§€ì–´ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "'ê·¸'ì˜ ê°€ì¡±ì´ ê³ í–¥ì„ ë– ë‚œ ì´ìœ ëŠ” ì¼ì œì˜ í† ì§€ ìˆ˜íƒˆ ì •ì±… ë•Œë¬¸ì´ì—ˆë‹¤. ì›ë˜ ë§ˆì„ ì‚¬ëŒë“¤ì€ ì—­ë‘”í† ë¥¼ ë¶€ì¹˜ë©° í‰í™”ë¡­ê²Œ ì‚´ì•˜ì§€ë§Œ, ëª¨ë“  ë•…ì´ ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ì†Œìœ ê°€ ë˜ê³  ì¤‘ê°„ ì†Œì‘ì¸ì˜ ì´ì¤‘ ì°©ì·¨ê¹Œì§€ ë”í•´ì§€ì, ì†Œì¶œì˜ 3í• ë„ ì†ì— ì¥ê¸° í˜ë“  ê·¹ì‹¬í•œ ê²½ì œì  ì–´ë ¤ì›€ì— ì²˜í•˜ê²Œ ë˜ì—ˆë‹¤. ê²°êµ­ ìƒê³„ë¥¼ ìœ ì§€í•  ìˆ˜ ì—†ê²Œ ëœ ë§ˆì„ ì‚¬ëŒë“¤ì´ í•˜ë‚˜ë‘˜ ë– ë‚˜ê²Œ ë˜ë©´ì„œ 'ê·¸'ì˜ ê°€ì¡± ì—­ì‹œ 'ì‚´ê¸° ì¢‹ë‹¤'ëŠ” ë§ì„ ë¯¿ê³  ì„œê°„ë„ë¡œ ì´ì£¼í•˜ê²Œ ë˜ì—ˆë‹¤.",
        correctParts: [
            "'ê·¸'ì˜ ê°€ì¡±ì´ ê³ í–¥ì„ ë– ë‚œ ì´ìœ ëŠ” ì¼ì œì˜ í† ì§€ ìˆ˜íƒˆ ì •ì±… ë•Œë¬¸ì´ì—ˆë‹¤.",
            "ì›ë˜ ë§ˆì„ ì‚¬ëŒë“¤ì€ ì—­ë‘”í† ë¥¼ ë¶€ì¹˜ë©° í‰í™”ë¡­ê²Œ ì‚´ì•˜ì§€ë§Œ,",
            "ëª¨ë“  ë•…ì´ ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ì†Œìœ ê°€ ë˜ê³  ì¤‘ê°„ ì†Œì‘ì¸ì˜ ì´ì¤‘ ì°©ì·¨ê¹Œì§€ ë”í•´ì§€ì,",
            "ì†Œì¶œì˜ 3í• ë„ ì†ì— ì¥ê¸° í˜ë“  ê·¹ì‹¬í•œ ê²½ì œì  ì–´ë ¤ì›€ì— ì²˜í•˜ê²Œ ë˜ì—ˆë‹¤.",
            "ê²°êµ­ ìƒê³„ë¥¼ ìœ ì§€í•  ìˆ˜ ì—†ê²Œ ëœ ë§ˆì„ ì‚¬ëŒë“¤ì´ í•˜ë‚˜ë‘˜ ë– ë‚˜ê²Œ ë˜ë©´ì„œ",
            "'ê·¸'ì˜ ê°€ì¡± ì—­ì‹œ 'ì‚´ê¸° ì¢‹ë‹¤'ëŠ” ë§ì„ ë¯¿ê³  ì„œê°„ë„ë¡œ ì´ì£¼í•˜ê²Œ ë˜ì—ˆë‹¤."
        ],
        distractors: ["ì¼ì œì˜ ê°•ì••ì ì¸ ì´ì£¼ ì •ì±…ì— ì˜í•´ ê°•ì œë¡œ ì´ì£¼ë‹¹í–ˆë‹¤", "ê³ í–¥ì—ì„œ ìì—°ì¬í•´ê°€ ë°œìƒí•˜ì—¬ ë†ì‚¬ë¥¼ ì§€ì„ ìˆ˜ ì—†ê²Œ ë˜ì—ˆë‹¤", "ë” ë‚˜ì€ êµìœ¡ ê¸°íšŒë¥¼ ì°¾ì•„ ì„œê°„ë„ë¡œ ì´ì£¼í•˜ì˜€ë‹¤"]
    },
    {
        id: 2,
        question: "ì†Œì„¤ ì´ˆë°˜ì— ë¬˜ì‚¬ëœ 'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼(ì¡°ì„ , ì¤‘êµ­, ì¼ë³¸ì˜ ì˜·ì„ ì„ì–´ ì…ì€ ëª¨ìŠµ)ì´ ìƒì§•í•˜ëŠ” ë°”ë¥¼ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼ì€ ì¼ì œ ê°•ì í•˜ì— ì‚¶ì˜ í„°ì „ì„ ìƒê³  ì¡°ì„ , ì¤‘êµ­(ì„œê°„ë„), ì¼ë³¸ ë“±ì§€ë¥¼ ë– ëŒì•„ë‹¤ë…€ì•¼ í–ˆë˜ ê·¸ì˜ ë¹„ì°¸í•œ ìœ ë‘ ìƒí™œì„ ìƒì§•í•œë‹¤. ë˜í•œ ì–´ëŠ í•œ ê³³ì—ë„ ì •ì°©í•˜ì§€ ëª»í•˜ê³  ë¿Œë¦¬ ë½‘íŒ ì±„ ì‚´ì•„ê°€ëŠ” ì‹ë¯¼ì§€ ì¡°ì„ ì¸ì˜ ì •ì²´ì„± í˜¼ë€ê³¼ ë¹„ê·¹ì ì¸ ì²˜ì§€ë¥¼ ì•”ì‹œí•œë‹¤.",
        correctParts: [
            "'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼ì€ ì¼ì œ ê°•ì í•˜ì— ì‚¶ì˜ í„°ì „ì„ ìƒê³ ",
            "ì¡°ì„ , ì¤‘êµ­(ì„œê°„ë„), ì¼ë³¸ ë“±ì§€ë¥¼ ë– ëŒì•„ë‹¤ë…€ì•¼ í–ˆë˜",
            "ê·¸ì˜ ë¹„ì°¸í•œ ìœ ë‘ ìƒí™œì„ ìƒì§•í•œë‹¤.",
            "ë˜í•œ ì–´ëŠ í•œ ê³³ì—ë„ ì •ì°©í•˜ì§€ ëª»í•˜ê³  ë¿Œë¦¬ ë½‘íŒ ì±„ ì‚´ì•„ê°€ëŠ”",
            "ì‹ë¯¼ì§€ ì¡°ì„ ì¸ì˜ ì •ì²´ì„± í˜¼ë€ê³¼ ë¹„ê·¹ì ì¸ ì²˜ì§€ë¥¼ ì•”ì‹œí•œë‹¤."
        ],
        distractors: ["êµ­ì œì ì¸ ê°ê°ê³¼ ê°œë°©ì ì¸ ì‚¬ê³ ë°©ì‹ì„ ë‚˜íƒ€ë‚¸ë‹¤", "ì„¸ ë‚˜ë¼ì˜ ë¬¸í™”ë¥¼ ì¡´ì¤‘í•˜ëŠ” íƒœë„ë¥¼ ë³´ì—¬ì¤€ë‹¤", "íŒ¨ì…˜ì— ëŒ€í•œ ë…íŠ¹í•œ ì·¨í–¥ì„ ë“œëŸ¬ë‚¸ë‹¤"]
    },
    {
        id: 3,
        question: "'ê·¸'ê°€ 9ë…„ ë§Œì— ëŒì•„ë³¸ ê³ í–¥ì˜ ëª¨ìŠµì€ ì–´ë– í–ˆìœ¼ë©°, ê·¸ëŠ” íí—ˆê°€ ëœ ê³ í–¥ì„ ë¬´ì—‡ì— ë¹„ìœ í•˜ì—¬ ìì‹ ì˜ ì°¸ë‹´í•œ ì‹¬ì •ì„ ë“œëŸ¬ëƒˆëŠ”ì§€ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "9ë…„ ë§Œì— ëŒì•„ì˜¨ ê³ í–¥ì€ ì§‘ë„, ì‚¬ëŒë„, ì‹¬ì§€ì–´ ê°œ í•œ ë§ˆë¦¬ë„ ì—†ì´ ì™„ì „íˆ íë†ì´ ëœ ìƒíƒœì˜€ë‹¤. ë¬´ë„ˆì§„ ë‹´ë§Œ ì¦ë¹„í•˜ê²Œ ë‚¨ì•„ ìˆì—ˆê³ , ì©ì€ ì„œê¹Œë˜ì™€ ë’¹êµ¬ëŠ” ì£¼ì¶§ëŒë§Œì´ ìˆì—ˆë‹¤. 'ê·¸'ëŠ” ì´ëŸ¬í•œ ê³ í–¥ì˜ ëª¨ìŠµì„ 'ë¬´ë¤ì„ íŒŒì„œ í•´ê³¨ì„ í—ì–´ ì –í˜€ ë†“ì€ ê²ƒ'ì— ë¹„ìœ í•˜ë©° ì‚¶ì˜ í„°ì „ì´ ì†¡ë‘ë¦¬ì§¸ íŒŒê´´ëœ ê²ƒì— ëŒ€í•œ ì¶©ê²©ê³¼ ì°¸ë‹´í•œ ì‹¬ì •ì„ ë“œëŸ¬ëƒˆë‹¤.",
        correctParts: [
            "9ë…„ ë§Œì— ëŒì•„ì˜¨ ê³ í–¥ì€ ì§‘ë„, ì‚¬ëŒë„, ì‹¬ì§€ì–´ ê°œ í•œ ë§ˆë¦¬ë„ ì—†ì´",
            "ì™„ì „íˆ íë†ì´ ëœ ìƒíƒœì˜€ë‹¤.",
            "ë¬´ë„ˆì§„ ë‹´ë§Œ ì¦ë¹„í•˜ê²Œ ë‚¨ì•„ ìˆì—ˆê³ , ì©ì€ ì„œê¹Œë˜ì™€ ë’¹êµ¬ëŠ” ì£¼ì¶§ëŒë§Œì´ ìˆì—ˆë‹¤.",
            "'ê·¸'ëŠ” ì´ëŸ¬í•œ ê³ í–¥ì˜ ëª¨ìŠµì„ 'ë¬´ë¤ì„ íŒŒì„œ í•´ê³¨ì„ í—ì–´ ì –í˜€ ë†“ì€ ê²ƒ'ì— ë¹„ìœ í•˜ë©°",
            "ì‚¶ì˜ í„°ì „ì´ ì†¡ë‘ë¦¬ì§¸ íŒŒê´´ëœ ê²ƒì— ëŒ€í•œ ì¶©ê²©ê³¼ ì°¸ë‹´í•œ ì‹¬ì •ì„ ë“œëŸ¬ëƒˆë‹¤."
        ],
        distractors: ["ë§ˆì„ì´ í˜„ëŒ€í™”ë˜ì–´ ì˜› ëª¨ìŠµì„ ì°¾ì„ ìˆ˜ ì—†ê²Œ ë˜ì—ˆë‹¤", "ìì—°ìœ¼ë¡œ ëŒì•„ê°€ í‰í™”ë¡œìš´ ëª¨ìŠµìœ¼ë¡œ ë³€í–ˆë‹¤", "ìƒˆë¡œìš´ ì‚¬ëŒë“¤ì´ ë“¤ì–´ì™€ ë²ˆì°½í•˜ëŠ” ë§ˆì„ì´ ë˜ì—ˆë‹¤"]
    },
    {
        id: 4,
        question: "ì„œìˆ ì 'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ 'ì •ì¢…'ì„ ê±´ë„¤ëŠ” í–‰ìœ„ê°€ ë‘ ì¸ë¬¼ì˜ ê´€ê³„ì—ì„œ ì–´ë–¤ ì˜ë¯¸ì™€ ê¸°ëŠ¥ì„ í•˜ëŠ”ì§€ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ì •ì¢…ì„ ê±´ë„¤ëŠ” í–‰ìœ„ëŠ” ê·¸ì˜ ë¹„ê·¹ì ì¸ ì‹ ì„¸íƒ€ë ¹ì„ ë“¤ìœ¼ë©° ëŠë‚€ ì—°ë¯¼ê³¼ ê³µê°ì˜ ë§ˆìŒì„ í‘œí˜„í•˜ëŠ” ê²ƒì´ë‹¤. ì²˜ìŒì—ëŠ” ê±°ë¶€ê°ì„ ëŠê¼ˆë˜ 'ë‚˜'ê°€ 'ê·¸'ì˜ ì´ì•¼ê¸°ì— ê°í™”ë˜ì–´ ê·¸ë¥¼ ìœ„ë¡œí•˜ë ¤ëŠ” í–‰ë™ìœ¼ë¡œ, ë‘ ì‚¬ëŒ ì‚¬ì´ì˜ ì‹¬ë¦¬ì  ê±°ë¦¬ë¥¼ ì¢íˆê³  'ë‚˜'ê°€ 'ê·¸'ì˜ ê°œì¸ì  ë¹„ê·¹ì„ ë¯¼ì¡±ì˜ ë¹„ê·¹ìœ¼ë¡œ ì¸ì‹í•˜ê²Œ ë˜ëŠ” ê³„ê¸°ë¥¼ ë§ˆë ¨í•˜ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤.",
        correctParts: [
            "'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ì •ì¢…ì„ ê±´ë„¤ëŠ” í–‰ìœ„ëŠ”",
            "ê·¸ì˜ ë¹„ê·¹ì ì¸ ì‹ ì„¸íƒ€ë ¹ì„ ë“¤ìœ¼ë©° ëŠë‚€ ì—°ë¯¼ê³¼ ê³µê°ì˜ ë§ˆìŒì„ í‘œí˜„í•˜ëŠ” ê²ƒì´ë‹¤.",
            "ì²˜ìŒì—ëŠ” ê±°ë¶€ê°ì„ ëŠê¼ˆë˜ 'ë‚˜'ê°€ 'ê·¸'ì˜ ì´ì•¼ê¸°ì— ê°í™”ë˜ì–´ ê·¸ë¥¼ ìœ„ë¡œí•˜ë ¤ëŠ” í–‰ë™ìœ¼ë¡œ,",
            "ë‘ ì‚¬ëŒ ì‚¬ì´ì˜ ì‹¬ë¦¬ì  ê±°ë¦¬ë¥¼ ì¢íˆê³ ",
            "'ë‚˜'ê°€ 'ê·¸'ì˜ ê°œì¸ì  ë¹„ê·¹ì„ ë¯¼ì¡±ì˜ ë¹„ê·¹ìœ¼ë¡œ ì¸ì‹í•˜ê²Œ ë˜ëŠ” ê³„ê¸°ë¥¼ ë§ˆë ¨í•˜ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤."
        ],
        distractors: ["ë‹¨ìˆœíˆ ì°¨ ì•ˆì—ì„œ ì‹œê°„ì„ ë³´ë‚´ê¸° ìœ„í•œ í–‰ìœ„ì´ë‹¤", "'ë‚˜'ì˜ ê²½ì œì  ì—¬ìœ ë¥¼ ê³¼ì‹œí•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤", "'ê·¸'ë¥¼ ì·¨í•˜ê²Œ í•˜ì—¬ ì´ì•¼ê¸°ë¥¼ ê·¸ë§Œë‘ê²Œ í•˜ë ¤ëŠ” ì˜ë„ì´ë‹¤"]
    },
    {
        id: 5,
        question: "ì†Œì„¤ì´ ì§„í–‰ë¨ì— ë”°ë¼ 'ê·¸'ë¥¼ ë°”ë¼ë³´ëŠ” ì„œìˆ ì 'ë‚˜'ì˜ ì¸ì‹ì´ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ ê·¸ ê³¼ì •ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "ì²˜ìŒ 'ë‚˜'ëŠ” 'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼ê³¼ ê²½ë°•í•œ íƒœë„ë¥¼ ë³´ë©° ê±°ë¶€ê°ê³¼ ë¶ˆì¾Œê°ì„ ëŠë‚€ë‹¤. í•˜ì§€ë§Œ ê·¸ê°€ ì¼ìë¦¬ë¥¼ êµ¬í•˜ëŸ¬ ì„œìš¸ë¡œ ê°„ë‹¤ëŠ” ì‚¬ì‹¤ì— í˜¸ê¸°ì‹¬ê³¼ ë™ì •ì„ ëŠë¼ê¸° ì‹œì‘í•œë‹¤. ì´í›„ 'ê·¸'ì˜ ë¹„ì°¸í•œ ê³¼ê±° ì´ì•¼ê¸°ë¥¼ ë“¤ìœ¼ë©° ì ì°¨ ê·¸ì˜ ì²˜ì§€ì— ê³µê°í•˜ê³  ì—°ë¯¼ì„ ëŠë¼ê²Œ ë˜ë©°, ìˆ ì„ ê±´ë„¤ ìœ„ë¡œí•œë‹¤. ìµœì¢…ì ìœ¼ë¡œ 'ê·¸'ì˜ ëˆˆë¬¼ì—ì„œ 'ì¡°ì„ ì˜ ì–¼êµ´'ì„ ë°œê²¬í•˜ë©°, ê·¸ì˜ ê°œì¸ì  ë¹„ê·¹ì´ ê³§ ì‹ë¯¼ì§€ ì¡°ì„  ë¯¼ì¡± ì „ì²´ì˜ ë¹„ê·¹ì´ë¼ëŠ” ì‚¬íšŒì , ë¯¼ì¡±ì  ì°¨ì›ìœ¼ë¡œ ì¸ì‹ì„ í™•ì¥í•˜ê²Œ ëœë‹¤.",
        correctParts: [
            "ì²˜ìŒ 'ë‚˜'ëŠ” 'ê·¸'ì˜ ê¸°ì´í•œ ì˜·ì°¨ë¦¼ê³¼ ê²½ë°•í•œ íƒœë„ë¥¼ ë³´ë©° ê±°ë¶€ê°ê³¼ ë¶ˆì¾Œê°ì„ ëŠë‚€ë‹¤.",
            "í•˜ì§€ë§Œ ê·¸ê°€ ì¼ìë¦¬ë¥¼ êµ¬í•˜ëŸ¬ ì„œìš¸ë¡œ ê°„ë‹¤ëŠ” ì‚¬ì‹¤ì— í˜¸ê¸°ì‹¬ê³¼ ë™ì •ì„ ëŠë¼ê¸° ì‹œì‘í•œë‹¤.",
            "ì´í›„ 'ê·¸'ì˜ ë¹„ì°¸í•œ ê³¼ê±° ì´ì•¼ê¸°ë¥¼ ë“¤ìœ¼ë©° ì ì°¨ ê·¸ì˜ ì²˜ì§€ì— ê³µê°í•˜ê³  ì—°ë¯¼ì„ ëŠë¼ê²Œ ë˜ë©°, ìˆ ì„ ê±´ë„¤ ìœ„ë¡œí•œë‹¤.",
            "ìµœì¢…ì ìœ¼ë¡œ 'ê·¸'ì˜ ëˆˆë¬¼ì—ì„œ 'ì¡°ì„ ì˜ ì–¼êµ´'ì„ ë°œê²¬í•˜ë©°,",
            "ê·¸ì˜ ê°œì¸ì  ë¹„ê·¹ì´ ê³§ ì‹ë¯¼ì§€ ì¡°ì„  ë¯¼ì¡± ì „ì²´ì˜ ë¹„ê·¹ì´ë¼ëŠ” ì‚¬íšŒì , ë¯¼ì¡±ì  ì°¨ì›ìœ¼ë¡œ ì¸ì‹ì„ í™•ì¥í•˜ê²Œ ëœë‹¤."
        ],
        distractors: ["ì²˜ìŒë¶€í„° ëê¹Œì§€ 'ê·¸'ì— ëŒ€í•œ ë™ì •ì‹¬ì„ ìœ ì§€í•œë‹¤", "ì ì  ë” 'ê·¸'ë¥¼ ë¶ˆí¸í•˜ê²Œ ì—¬ê¸°ë©° ê±°ë¦¬ë¥¼ ë‘”ë‹¤", "'ê·¸'ì˜ ì´ì•¼ê¸°ë¥¼ ì˜ì‹¬í•˜ë©° ì‹ ë¢°í•˜ì§€ ì•Šê²Œ ëœë‹¤"]
    },
    {
        id: 6,
        question: "ë°±ì—¬ í˜¸ê°€ ì‚´ë˜ 'ê·¸'ì˜ ê³ í–¥ ë§ˆì„ì´ ì‹­ ë…„ë„ ì•ˆ ë˜ì–´ ì™„ì „í•œ íí—ˆê°€ ë˜ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ ì¸ê³¼ ê´€ê³„ì— ë”°ë¼ ë‹¨ê³„ì ìœ¼ë¡œ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "(1ë‹¨ê³„: ì›ì¸) ë§ˆì„ì˜ ë•…ì´ ëª¨ë‘ ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ì†Œìœ ê°€ ë˜ê³  ì¤‘ê°„ ì†Œì‘ì¸ ì œë„ê°€ ìƒê²¨ë‚¬ë‹¤. (2ë‹¨ê³„: ê³¼ì •) ì´ë¡œ ì¸í•´ ë†ë¯¼ë“¤ì€ ì´ì¤‘ìœ¼ë¡œ ìˆ˜íƒˆë‹¹í•˜ì—¬ ì†Œì¶œì˜ 3í• ë„ ì–»ì§€ ëª»í•˜ëŠ” ê·¹ì‹¬í•œ ê°€ë‚œì— ì‹œë‹¬ë¦¬ê²Œ ë˜ì—ˆë‹¤. (3ë‹¨ê³„: ê²°ê³¼) ê²°êµ­ ìƒê³„ë¥¼ ì´ì–´ê°ˆ ìˆ˜ ì—†ê²Œ ëœ ë§ˆì„ ì‚¬ëŒë“¤ì´ 'ë‚¨ë¶€ì—¬ëŒ€'í•˜ì—¬ íƒ€ì²˜ë¡œ ìœ ë¦¬í•˜ë©´ì„œ ë§ˆì„ì€ ì ì  ì‡ ì§„í•´ì¡Œê³ , ì‹­ ë…„ë„ ì•ˆ ë˜ì–´ ì•„ë¬´ë„ ì‚´ì§€ ì•ŠëŠ” íí—ˆê°€ ë˜ì—ˆë‹¤.",
        correctParts: [
            "(1ë‹¨ê³„: ì›ì¸) ë§ˆì„ì˜ ë•…ì´ ëª¨ë‘ ë™ì–‘ ì²™ì‹ íšŒì‚¬ì˜ ì†Œìœ ê°€ ë˜ê³  ì¤‘ê°„ ì†Œì‘ì¸ ì œë„ê°€ ìƒê²¨ë‚¬ë‹¤.",
            "(2ë‹¨ê³„: ê³¼ì •) ì´ë¡œ ì¸í•´ ë†ë¯¼ë“¤ì€ ì´ì¤‘ìœ¼ë¡œ ìˆ˜íƒˆë‹¹í•˜ì—¬",
            "ì†Œì¶œì˜ 3í• ë„ ì–»ì§€ ëª»í•˜ëŠ” ê·¹ì‹¬í•œ ê°€ë‚œì— ì‹œë‹¬ë¦¬ê²Œ ë˜ì—ˆë‹¤.",
            "(3ë‹¨ê³„: ê²°ê³¼) ê²°êµ­ ìƒê³„ë¥¼ ì´ì–´ê°ˆ ìˆ˜ ì—†ê²Œ ëœ ë§ˆì„ ì‚¬ëŒë“¤ì´ 'ë‚¨ë¶€ì—¬ëŒ€'í•˜ì—¬ íƒ€ì²˜ë¡œ ìœ ë¦¬í•˜ë©´ì„œ",
            "ë§ˆì„ì€ ì ì  ì‡ ì§„í•´ì¡Œê³ , ì‹­ ë…„ë„ ì•ˆ ë˜ì–´ ì•„ë¬´ë„ ì‚´ì§€ ì•ŠëŠ” íí—ˆê°€ ë˜ì—ˆë‹¤."
        ],
        distractors: ["ìì—°ì¬í•´ê°€ ë°˜ë³µë˜ì–´ ë†ì‚¬ë¥¼ ì§€ì„ ìˆ˜ ì—†ê²Œ ë˜ì—ˆë‹¤", "ë§ˆì„ ì‚¬ëŒë“¤ì´ ë” ë‚˜ì€ ê¸°íšŒë¥¼ ì°¾ì•„ ë„ì‹œë¡œ ì´ì£¼í–ˆë‹¤", "ì¼ì œê°€ ë§ˆì„ì„ ê°•ì œë¡œ ì² ê±°í•˜ì—¬ íí—ˆê°€ ë˜ì—ˆë‹¤"]
    },
    {
        id: 7,
        question: "'ê·¸'ì™€ ê³ í–¥ì—ì„œ ì¬íšŒí•œ 'ì˜› ì—¬ì¸'ì˜ ì‚¶ì„ ìš”ì•½í•˜ê³ , ë‘ ì¸ë¬¼ì˜ ë§Œë‚¨ì´ ì‘í’ˆì˜ ì£¼ì œë¥¼ ì–´ë–»ê²Œ ì‹¬í™”í•˜ëŠ”ì§€ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "'ê·¸'ì˜ ì˜› ì—¬ì¸ì€ ê°€ë‚œ ë•Œë¬¸ì— ìœ ê³½ìœ¼ë¡œ íŒ”ë ¤ ê°”ë‹¤ê°€ 10ë…„ ë§Œì— ë³‘ë“  ëª¸ìœ¼ë¡œ ëŒì•„ì™€ ì¼ë³¸ì¸ ì§‘ì—ì„œ ì‹ëª¨ì‚´ì´ë¥¼ í•˜ëŠ” ë¹„ì°¸í•œ ì‚¶ì„ ì‚´ê³  ìˆì—ˆë‹¤. ì´ ë§Œë‚¨ì€ 'ê·¸'ê°€ ê²ªëŠ” ê³ í–¥ ìƒì‹¤ê³¼ ìœ ë‘ì˜ ë¹„ê·¹ì´ ê·¸ ê°œì¸ì—ê²Œë§Œ êµ­í•œëœ ê²ƒì´ ì•„ë‹˜ì„ ë³´ì—¬ì¤€ë‹¤. ë¹„ìŠ·í•œ ì²˜ì§€ì˜ ì—¬ì¸ì„ í†µí•´ ë‹¹ëŒ€ ì¡°ì„  ë¯¼ì¤‘ì´ ê²ªëŠ” ê³ í†µì˜ ë³´í¸ì„±ì„ í™•ì¸ì‹œì¼œ ì£¼ë©°, ì¼ì œ ê°•ì í•˜ ìš°ë¦¬ ë¯¼ì¡±ì˜ ë¹„ì°¸í•œ ì‚¶ì´ë¼ëŠ” ì‘í’ˆì˜ ì£¼ì œë¥¼ ë”ìš± ì‹¬í™”í•˜ê³  êµ¬ì²´í™”í•œë‹¤.",
        correctParts: [
            "'ê·¸'ì˜ ì˜› ì—¬ì¸ì€ ê°€ë‚œ ë•Œë¬¸ì— ìœ ê³½ìœ¼ë¡œ íŒ”ë ¤ ê°”ë‹¤ê°€",
            "10ë…„ ë§Œì— ë³‘ë“  ëª¸ìœ¼ë¡œ ëŒì•„ì™€ ì¼ë³¸ì¸ ì§‘ì—ì„œ ì‹ëª¨ì‚´ì´ë¥¼ í•˜ëŠ” ë¹„ì°¸í•œ ì‚¶ì„ ì‚´ê³  ìˆì—ˆë‹¤.",
            "ì´ ë§Œë‚¨ì€ 'ê·¸'ê°€ ê²ªëŠ” ê³ í–¥ ìƒì‹¤ê³¼ ìœ ë‘ì˜ ë¹„ê·¹ì´ ê·¸ ê°œì¸ì—ê²Œë§Œ êµ­í•œëœ ê²ƒì´ ì•„ë‹˜ì„ ë³´ì—¬ì¤€ë‹¤.",
            "ë¹„ìŠ·í•œ ì²˜ì§€ì˜ ì—¬ì¸ì„ í†µí•´ ë‹¹ëŒ€ ì¡°ì„  ë¯¼ì¤‘ì´ ê²ªëŠ” ê³ í†µì˜ ë³´í¸ì„±ì„ í™•ì¸ì‹œì¼œ ì£¼ë©°,",
            "ì¼ì œ ê°•ì í•˜ ìš°ë¦¬ ë¯¼ì¡±ì˜ ë¹„ì°¸í•œ ì‚¶ì´ë¼ëŠ” ì‘í’ˆì˜ ì£¼ì œë¥¼ ë”ìš± ì‹¬í™”í•˜ê³  êµ¬ì²´í™”í•œë‹¤."
        ],
        distractors: ["ë‘ ì‚¬ëŒì´ ì¬íšŒí•˜ì—¬ í¬ë§ì ì¸ ë¯¸ë˜ë¥¼ ê¿ˆê¾¸ê²Œ ëœë‹¤", "ì˜› ì—¬ì¸ì˜ ì„±ê³µì ì¸ ì‚¶ì´ 'ê·¸'ì—ê²Œ ë™ê¸°ë¶€ì—¬ê°€ ëœë‹¤", "ê³¼ê±°ì˜ ì‚¬ë‘ì„ íšŒë³µí•˜ë©° ìƒˆë¡œìš´ ì‚¶ì„ ì‹œì‘í•œë‹¤"]
    },
    {
        id: 8,
        question: "<ë³´ê¸°>ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì´ ì†Œì„¤ì˜ 'ê·¸'ê°€ 'ì „í˜•ì  ì¸ë¬¼'ë¡œì„œ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì„œìˆ í•˜ì‹œì˜¤.\n\n<ë³´ê¸°>\nì‚¬ì‹¤ì£¼ì˜ ì†Œì„¤ì—ì„œëŠ” íŠ¹ì • ì‹œëŒ€ë‚˜ ì‚¬íšŒ ê³„ì¸µì˜ ë³´í¸ì ì¸ íŠ¹ì§•ê³¼ ì‚¶ì„ ì••ì¶•ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” 'ì „í˜•ì  ì¸ë¬¼'ì„ ì„¤ì •í•˜ì—¬ í˜„ì‹¤ì„ íš¨ê³¼ì ìœ¼ë¡œ ê³ ë°œí•œë‹¤. ì‘ê°€ëŠ” í•œ ì¸ë¬¼ì˜ êµ¬ì²´ì ì¸ ì‚¶ì„ í†µí•´ ê·¸ê°€ ì†í•œ ì§‘ë‹¨ ì „ì²´ì˜ ëª©ì†Œë¦¬ë¥¼ ëŒ€ë³€í•˜ê²Œ í•¨ìœ¼ë¡œì¨, ì´ì•¼ê¸°ì˜ ì‚¬ì‹¤ì„±ê³¼ ì‚¬íšŒ ë¹„íŒì˜ ì„¤ë“ë ¥ì„ ë†’ì¸ë‹¤.",
        correctAnswer: "<ë³´ê¸°>ì— ë”°ë¥´ë©´ 'ì „í˜•ì  ì¸ë¬¼'ì€ íŠ¹ì • ì‹œëŒ€ì™€ ê³„ì¸µì„ ëŒ€í‘œí•œë‹¤. ì†Œì„¤ ì† 'ê·¸'ëŠ” 1920ë…„ëŒ€ ì¼ì œ ê°•ì í•˜ì— í† ì§€ë¥¼ ë¹¼ì•—ê¸°ê³  ê³ í–¥ì„ ë– ë‚˜ ë§Œì£¼, ì¼ë³¸ ë“±ì§€ë¥¼ ë– ëŒë©° ìƒì¡´í•´ì•¼ í–ˆë˜ ì¡°ì„  ë†ë¯¼ì˜ ë³´í¸ì ì¸ ì‚¶ì„ ì••ì¶•ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì „í˜•ì  ì¸ë¬¼ì´ë‹¤. ì‘ê°€ëŠ” 'ê·¸'ë¼ëŠ” í•œ ì¸ë¬¼ì˜ ê¸°êµ¬í•œ ì‚¶ì˜ ì—­ì •ì„ í†µí•´ ë‹¹ì‹œ ìˆ˜ë§ì€ ì¡°ì„  ë¯¼ì¤‘ì´ ê²ªì—ˆë˜ ìˆ˜íƒˆê³¼ ìœ ë‘ì˜ ê³ í†µì„ ì‚¬ì‹¤ì ìœ¼ë¡œ ê³ ë°œí•˜ê³ , ì´ë¥¼ í†µí•´ ì‹ë¯¼ì§€ í˜„ì‹¤ì— ëŒ€í•œ ë¹„íŒì  ë©”ì‹œì§€ë¥¼ ì„¤ë“ë ¥ ìˆê²Œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.",
        correctParts: [
            "<ë³´ê¸°>ì— ë”°ë¥´ë©´ 'ì „í˜•ì  ì¸ë¬¼'ì€ íŠ¹ì • ì‹œëŒ€ì™€ ê³„ì¸µì„ ëŒ€í‘œí•œë‹¤.",
            "ì†Œì„¤ ì† 'ê·¸'ëŠ” 1920ë…„ëŒ€ ì¼ì œ ê°•ì í•˜ì— í† ì§€ë¥¼ ë¹¼ì•—ê¸°ê³  ê³ í–¥ì„ ë– ë‚˜ ë§Œì£¼, ì¼ë³¸ ë“±ì§€ë¥¼ ë– ëŒë©° ìƒì¡´í•´ì•¼ í–ˆë˜",
            "ì¡°ì„  ë†ë¯¼ì˜ ë³´í¸ì ì¸ ì‚¶ì„ ì••ì¶•ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì „í˜•ì  ì¸ë¬¼ì´ë‹¤.",
            "ì‘ê°€ëŠ” 'ê·¸'ë¼ëŠ” í•œ ì¸ë¬¼ì˜ ê¸°êµ¬í•œ ì‚¶ì˜ ì—­ì •ì„ í†µí•´ ë‹¹ì‹œ ìˆ˜ë§ì€ ì¡°ì„  ë¯¼ì¤‘ì´ ê²ªì—ˆë˜ ìˆ˜íƒˆê³¼ ìœ ë‘ì˜ ê³ í†µì„ ì‚¬ì‹¤ì ìœ¼ë¡œ ê³ ë°œí•˜ê³ ,",
            "ì´ë¥¼ í†µí•´ ì‹ë¯¼ì§€ í˜„ì‹¤ì— ëŒ€í•œ ë¹„íŒì  ë©”ì‹œì§€ë¥¼ ì„¤ë“ë ¥ ìˆê²Œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤."
        ],
        distractors: ["'ê·¸'ëŠ” íŠ¹ë³„í•œ ëŠ¥ë ¥ìœ¼ë¡œ ì‹œëŒ€ë¥¼ ê·¹ë³µí•œ ì˜ì›…ì  ì¸ë¬¼ì´ë‹¤", "'ê·¸'ëŠ” ê°œì¸ì  ê²°í•¨ ë•Œë¬¸ì— ë¶ˆí–‰ì„ ê²ªëŠ” ì˜ˆì™¸ì  ì¸ë¬¼ì´ë‹¤", "'ê·¸'ëŠ” ì‘ê°€ì˜ ìƒìƒë ¥ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë¹„í˜„ì‹¤ì  ì¸ë¬¼ì´ë‹¤"]
    },
    {
        id: 9,
        question: "'ë‚˜'ê°€ 'ê·¸'ì˜ ëˆˆë¬¼ ì†ì—ì„œ 'ìŒì‚°í•˜ê³  ë¹„ì°¸í•œ ì¡°ì„ ì˜ ì–¼êµ´'ì„ ë³´ì•˜ë‹¤ê³  í•œ ê²ƒì˜ ì˜ë¯¸ëŠ” ë¬´ì—‡ì¸ì§€, ì‘í’ˆì˜ ì£¼ì œì™€ ê´€ë ¨ì§€ì–´ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "'ë‚˜'ê°€ 'ê·¸'ì˜ ëˆˆë¬¼ì—ì„œ 'ì¡°ì„ ì˜ ì–¼êµ´'ì„ ë³´ì•˜ë‹¤ëŠ” ê²ƒì€, 'ê·¸' í•œ ê°œì¸ì˜ ìŠ¬í””ê³¼ ë¹„ê·¹ì„ ë„˜ì–´ ê·¸ê²ƒì´ ê³§ ì¼ì œ ê°•ì ê¸°ë¥¼ ì‚´ì•„ê°€ëŠ” ìš°ë¦¬ ë¯¼ì¡± ì „ì²´ì˜ ë³´í¸ì ì¸ ê³ í†µì´ì í˜„ì‹¤ì„ì„ ê¹¨ë‹¬ì•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì¦‰, 'ë‚˜'ëŠ” 'ê·¸'ì˜ ì´ì•¼ê¸°ë¥¼ í†µí•´ ê³ í–¥ì„ ìƒì‹¤í•˜ê³  ìœ ë‘í•˜ëŠ” ì‹ë¯¼ì§€ ì¡°ì„  ë¯¼ì¤‘ì˜ ì•”ìš¸í•˜ê³  ë¹„ì°¸í•œ ëª¨ìŠµì„ ë°œê²¬í•œ ê²ƒì´ë‹¤. ì´ë¥¼ í†µí•´ ì‘í’ˆì€ ê°œì¸ì˜ ë¬¸ì œë¥¼ ì‚¬íšŒ, ì—­ì‚¬ì  ì°¨ì›ìœ¼ë¡œ í™•ì¥í•˜ë©° ì£¼ì œ ì˜ì‹ì„ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚¸ë‹¤.",
        correctParts: [
            "'ë‚˜'ê°€ 'ê·¸'ì˜ ëˆˆë¬¼ì—ì„œ 'ì¡°ì„ ì˜ ì–¼êµ´'ì„ ë³´ì•˜ë‹¤ëŠ” ê²ƒì€,",
            "'ê·¸' í•œ ê°œì¸ì˜ ìŠ¬í””ê³¼ ë¹„ê·¹ì„ ë„˜ì–´ ê·¸ê²ƒì´ ê³§ ì¼ì œ ê°•ì ê¸°ë¥¼ ì‚´ì•„ê°€ëŠ” ìš°ë¦¬ ë¯¼ì¡± ì „ì²´ì˜ ë³´í¸ì ì¸ ê³ í†µì´ì í˜„ì‹¤ì„ì„ ê¹¨ë‹¬ì•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.",
            "ì¦‰, 'ë‚˜'ëŠ” 'ê·¸'ì˜ ì´ì•¼ê¸°ë¥¼ í†µí•´ ê³ í–¥ì„ ìƒì‹¤í•˜ê³  ìœ ë‘í•˜ëŠ” ì‹ë¯¼ì§€ ì¡°ì„  ë¯¼ì¤‘ì˜ ì•”ìš¸í•˜ê³  ë¹„ì°¸í•œ ëª¨ìŠµì„ ë°œê²¬í•œ ê²ƒì´ë‹¤.",
            "ì´ë¥¼ í†µí•´ ì‘í’ˆì€ ê°œì¸ì˜ ë¬¸ì œë¥¼ ì‚¬íšŒ, ì—­ì‚¬ì  ì°¨ì›ìœ¼ë¡œ í™•ì¥í•˜ë©° ì£¼ì œ ì˜ì‹ì„ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚¸ë‹¤."
        ],
        distractors: ["'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ê°œì¸ì  ë™ì •ì‹¬ì„ ëŠê¼ˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤", "'ê·¸'ì˜ ëˆˆë¬¼ì´ ì•„ë¦„ë‹µê³  ê°ë™ì ì´ì—ˆë‹¤ëŠ” ëœ»ì´ë‹¤", "'ë‚˜'ë„ 'ê·¸'ì™€ ê°™ì€ ê²½í—˜ì„ í–ˆìŒì„ íšŒìƒí–ˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤"]
    },
    {
        id: 10,
        question: "ì´ ì†Œì„¤ì´ ì‚¬ìš©í•œ 'ì•¡ìì‹ êµ¬ì„±' ë°©ì‹ì´, 'ê·¸'ì˜ ì´ì•¼ê¸°ë¥¼ ë…ìì—ê²Œ ì „ë‹¬í•˜ëŠ” ë° ì–´ë–¤ íš¨ê³¼ë¥¼ ì£¼ëŠ”ì§€ ì„œìˆ í•˜ì‹œì˜¤.",
        correctAnswer: "ì´ ì†Œì„¤ì˜ ì•¡ìì‹ êµ¬ì„±ì€ í¬ê²Œ ë‘ ê°€ì§€ íš¨ê³¼ë¥¼ ì¤€ë‹¤. ì²«ì§¸, ì™¸ë¶€ ì´ì•¼ê¸°ì˜ ì„œìˆ ìì¸ 'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ì§ì ‘ ë“¤ì€ ì´ì•¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” í˜•ì‹ì„ ì·¨í•¨ìœ¼ë¡œì¨, ë‚´ë¶€ ì´ì•¼ê¸°ê°€ ë§ˆì¹˜ ì‹¤ì œ ìˆì—ˆë˜ ì¼ì²˜ëŸ¼ ëŠê»´ì§€ê²Œ ë§Œë“¤ì–´ ì‚¬ì‹¤ì„±ê³¼ ì‹ ë¢°ì„±ì„ ë†’ì¸ë‹¤. ë‘˜ì§¸, 'ë‚˜'ë¼ëŠ” ê´€ì°°ìë¥¼ í†µí•´ 'ê·¸'ì˜ ë¹„ê·¹ì„ í•œ ë‹¨ê³„ ê±°ì³ ë³´ê²Œ í•¨ìœ¼ë¡œì¨ ë…ìê°€ ê°ê´€ì ì¸ ê±°ë¦¬ë¥¼ ìœ ì§€í•˜ê²Œ í•˜ê³ , 'ë‚˜'ê°€ 'ê·¸'ì˜ ê°œì¸ì‚¬ë¥¼ 'ì¡°ì„ ì˜ ì–¼êµ´'ë¡œ í•´ì„í•˜ëŠ” ê²°ë§ì„ í†µí•´ ê°œì¸ì˜ ë¬¸ì œë¥¼ ë¯¼ì¡± ì „ì²´ì˜ ë³´í¸ì ì¸ ë¬¸ì œë¡œ ìì—°ìŠ¤ëŸ½ê²Œ í™•ì¥ì‹œí‚¤ëŠ” íš¨ê³¼ë¥¼ ì¤€ë‹¤.",
        correctParts: [
            "ì´ ì†Œì„¤ì˜ ì•¡ìì‹ êµ¬ì„±ì€ í¬ê²Œ ë‘ ê°€ì§€ íš¨ê³¼ë¥¼ ì¤€ë‹¤.",
            "ì²«ì§¸, ì™¸ë¶€ ì´ì•¼ê¸°ì˜ ì„œìˆ ìì¸ 'ë‚˜'ê°€ 'ê·¸'ì—ê²Œ ì§ì ‘ ë“¤ì€ ì´ì•¼ê¸°ë¥¼ ì „ë‹¬í•˜ëŠ” í˜•ì‹ì„ ì·¨í•¨ìœ¼ë¡œì¨,",
            "ë‚´ë¶€ ì´ì•¼ê¸°ê°€ ë§ˆì¹˜ ì‹¤ì œ ìˆì—ˆë˜ ì¼ì²˜ëŸ¼ ëŠê»´ì§€ê²Œ ë§Œë“¤ì–´ ì‚¬ì‹¤ì„±ê³¼ ì‹ ë¢°ì„±ì„ ë†’ì¸ë‹¤.",
            "ë‘˜ì§¸, 'ë‚˜'ë¼ëŠ” ê´€ì°°ìë¥¼ í†µí•´ 'ê·¸'ì˜ ë¹„ê·¹ì„ í•œ ë‹¨ê³„ ê±°ì³ ë³´ê²Œ í•¨ìœ¼ë¡œì¨ ë…ìê°€ ê°ê´€ì ì¸ ê±°ë¦¬ë¥¼ ìœ ì§€í•˜ê²Œ í•˜ê³ ,",
            "'ë‚˜'ê°€ 'ê·¸'ì˜ ê°œì¸ì‚¬ë¥¼ 'ì¡°ì„ ì˜ ì–¼êµ´'ë¡œ í•´ì„í•˜ëŠ” ê²°ë§ì„ í†µí•´ ê°œì¸ì˜ ë¬¸ì œë¥¼ ë¯¼ì¡± ì „ì²´ì˜ ë³´í¸ì ì¸ ë¬¸ì œë¡œ ìì—°ìŠ¤ëŸ½ê²Œ í™•ì¥ì‹œí‚¤ëŠ” íš¨ê³¼ë¥¼ ì¤€ë‹¤."
        ],
        distractors: ["ì´ì•¼ê¸°ê°€ ë³µì¡í•´ì ¸ ë…ìì˜ í¥ë¯¸ë¥¼ ë†’ì¸ë‹¤", "ì—¬ëŸ¬ ì‹œì ì„ ë³´ì—¬ì£¼ì–´ ë‹¤ì–‘í•œ í•´ì„ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤", "ì‹œê°„ ìˆœì„œë¥¼ ììœ ë¡­ê²Œ ì¡°ì‘í•  ìˆ˜ ìˆê²Œ í•œë‹¤"]
    }
        ];

        // 5ë‹¨ê³„ ì´ˆê¸°í™”
        function initStage5() {
            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            // ê¸°ì¡´ íƒ€ì´ë¨¸ ì •ë¦¬
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            currentStage = 5;

            // ë¬¸ì œ ì¤€ë¹„ ë° ì¹´ë“œ ìƒì„± (ì •ë‹µ 3ì¥ + ì˜¤ë‹µ 3ì¥ = ì´ 6ì¥)
            stage5Data.questions = writingQuestions.map(q => {
                // ì „ì²´ ì¹´ë“œ ë°°ì—´ ìƒì„± (ì •ë‹µ ë¶€ë¶„ + ì˜¤ë‹µ)
                const allCards = [];

                // ì •ë‹µ ì¹´ë“œ 3ì¥ ì¶”ê°€
                q.correctParts.forEach(part => {
                    allCards.push({
                        text: part,
                        isCorrect: true,
                        id: Math.random().toString(36).substr(2, 9)
                    });
                });

                // ì˜¤ë‹µ ì¹´ë“œ 3ì¥ ì¶”ê°€
                q.distractors.forEach(distractor => {
                    allCards.push({
                        text: distractor,
                        isCorrect: false,
                        id: Math.random().toString(36).substr(2, 9)
                    });
                });

                // ì¹´ë“œ ì„ê¸°
                for (let i = allCards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [allCards[i], allCards[j]] = [allCards[j], allCards[i]];
                }

                return {
                    ...q,
                    allCards: allCards,
                    correctParts: q.correctParts  // ì •ë‹µ ì¹´ë“œ 3ì¥ ì €ì¥
                };
            });

            stage5Data.currentQuestionIndex = 0;
            stage5Data.correctAnswers = 0;
            stage5Data.wrongAnswers = 0;
            stage5Data.currentArrangement = [];
            stage5Data.startTime = Date.now();
            timeRemaining = stage5Data.timeRemaining;
            maxTime = stage5Data.timeRemaining;

            // í—¤ë” ì—…ë°ì´íŠ¸
            document.querySelector('.title').textContent = 'í˜„ì§„ê±´ <ê³ í–¥>';
            document.querySelector('.subtitle').textContent = '5ë‹¨ê³„: ì„œìˆ í˜• ë¬¸ì œ';
            document.querySelector('.stage-indicator').textContent = 'Stage 5 / 5';
            document.querySelector('.question-counter').textContent = `ë¬¸ì œ: 1/${stage5Data.questions.length}`;

            startTimer();
            showStage5Question();
        }

        // 5ë‹¨ê³„ ë¬¸ì œ í‘œì‹œ
        function showStage5Question() {
            if (stage5Data.currentQuestionIndex >= stage5Data.questions.length) {
                completeStage5();
                return;
            }

            const question = stage5Data.questions[stage5Data.currentQuestionIndex];
            const mainContent = document.getElementById('main-content');
            stage5Data.currentArrangement = [];

            // ë¬¸ì œ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
            document.querySelector('.question-counter').textContent =
                `ë¬¸ì œ: ${stage5Data.currentQuestionIndex + 1}/${stage5Data.questions.length}`;

            // UI ìƒì„±
            mainContent.innerHTML = `
                <div class="stage5-container">
                    <div class="stage5-question-area">
                        <h2 class="question-number">ë¬¸ì œ ${stage5Data.currentQuestionIndex + 1}</h2>
                        <div class="question-text">${question.question}</div>
                        <div class="required-cards-info" style="margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 8px; color: #1976d2; font-weight: 500;">
                            ğŸ“ í•„ìš”í•œ ì¹´ë“œ ê°œìˆ˜: ${question.correctParts.length}ê°œ
                        </div>
                        <button class="text-review-btn" onclick="showTextModal()" style="margin-top: 15px; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; display: inline-flex; align-items: center; gap: 8px;">
                            <span>ğŸ“–</span> ì§€ë¬¸ í™•ì¸
                        </button>
                    </div>

                    <div class="answer-drop-zone" id="answer-drop-zone">
                        <div class="answer-slots" id="answer-slots"></div>
                        <div class="drop-hint">ì¹´ë“œë¥¼ ì—¬ê¸°ë¡œ ë“œë˜ê·¸í•˜ì„¸ìš”</div>
                    </div>

                    <div class="cards-pool" id="cards-pool">
                        ${question.allCards.map((card, index) => `
                            <div class="draggable-card"
                                 data-id="${card.id}"
                                 data-text="${card.text}"
                                 ${('ontouchstart' in window || navigator.maxTouchPoints > 0) ? '' : 'draggable="true"'}>
                                ${card.text}
                            </div>
                        `).join('')}
                    </div>

                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button class="submit-answer-btn" onclick="submitStage5Answer()">ì œì¶œí•˜ê¸°</button>
                        <button class="skip-question-btn" onclick="skipStage5Question()" style="padding: 4px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; font-size: 13px; cursor: pointer; font-weight: 500;">
                            ë‹¤ìŒ ë¬¸ì œë¡œ
                        </button>
                    </div>
                </div>
            `;

            // ìŠ¤íƒ€ì¼ ì¶”ê°€
            if (!document.querySelector('#stage5-styles')) {
                const styles = document.createElement('style');
                styles.id = 'stage5-styles';
                styles.textContent = `
                    .stage5-container {
                        padding: 20px;
                        max-width: 1000px;
                        margin: 0 auto;
                    }

                    .stage5-question-area {
                        background: white;
                        padding: 25px;
                        border-radius: 12px;
                        margin-bottom: 25px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }

                    .question-number {
                        color: #3498db;
                        font-size: 20px;
                        margin-bottom: 15px;
                    }

                    .question-text {
                        font-size: 22px;
                        line-height: 1.6;
                        color: #2c3e50;
                    }

                    .answer-drop-zone {
                        min-height: 150px;
                        background: #f8f9fa;
                        border: 3px dashed #dee2e6;
                        border-radius: 12px;
                        padding: 20px;
                        margin: 25px 0;
                        position: relative;
                        transition: all 0.3s ease, transform 0.2s ease;
                    }

                    .answer-drop-zone.drag-over {
                        border-color: #3498db;
                        background: #e3f2fd;
                        transform: scale(1.02);
                        box-shadow: 0 4px 12px rgba(52, 152, 219, 0.2);
                    }

                    .answer-slots {
                        min-height: 60px;
                        display: flex;
                        flex-wrap: wrap;
                        gap: 10px;
                        align-items: center;
                    }

                    .answer-slots:not(:empty) + .drop-hint {
                        display: none;
                    }

                    .drop-hint {
                        position: absolute;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        color: #95a5a6;
                        font-size: 18px;
                        pointer-events: none;
                    }

                    .cards-pool {
                        display: flex;
                        flex-wrap: wrap;
                        gap: 12px;
                        padding: 20px;
                        background: white;
                        border-radius: 12px;
                        min-height: 150px;
                        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
                        transition: all 0.3s ease, transform 0.2s ease;
                    }

                    .cards-pool.drag-over {
                        transform: scale(1.01);
                        box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
                        background: #f8f9fa;
                    }

                    .draggable-card {
                        display: inline-block;
                        padding: 12px 20px;
                        background: white;
                        border: 2px solid #e9ecef;
                        border-radius: 25px;
                        cursor: move;
                        transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
                                    opacity 0.25s ease,
                                    background-color 0.25s ease,
                                    border-color 0.25s ease,
                                    box-shadow 0.25s ease;
                        user-select: none;
                        font-size: 16px;
                        color: #2c3e50;
                        position: relative;
                        touch-action: none; /* í„°ì¹˜ ë“œë˜ê·¸ ë°©í•´ ë°©ì§€ */
                        will-change: transform;
                    }

                    .draggable-card.shifting {
                        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                    }

                    .draggable-card:hover:not(.dragging) {
                        border-color: #3498db;
                        transform: translateY(-3px) scale(1.02);
                        box-shadow: 0 6px 12px rgba(52, 152, 219, 0.2);
                    }

                    .draggable-card:active:not(.dragging) {
                        transform: scale(0.98);
                    }

                    .draggable-card.dragging {
                        opacity: 0.7;
                        transform: scale(1.08) rotate(2deg);
                        z-index: 1000;
                        pointer-events: none;
                        box-shadow: 0 12px 24px rgba(0,0,0,0.25);
                        transition: none;
                        border-color: #3498db;
                        background: #e3f2fd;
                    }

                    .draggable-card.placeholder {
                        opacity: 0.25;
                        border: 2px dashed #3498db;
                        background: #e3f2fd;
                        transition: all 0.2s ease;
                    }

                    /* ì¹´ë“œ ìœ„ì¹˜ êµì²´ ì‹œê°í™” íš¨ê³¼ */
                    .draggable-card.card-placeholder {
                        position: relative;
                        transition: transform 0.25s ease, margin 0.25s ease;
                    }

                    .draggable-card.card-placeholder::before {
                        content: '';
                        position: absolute;
                        left: -10px;
                        top: 50%;
                        transform: translateY(-50%);
                        width: 4px;
                        height: 70%;
                        background: linear-gradient(180deg, #3498db 0%, #2980b9 100%);
                        border-radius: 4px;
                        animation: placeholder-pulse 0.6s ease-in-out infinite;
                        box-shadow: 0 0 10px rgba(52, 152, 219, 0.6);
                    }

                    @keyframes placeholder-pulse {
                        0%, 100% {
                            opacity: 0.5;
                            transform: translateY(-50%) scaleY(0.8);
                            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
                        }
                        50% {
                            opacity: 1;
                            transform: translateY(-50%) scaleY(1);
                            box-shadow: 0 0 15px rgba(52, 152, 219, 0.8);
                        }
                    }

                    /* placeholder ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
                    @keyframes placeholderPulse {
                        0%, 100% {
                            opacity: 0.5;
                            transform: scale(0.98);
                        }
                        50% {
                            opacity: 0.7;
                            transform: scale(1.02);
                        }
                    }

                    /* ë“œë˜ê·¸ ì¤‘ì¸ ì¹´ë“œê°€ ë‹¤ë¥¸ ì¹´ë“œ ìœ„ë¡œ ì˜¬ ë•Œ ê³µê°„ í™•ë³´ ì• ë‹ˆë©”ì´ì…˜ */
                    .draggable-card.card-placeholder:not(.dragging) {
                        transform: translateX(12px);
                        margin-left: 8px;
                    }

                    .draggable-card.in-answer {
                        background: #3498db;
                        color: white;
                        border-color: #2980b9;
                    }

                    .draggable-card.hidden {
                        display: none;
                    }

                    .draggable-card.correct-animation {
                        animation: correctPulse 0.6s;
                        background: #27ae60 !important;
                        color: white;
                        border-color: #229954 !important;
                    }

                    .draggable-card.wrong-animation {
                        animation: wrongShake 0.6s;
                        background: #e74c3c !important;
                        color: white;
                        border-color: #c0392b !important;
                    }

                    @keyframes correctPulse {
                        0%, 100% { transform: scale(1); }
                        50% { transform: scale(1.1); }
                    }

                    @keyframes wrongShake {
                        0%, 100% { transform: translateX(0); }
                        25% { transform: translateX(-10px); }
                        75% { transform: translateX(10px); }
                    }

                    .submit-answer-btn {
                        display: block;
                        margin: 30px auto;
                        padding: 15px 40px;
                        font-size: 18px;
                        font-weight: bold;
                        background: #27ae60;
                        color: white;
                        border: none;
                        border-radius: 8px;
                        cursor: pointer;
                        transition: all 0.3s;
                    }

                    .submit-answer-btn:hover {
                        background: #229954;
                        transform: translateY(-2px);
                        box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
                    }

                    .submit-answer-btn:disabled {
                        background: #95a5a6;
                        cursor: not-allowed;
                        transform: none;
                        box-shadow: none;
                    }

                    @media (max-width: 768px) {
                        /* Stage 5 ëª¨ë°”ì¼ ìµœì í™” */
                        .stage5-container {
                            padding: 10px;  /* íŒ¨ë”© ë” ì¤„ì„ */
                        }

                        .stage5-question-area {
                            padding: 15px;  /* ì§ˆë¬¸ ì˜ì—­ íŒ¨ë”© ì¶•ì†Œ */
                        }

                        .question-number {
                            font-size: 16px;  /* ë¬¸ì œ ë²ˆí˜¸ í¬ê¸° ì¶•ì†Œ */
                        }

                        .question-text {
                            font-size: 14px;  /* ì§ˆë¬¸ í…ìŠ¤íŠ¸ ë” ì‘ê²Œ */
                            line-height: 1.4;
                        }

                        .required-cards-info {
                            font-size: 13px !important;  /* í•„ìš” ì¹´ë“œ ê°œìˆ˜ í‘œì‹œ ì¶•ì†Œ */
                            padding: 8px !important;
                        }

                        .draggable-card {
                            padding: 8px 12px;  /* ì¹´ë“œ íŒ¨ë”© ì¶•ì†Œ */
                            font-size: 12px;  /* ì¹´ë“œ í…ìŠ¤íŠ¸ ë” ì‘ê²Œ */
                            min-height: 35px;  /* ìµœì†Œ ë†’ì´ ì¶•ì†Œ */
                        }

                        .cards-pool {
                            gap: 6px;  /* ì¹´ë“œ ê°„ê²© ë” ì¤„ì„ */
                            padding: 12px;  /* ì¹´ë“œ í’€ íŒ¨ë”© ì¶•ì†Œ */
                            padding: 15px;
                        }
                    }

                    @media (max-width: 480px) {
                        .draggable-card {
                            padding: 8px 12px;
                            font-size: 13px;
                        }

                        .submit-answer-btn {
                            width: 100%;
                            padding: 12px 20px;
                            font-size: 16px;
                        }
                    }
                `;
                document.head.appendChild(styles);
            }

            // ë“œë˜ê·¸ ì´ë²¤íŠ¸ ì„¤ì •
            setupDragAndDrop();
        }

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì„¤ì • (ëŸ¬ì…€ ë°©ì‹)
        function setupDragAndDrop() {
            const answerSlots = document.getElementById('answer-slots');
            const cardsPool = document.getElementById('cards-pool');
            const cards = document.querySelectorAll('.draggable-card');

            let draggedCard = null;
            let draggedClone = null;
            let placeholder = null;

            console.log('ë“œë˜ê·¸ ì„¤ì • ì‹œì‘ (ëŸ¬ì…€ ë°©ì‹):', { cards: cards.length });

            cards.forEach((card) => {
                card.draggable = false; // HTML5 ë“œë˜ê·¸ ë¹„í™œì„±í™”

                // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
                card.addEventListener('mousedown', (e) => {
                    if (e.button === 0) { // ì™¼ìª½ í´ë¦­ë§Œ
                        startDrag(e, card);
                    }
                });

                // í„°ì¹˜ ì´ë²¤íŠ¸
                card.addEventListener('touchstart', (e) => {
                    startDrag(e, card);
                }, { passive: false });
            });

            function startDrag(e, card) {
                e.preventDefault();
                draggedCard = card;

                // ì¹´ë“œì˜ ì›ë˜ í¬ê¸°ì™€ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
                const rect = card.getBoundingClientRect();

                // í”Œë ˆì´ìŠ¤í™€ë” ìƒì„± (ì›ë˜ ìë¦¬ í‘œì‹œ) - ì‹œê°í™” ê°œì„ 
                placeholder = document.createElement('div');
                placeholder.className = 'draggable-card placeholder';
                placeholder.style.width = rect.width + 'px';
                placeholder.style.height = rect.height + 'px';
                placeholder.style.opacity = '0.5';
                placeholder.style.border = '3px dashed #3498db';
                placeholder.style.background = 'linear-gradient(135deg, #e3f2fd 25%, transparent 25%, transparent 50%, #e3f2fd 50%, #e3f2fd 75%, transparent 75%, transparent)';
                placeholder.style.backgroundSize = '20px 20px';
                placeholder.style.animation = 'placeholderPulse 1.5s ease-in-out infinite';
                placeholder.style.boxShadow = '0 4px 12px rgba(52, 152, 219, 0.3)';
                placeholder.style.borderRadius = '25px';

                // í´ë¡  ìƒì„± (ì»¤ì„œë¥¼ ë”°ë¼ë‹¤ë‹ ìš”ì†Œ)
                draggedClone = card.cloneNode(true);
                draggedClone.classList.add('dragging');
                draggedClone.style.position = 'fixed';
                draggedClone.style.width = rect.width + 'px';
                draggedClone.style.pointerEvents = 'none';
                draggedClone.style.zIndex = '1000';
                draggedClone.style.opacity = '0.8';
                draggedClone.style.transform = 'scale(1.08) rotate(2deg)';
                draggedClone.style.boxShadow = '0 12px 24px rgba(0,0,0,0.25)';
                document.body.appendChild(draggedClone);

                // ì›ë³¸ ì¹´ë“œë¥¼ í”Œë ˆì´ìŠ¤í™€ë”ë¡œ êµì²´
                card.parentNode.insertBefore(placeholder, card);
                card.style.display = 'none';

                // í´ë¦­ ìœ„ì¹˜ ì˜¤í”„ì…‹ ê³„ì‚°
                const offsetX = e.clientX ? e.clientX - rect.left : e.touches[0].clientX - rect.left;
                const offsetY = e.clientY ? e.clientY - rect.top : e.touches[0].clientY - rect.top;

                function moveCard(clientX, clientY) {
                    // í´ë¡ ì„ ì»¤ì„œ ìœ„ì¹˜ë¡œ ì´ë™
                    draggedClone.style.left = (clientX - offsetX) + 'px';
                    draggedClone.style.top = (clientY - offsetY) + 'px';

                    // ë“œë¡­ ìœ„ì¹˜ ê³„ì‚°
                    draggedClone.style.display = 'none'; // ì„ì‹œë¡œ ìˆ¨ê¹€
                    const elemBelow = document.elementFromPoint(clientX, clientY);
                    draggedClone.style.display = ''; // ë‹¤ì‹œ í‘œì‹œ

                    // ë“œë¡­ ê°€ëŠ¥í•œ ì˜ì—­ ì°¾ê¸°
                    const dropZone = elemBelow?.closest('#answer-drop-zone');
                    const poolZone = elemBelow?.closest('#cards-pool');

                    // ì›ë˜ ì¹´ë“œê°€ ì–´ë””ì— ìˆëŠ”ì§€ í™•ì¸
                    const isFromPool = draggedCard.parentElement === cardsPool || placeholder.parentElement === cardsPool;

                    if (dropZone || poolZone) {
                        const targetContainer = dropZone ? answerSlots : cardsPool;
                        const targetCard = elemBelow?.closest('.draggable-card:not(.dragging)');

                        // ëŒ€ê¸°ì—´ì—ì„œ ì •ë‹µë€ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°: ë¬´ì¡°ê±´ ë§¨ ë’¤ì— ì¶”ê°€
                        if (dropZone && isFromPool) {
                            targetContainer.appendChild(placeholder);
                            targetContainer.appendChild(draggedCard);
                        }
                        // ì •ë‹µë€ ë‚´ë¶€ì—ì„œ ì´ë™í•˜ê±°ë‚˜ ëŒ€ê¸°ì—´ ë‚´ì—ì„œ ì´ë™í•˜ëŠ” ê²½ìš°: ì •í™•í•œ ìœ„ì¹˜ì— ì‚½ì…
                        else if (targetCard && targetCard !== draggedCard) {
                            const rect = targetCard.getBoundingClientRect();
                            const midpoint = rect.left + rect.width / 2;

                            if (clientX < midpoint) {
                                // ì™¼ìª½ì— ì‚½ì…
                                targetCard.parentNode.insertBefore(placeholder, targetCard);
                                targetCard.parentNode.insertBefore(draggedCard, placeholder);
                            } else {
                                // ì˜¤ë¥¸ìª½ì— ì‚½ì…
                                if (targetCard.nextSibling) {
                                    targetCard.parentNode.insertBefore(placeholder, targetCard.nextSibling);
                                    targetCard.parentNode.insertBefore(draggedCard, placeholder);
                                } else {
                                    targetCard.parentNode.appendChild(placeholder);
                                    targetCard.parentNode.appendChild(draggedCard);
                                }
                            }
                        } else if (targetContainer && !targetContainer.querySelector('.draggable-card:not([style*="display: none"])')) {
                            // ë¹ˆ ì»¨í…Œì´ë„ˆì— ì¶”ê°€
                            targetContainer.appendChild(placeholder);
                            targetContainer.appendChild(draggedCard);
                        }
                    }
                }

                function onMove(e) {
                    const clientX = e.clientX !== undefined ? e.clientX : e.touches[0].clientX;
                    const clientY = e.clientY !== undefined ? e.clientY : e.touches[0].clientY;
                    moveCard(clientX, clientY);
                }

                function onEnd(e) {
                    // í´ë¡  ì œê±°
                    if (draggedClone) {
                        draggedClone.remove();
                        draggedClone = null;
                    }

                    // í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì›ë³¸ ì¹´ë“œë¡œ êµì²´
                    if (placeholder && placeholder.parentNode) {
                        const wasInAnswer = placeholder.parentNode === answerSlots;
                        placeholder.parentNode.replaceChild(draggedCard, placeholder);
                        placeholder = null;

                        // in-answer í´ë˜ìŠ¤ ì—…ë°ì´íŠ¸
                        if (wasInAnswer) {
                            draggedCard.classList.add('in-answer');
                        } else {
                            draggedCard.classList.remove('in-answer');
                        }
                    }

                    // ì›ë³¸ ì¹´ë“œ ë‹¤ì‹œ í‘œì‹œ
                    draggedCard.style.display = '';
                    draggedCard = null;

                    // ë°°ì¹˜ ë°ì´í„° ì—…ë°ì´íŠ¸
                    updateArrangementData();

                    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
                    document.removeEventListener('mousemove', onMove);
                    document.removeEventListener('mouseup', onEnd);
                    document.removeEventListener('touchmove', onMove);
                    document.removeEventListener('touchend', onEnd);
                    document.removeEventListener('touchcancel', onEnd);
                }

                // ì´ˆê¸° ìœ„ì¹˜ ì„¤ì •
                const initialX = e.clientX !== undefined ? e.clientX : e.touches[0].clientX;
                const initialY = e.clientY !== undefined ? e.clientY : e.touches[0].clientY;
                moveCard(initialX, initialY);

                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                if (e.type === 'mousedown') {
                    document.addEventListener('mousemove', onMove);
                    document.addEventListener('mouseup', onEnd);
                } else {
                    document.addEventListener('touchmove', onMove, { passive: false });
                    document.addEventListener('touchend', onEnd);
                    document.addEventListener('touchcancel', onEnd);
                }
            }
        }

        // ë‹µì•ˆ ì œì¶œ
        function submitStage5Answer() {
            const question = stage5Data.questions[stage5Data.currentQuestionIndex];

            // ë‹µì•ˆ ì˜ì—­ì˜ ì¹´ë“œë“¤ì„ ìˆœì„œëŒ€ë¡œ ê°€ì ¸ì˜¤ê¸°
            const answerSlots = document.getElementById('answer-slots');
            const answerCards = Array.from(answerSlots.children);

            // ì‚¬ìš©ì ë‹µì•ˆ ìƒì„±
            const userAnswer = answerCards
                .map(card => card.dataset.text)
                .join(' ')
                .replace(/\s+/g, ' ')
                .trim();

            // ì •ë‹µ ë¶€ë¶„ë“¤ë¡œ ì •ë‹µ ë¬¸ì¥ êµ¬ì„±
            const correctParts = question.correctParts;

            // ê° ì¹´ë“œê°€ ì •ë‹µì¸ì§€ í™•ì¸
            const cardResults = answerCards.map(card => {
                const cardText = card.dataset.text;
                return correctParts.includes(cardText);
            });

            // ì „ì²´ ì •ë‹µ ì—¬ë¶€ í™•ì¸ (ëª¨ë“  ì •ë‹µ ì¹´ë“œê°€ í¬í•¨ë˜ê³  ìˆœì„œê°€ ë§ì•„ì•¼ í•¨)
            const isCorrect = correctParts.every(part =>
                userAnswer.includes(part)
            ) && answerCards.length === correctParts.length;

            // ì œì¶œ ë²„íŠ¼ ë¹„í™œì„±í™”
            const submitBtn = document.querySelector('.submit-answer-btn');
            submitBtn.disabled = true;

            // ê°œë³„ ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
            answerCards.forEach((card, index) => {
                setTimeout(() => {
                    if (cardResults[index]) {
                        card.classList.add('correct-card-animation');
                        card.style.backgroundColor = '#d4edda';
                        card.style.borderColor = '#28a745';
                    } else {
                        card.classList.add('wrong-card-animation');
                        card.style.backgroundColor = '#f8d7da';
                        card.style.borderColor = '#dc3545';
                    }
                }, index * 100);
            });

            if (isCorrect) {
                // ì •ë‹µ ì²˜ë¦¬
                stage5Data.correctAnswers++;
                addTime(15);

                // ë‹¤ìŒ ë¬¸ì œë¡œ
                setTimeout(() => {
                    stage5Data.currentQuestionIndex++;
                    showStage5Question();
                }, 2000);
            } else {
                // ì˜¤ë‹µ ì²˜ë¦¬
                stage5Data.wrongAnswers++;
                subtractTime(20);

                // ë‹¤ì‹œ ì‹œë„í•  ìˆ˜ ìˆë„ë¡
                setTimeout(() => {
                    answerCards.forEach(card => {
                        card.classList.remove('wrong-card-animation');
                        card.style.backgroundColor = '';
                        card.style.borderColor = '';
                    });
                    submitBtn.disabled = false;
                }, 2000);
            }
        }

        // ë°°ì¹˜ ë°ì´í„° ì—…ë°ì´íŠ¸
        function updateArrangementData() {
            const answerSlots = document.getElementById('answer-slots');
            const cards = answerSlots.querySelectorAll('.draggable-card');

            stage5Data.currentArrangement = Array.from(cards).map(card => ({
                id: card.dataset.id,
                text: card.dataset.text
            }));
        }

        // ë¬¸ì œ ë„˜ê¸°ê¸° í•¨ìˆ˜
        function skipStage5Question() {
            const question = stage5Data.questions[stage5Data.currentQuestionIndex];

            // ë„˜ê¸´ ë¬¸ì œë„ ì˜¤ë‹µìœ¼ë¡œ ì²˜ë¦¬
            stage5Data.wrongAnswers++;

            // í˜„ì¬ ë¬¸ì œë¥¼ ë„˜ê¸´ ë¬¸ì œ ëª©ë¡ì— ì¶”ê°€
            stage5Data.skippedQuestions.push({
                questionNumber: stage5Data.currentQuestionIndex + 1,
                question: question.question,
                correctAnswer: question.correctAnswer,
                userAnswer: '(ë¬¸ì œë¥¼ ë„˜ê¹€)'
            });

            // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™
            stage5Data.currentQuestionIndex++;

            // ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë£Œí–ˆëŠ”ì§€ í™•ì¸
            if (stage5Data.currentQuestionIndex >= stage5Data.questions.length) {
                completeStage5();
            } else {
                showStage5Question();
            }
        }

        // 5ë‹¨ê³„ ì™„ë£Œ
        function completeStage5() {
            clearInterval(timerInterval);

            const endTime = Date.now();
            const elapsedTime = Math.floor((endTime - stage5Data.startTime) / 1000);

            // ì§„í–‰ë¥ ê³¼ ì •ë‹µë¥  ê³„ì‚°
            const totalAnswered = stage5Data.correctAnswers + stage5Data.wrongAnswers;
            const progress = Math.round((stage5Data.correctAnswers / stage5Data.questions.length) * 100);
            const accuracy = totalAnswered > 0 ? Math.round((stage5Data.correctAnswers / totalAnswered) * 100) : 0;

            // ê²°ê³¼ í™”ë©´ í‘œì‹œ
            document.getElementById('main-content').style.display = 'none';
            const resultScreen = document.getElementById('result-screen');
            resultScreen.classList.add('active');

            // ì œëª© ì—…ë°ì´íŠ¸
            resultScreen.querySelector('.result-title').textContent = '5ë‹¨ê³„ í•™ìŠµ ì™„ë£Œ!';

            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('progress-stat').textContent = progress + '%';
            document.getElementById('accuracy-stat').textContent = accuracy + '%';
            document.getElementById('correct-stat').textContent = stage5Data.correctAnswers;
            document.getElementById('wrong-stat').textContent = stage5Data.wrongAnswers;
            document.getElementById('time-stat').textContent = formatTime(elapsedTime);

            // ê²°ê³¼ ì €ì¥
            const score = (accuracy / 100) * 10; // 10ì  ë§Œì ìœ¼ë¡œ í™˜ì‚°
            stageResults.stage5 = {
                correct: stage5Data.correctAnswers,
                wrong: stage5Data.wrongAnswers,
                score: score,
                elapsedTime: elapsedTime,
                wrongQuestions: stage5Data.skippedQuestions  // Stage5ëŠ” ë„˜ê¸´ ë¬¸ì œë¥¼ í‹€ë¦° ë¬¸ì œë¡œ ì €ì¥
            };

            // ë¶€ëª¨ ì°½ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            if (window.parent !== window) {
                window.parent.postMessage({
                    type: 'stage-complete',
                    stage: 5,
                    stageName: 'ì„œìˆ í˜• ë¬¸ì œ',
                    accuracy: accuracy,
                    correctAnswers: stage5Data.correctAnswers,
                    wrongAnswers: stage5Data.wrongAnswers,
                    skippedQuestions: stage5Data.skippedQuestions,  // ë„˜ê¸´ ë¬¸ì œ ë°ì´í„° í¬í•¨
                    totalQuestions: stage5Data.questions.length,
                    elapsedTime: elapsedTime,
                    timeRemaining: timeRemaining
                }, '*');
            }

            // ë²„íŠ¼ ì—…ë°ì´íŠ¸
            const resultButtons = resultScreen.querySelector('.result-buttons');
            let buttonsHTML = '<button class="result-button secondary" onclick="restartStage5()">ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>';

            // ë„˜ê¸´ ë¬¸ì œê°€ ìˆìœ¼ë©´ ë²„íŠ¼ ì¶”ê°€ (ë„˜ê¸´ ë¬¸ì œë„ í‹€ë¦° ë¬¸ì œë¡œ í‘œì‹œ)
            if (stage5Data.skippedQuestions.length > 0) {
                buttonsHTML += `<button class="result-button warning" onclick="showSkippedQuestions()" style="background: #dc3545; color: white;">í‹€ë¦° ë¬¸ì œ ë³´ê¸° (${stage5Data.skippedQuestions.length}ë¬¸ì œ)</button>`;
            }

            buttonsHTML += '<button class="result-button primary" onclick="showFinalResults()">ì „ì²´ ê²°ê³¼ ë³´ê¸°</button>';
            resultButtons.innerHTML = buttonsHTML;
        }

        // í‹€ë¦° ë¬¸ì œ ë³´ê¸° (ë„˜ê¸´ ë¬¸ì œ í¬í•¨)
        function showSkippedQuestions() {
            // ëª¨ë‹¬ì´ ì—†ìœ¼ë©´ ìƒì„±
            if (!document.getElementById('skipped-questions-modal')) {
                const modalHTML = `
                    <div id="skipped-questions-modal" class="modal-overlay">
                        <div class="modal-content" style="max-width: 800px; max-height: 80vh; overflow-y: auto;">
                            <div class="modal-header">
                                <h3>í‹€ë¦° ë¬¸ì œ ëª©ë¡</h3>
                                <button class="close-modal-btn" onclick="closeSkippedQuestionsModal()">âœ•</button>
                            </div>
                            <div class="modal-body" id="skipped-questions-content"></div>
                        </div>
                    </div>
                `;
                document.body.insertAdjacentHTML('beforeend', modalHTML);
            }

            // í‹€ë¦° ë¬¸ì œ ë‚´ìš© í‘œì‹œ
            const content = document.getElementById('skipped-questions-content');
            content.innerHTML = stage5Data.skippedQuestions.map((item, index) => `
                <div class="skipped-question-item" style="margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                    <h4 style="color: #dc3545; margin-bottom: 10px;">ë¬¸ì œ ${item.questionNumber}</h4>
                    <p style="font-size: 18px; margin-bottom: 15px;"><strong>ë¬¸ì œ:</strong> ${item.question}</p>
                    <p style="color: #28a745;"><strong>ì •ë‹µ:</strong> ${item.correctAnswer}</p>
                    <p style="color: #6c757d; font-style: italic;">ìƒíƒœ: ${item.userAnswer}</p>
                </div>
            `).join('');

            document.getElementById('skipped-questions-modal').classList.add('active');
        }

        // ë„˜ê¸´ ë¬¸ì œ ëª¨ë‹¬ ë‹«ê¸°
        function closeSkippedQuestionsModal() {
            document.getElementById('skipped-questions-modal').classList.remove('active');
        }

        // 5ë‹¨ê³„ ë‹¤ì‹œ ì‹œì‘
        function restartStage5() {
            // ë³€ìˆ˜ ì´ˆê¸°í™”
            stage5Data.currentQuestionIndex = 0;
            stage5Data.correctAnswers = 0;
            stage5Data.wrongAnswers = 0;
            stage5Data.skippedQuestions = [];  // ë„˜ê¸´ ë¬¸ì œë„ ì´ˆê¸°í™”
            stage5Data.currentArrangement = [];
            stage5Data.startTime = Date.now();
            stage5Data.timeRemaining = 600;  // 10ë¶„ìœ¼ë¡œ ë³€ê²½

            // ê²°ê³¼ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';

            initStage5();
        }

        // ì „ì²´ ê²°ê³¼ í‘œì‹œ
        function showFinalResults() {
            // ê¸°ì¡´ íƒ€ì´ë¨¸ ì •ë¦¬
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            // ê²°ê³¼ í™”ë©´ê³¼ ë©”ì¸ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
            document.getElementById('result-screen').classList.remove('active');

            // ì „ì²´ ê²°ê³¼ ê³„ì‚°
            const totalCorrect = Object.values(stageResults).reduce((sum, s) => sum + s.correct, 0);
            const totalWrong = Object.values(stageResults).reduce((sum, s) => sum + s.wrong, 0);
            const overallAccuracy = (totalCorrect + totalWrong) > 0 ?
                                   Math.round((totalCorrect / (totalCorrect + totalWrong)) * 100) : 0;
            const totalScore = Object.values(stageResults).reduce((sum, s) => sum + s.score, 0);
            const totalElapsedTime = (Date.now() - globalStartTime) / 1000;

            // ìŠ¤í…Œì´ì§€ëª… ë§µí•‘
            const stageNames = {
                stage1: '1ë‹¨ê³„: ë”¥ë¦¬ì„œì¹˜',
                stage2: '2ë‹¨ê³„: ì–´íœ˜ í•™ìŠµ',
                stage3: '3ë‹¨ê³„: ë¬¸ì¥ ë…í•´',
                stage4: '4ë‹¨ê³„: OXí€´ì¦ˆ',
                stage5: '5ë‹¨ê³„: ì„œìˆ í˜• ë¬¸ì œ'
            };

            // HTML ìƒì„±
            let html = `
                <div style="max-width: 1000px; margin: 0 auto; padding: 40px 20px;">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <h1 style="font-size: 36px; color: #2c3e50; margin-bottom: 10px;">ğŸ‰ í•™ìŠµ ì™„ë£Œ!</h1>
                        <p style="font-size: 18px; color: #7f8c8d;">ëª¨ë“  í•™ìŠµ ë‹¨ê³„ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.</p>
                    </div>

                    <!-- ì „ì²´ í•™ìŠµ ê²°ê³¼ -->
                    <div style="background: white; padding: 30px; border-radius: 15px; margin-bottom: 40px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 2px solid #3498db;">
                        <h2 style="margin-bottom: 25px; font-size: 24px; color: #2c3e50;">ğŸ“Š ì „ì²´ í•™ìŠµ ê²°ê³¼</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                            <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #3498db;">
                                <div style="font-size: 14px; margin-bottom: 10px; color: #2c3e50; font-weight: 600;">ì´ì </div>
                                <div style="font-size: 32px; font-weight: bold; color: #2c3e50;">${totalScore.toFixed(1)}ì </div>
                                <div style="font-size: 12px; margin-top: 5px; color: #7f8c8d;">/ 50.0ì </div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #3498db;">
                                <div style="font-size: 14px; margin-bottom: 10px; color: #2c3e50; font-weight: 600;">ì „ì²´ ì •ë‹µë¥ </div>
                                <div style="font-size: 32px; font-weight: bold; color: #2c3e50;">${overallAccuracy}%</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #22c55e;">
                                <div style="font-size: 14px; margin-bottom: 10px; color: #2c3e50; font-weight: 600;">ì •ë‹µ ìˆ˜</div>
                                <div style="font-size: 32px; font-weight: bold; color: #16a34a;">${totalCorrect}ê°œ</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%); padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #ef4444;">
                                <div style="font-size: 14px; margin-bottom: 10px; color: #2c3e50; font-weight: 600;">ì˜¤ë‹µ ìˆ˜</div>
                                <div style="font-size: 32px; font-weight: bold; color: #dc2626;">${totalWrong}ê°œ</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%); padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #eab308;">
                                <div style="font-size: 14px; margin-bottom: 10px; color: #2c3e50; font-weight: 600;">ì´ ì†Œìš” ì‹œê°„</div>
                                <div style="font-size: 28px; font-weight: bold; color: #2c3e50;">${formatTime(Math.floor(totalElapsedTime))}</div>
                            </div>
                        </div>
                    </div>

                    <!-- ë‹¨ê³„ë³„ ê²°ê³¼ -->
                    <h2 style="margin-bottom: 25px; color: #2c3e50; font-size: 24px;">ğŸ“ˆ ë‹¨ê³„ë³„ í•™ìŠµ ê²°ê³¼</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px;">
            `;

            // ê° ë‹¨ê³„ë³„ ê²°ê³¼ ì¹´ë“œ
            ['stage1', 'stage2', 'stage3', 'stage4', 'stage5'].forEach(stageKey => {
                const result = stageResults[stageKey];
                const stageAccuracy = (result.correct + result.wrong) > 0 ?
                    Math.round((result.correct / (result.correct + result.wrong)) * 100) : 0;

                html += `
                    <div style="background: white; border: 2px solid #e9ecef; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <h3 style="color: #3498db; margin-bottom: 15px; font-size: 18px;">${stageNames[stageKey]}</h3>
                        <div style="line-height: 1.8; font-size: 14px;">
                            <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                                <span style="color: #7f8c8d;">ì •ë‹µë¥ :</span>
                                <strong style="color: #27ae60;">${stageAccuracy}%</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                                <span style="color: #7f8c8d;">ì •ë‹µ:</span>
                                <strong>${result.correct}ê°œ</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                                <span style="color: #7f8c8d;">ì˜¤ë‹µ:</span>
                                <strong style="color: #e74c3c;">${result.wrong}íšŒ</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                                <span style="color: #7f8c8d;">ì ìˆ˜:</span>
                                <strong style="color: #3498db;">${result.score.toFixed(1)}ì </strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                                <span style="color: #7f8c8d;">ì†Œìš” ì‹œê°„:</span>
                                <strong>${formatTime(result.elapsedTime)}</strong>
                            </div>
                        </div>
                    </div>
                `;
            });

            html += `
        </div>

        <!-- í‹€ë¦° ë¬¸ì œ ìƒì„¸ ì •ë³´ -->
        <h2 style="margin-top: 50px; margin-bottom: 25px; color: #2c3e50; font-size: 24px; font-weight: 600;">âŒ í‹€ë¦° ë¬¸ì œ ìƒì„¸</h2>
`;

            // Stage 4ì™€ Stage 5ì˜ í‹€ë¦° ë¬¸ì œ í‘œì‹œ
            let hasWrongQuestions = false;

            // Stage 4 í‹€ë¦° ë¬¸ì œ
            if (stageResults.stage4.wrongQuestions && stageResults.stage4.wrongQuestions.length > 0) {
                hasWrongQuestions = true;
                html += `
        <div style="background: #fff3cd; border: 2px solid #ffc107; border-radius: 12px; padding: 25px; margin-bottom: 25px;">
            <h3 style="color: #856404; margin-bottom: 20px; font-size: 20px;">ğŸ“ Stage 4 - í‹€ë¦° ë¬¸ì œ</h3>
`;
                stageResults.stage4.wrongQuestions.forEach((item, idx) => {
                    html += `
            <div style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <p style="font-weight: 600; color: #495057; margin-bottom: 12px;">ë¬¸ì œ ${idx + 1}: ${item.question}</p>
                <p style="color: #dc3545; margin-bottom: 8px;">âŒ ë‹¹ì‹ ì˜ ë‹µ: ${item.userAnswer}</p>
                <p style="color: #28a745;">âœ… ì •ë‹µ: ${item.correctAnswer}</p>
            </div>
`;
                });
                html += `
        </div>
`;
            }

            // Stage 5 í‹€ë¦° ë¬¸ì œ
            if (stageResults.stage5.wrongQuestions && stageResults.stage5.wrongQuestions.length > 0) {
                hasWrongQuestions = true;
                html += `
        <div style="background: #f8d7da; border: 2px solid #f5c6cb; border-radius: 12px; padding: 25px; margin-bottom: 25px;">
            <h3 style="color: #721c24; margin-bottom: 20px; font-size: 20px;">ğŸ”¤ Stage 5 - í‹€ë¦° ë¬¸ì œ</h3>
`;
                stageResults.stage5.wrongQuestions.forEach((item, idx) => {
                    html += `
            <div style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <p style="font-weight: 600; color: #495057; margin-bottom: 12px;">ë¬¸ì œ ${idx + 1}: ${item.question}</p>
                <p style="color: #dc3545; margin-bottom: 8px;">âŒ ë‹¹ì‹ ì˜ ë‹µ: ${item.userAnswer}</p>
                <p style="color: #28a745;">âœ… ì •ë‹µ: ${item.correctAnswer}</p>
            </div>
`;
                });
                html += `
        </div>
`;
            }

            // í‹€ë¦° ë¬¸ì œê°€ ì—†ëŠ” ê²½ìš°
            if (!hasWrongQuestions) {
                html += `
        <div style="background: #d4edda; border: 2px solid #c3e6cb; border-radius: 12px; padding: 25px; text-align: center;">
            <p style="color: #155724; font-size: 18px; font-weight: 600;">ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì œë¥¼ ë§ì¶”ì…¨ìŠµë‹ˆë‹¤!</p>
        </div>
`;
            }

            html += `
        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
        <div style="text-align: center; margin-top: 50px; padding-bottom: 50px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <button onclick="saveFinalResultsAsImage()" style="
                background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
                color: white;
                border: none;
                border-radius: 12px;
                padding: 18px 50px;
                font-size: 18px;
                font-weight: 600;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(52, 211, 153, 0.4);
                transition: all 0.3s ease;
            " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(52, 211, 153, 0.6)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(52, 211, 153, 0.4)';">
                ğŸ“· ê²°ê³¼ ì´ë¯¸ì§€ ì €ì¥
            </button>
            <button onclick="location.reload()" style="
                background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
                color: white;
                border: none;
                border-radius: 12px;
                padding: 18px 50px;
                font-size: 18px;
                font-weight: 600;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
                transition: all 0.3s ease;
            " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(52, 152, 219, 0.6)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(52, 152, 219, 0.4)';">
                ğŸ”„ ì²˜ìŒë¶€í„° ë‹¤ì‹œí•˜ê¸°
            </button>
        </div>
    </div>
`;

            // HTML ì„¤ì • ë° í‘œì‹œ
            document.getElementById('main-content').innerHTML = html;
            document.getElementById('main-content').style.display = 'block';

            // ë¶€ëª¨ í”„ë¡œê·¸ë¨ì— ìµœì¢… ê²°ê³¼ ì „ì†¡
            sendFinalDataToParent();
        }

        // ë¶€ëª¨ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ìµœì¢… ë°ì´í„° ì „ì†¡
        function sendFinalDataToParent() {
            const totalElapsedTime = Date.now() - globalStartTime;

            if (window.parent && window.parent !== window) {
                window.parent.postMessage({
                    type: 'korean-farm-v2',
                    event: 'all-stages-complete',
                    data: {
                        totalStages: 5,
                        totalCorrect: totalCorrect,
                        totalWrong: totalWrong,
                        totalAccuracy: totalAccuracy,
                        totalScore: totalScore,
                        totalElapsedTime: totalElapsedTime,
                        stagesDetail: stageResults,
                        timestamp: Date.now()
                    }
                }, '*');
            }
        }

        // ì „ì²´ ë‹¤ì‹œ ì‹œì‘ (ì¤‘ë³µ í•¨ìˆ˜ ì œê±°)
        function restartAll() {
            // ëª¨ë“  ìŠ¤í…Œì´ì§€ ê²°ê³¼ ì´ˆê¸°í™”
            for (let key in stageResults) {
                stageResults[key] = { correct: 0, wrong: 0, score: 0, elapsedTime: 0, wrongQuestions: [] };
            }
            globalStartTime = null;
            location.reload();
        }

        // ìµœì¢… ê²°ê³¼ í˜ì´ì§€ ì´ë¯¸ì§€ ì €ì¥
        function saveFinalResultsAsImage() {
            if (typeof htmlToImage === 'undefined') {
                alert('ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                return;
            }

            const mainContent = document.getElementById('main-content');

            // ì €ì¥ ë²„íŠ¼ë“¤ ì„ì‹œ ìˆ¨ê¹€
            const buttons = mainContent.querySelectorAll('button');
            const buttonStates = Array.from(buttons).map(btn => btn.style.display);
            buttons.forEach(btn => btn.style.display = 'none');

            // ì•½ê°„ì˜ ë”œë ˆì´ í›„ ìº¡ì²˜
            setTimeout(() => {
                htmlToImage.toBlob(mainContent, {
                    backgroundColor: '#f5f7fa',
                    pixelRatio: 2,
                    cacheBust: true
                }).then(blob => {
                    // ë²„íŠ¼ ë‹¤ì‹œ í‘œì‹œ
                    buttons.forEach((btn, idx) => btn.style.display = buttonStates[idx]);

                    // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
                    const link = document.createElement('a');
                    const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                    link.download = `ë´„ë´„_ì›Œí¬ë¶_ìµœì¢…ê²°ê³¼_${timestamp}.png`;
                    link.href = URL.createObjectURL(blob);
                    link.click();
                    URL.revokeObjectURL(link.href);
                }).catch(err => {
                    buttons.forEach((btn, idx) => btn.style.display = buttonStates[idx]);
                    console.error('ì´ë¯¸ì§€ ì €ì¥ ì‹¤íŒ¨:', err);
                    alert('ì´ë¯¸ì§€ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                });
            }, 100);
        }

        // ì´ˆê¸°í™” ì‹¤í–‰
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>