# 작업 히스토리 - 2025-01-22

## 프로젝트 GitHub 업로드 및 임시 관리자 계정 설정

### 작업 내용

#### 1. GitHub 저장소 업로드
- 모든 프로젝트 파일을 Git에 커밋
- GitHub 원격 저장소에 푸시 완료
- 저장소 URL: https://github.com/Amis99/langwindow.git
- 커밋 메시지: "feat: 랭킹 시스템 및 로그인 개선 기능 추가"

**변경된 파일들**:
- 랭킹 시스템 구현 (student-dashboard.html)
- 학교급별 필터링 기능 (초등부/중등부/고등부)
- 사이드바 주간 랭킹 표시
- 학생용 getRankings API 엔드포인트 추가
- 로그인 페이지 아이디 찾기/비밀번호 재설정 기능
- serverless.yml 업데이트

#### 2. 새 컴퓨터에서 작업 재개 방법

```bash
# 1. 프로젝트 클론
git clone https://github.com/Amis99/langwindow.git

# 2. 클론한 폴더로 이동
cd langwindow

# 3. Backend 설정 (필요시)
cd backend
npm install

# 4. 로컬 서버 실행
python -m http.server 8000

# 5. 브라우저에서 접속
# http://localhost:8000
```

**작업 후 변경사항 저장**:
```bash
git status           # 변경사항 확인
git add .            # 변경된 파일 추가
git commit -m "작업 내용 설명"
git push             # GitHub에 푸시
```

**다른 컴퓨터에서 최신 변경사항 가져오기**:
```bash
git pull
```

#### 3. 임시 개발용 관리자 계정 설정

**파일**: `login.html` (라인 448-467)

**임시 관리자 계정 정보**:
- 이메일: `admin@langwindow.com`
- 비밀번호: `admin1234`

**구현 방식**:
- API 호출 전에 하드코딩된 계정 체크
- 일치하면 localStorage에 임시 토큰과 사용자 정보 저장
- 관리자 대시보드로 리다이렉트

**코드**:
```javascript
// ⚠️ 임시 개발용 관리자 계정 (배포 전 반드시 제거할 것!)
if (email === 'admin@langwindow.com' && password === 'admin1234') {
    const tempAdminUser = {
        userId: 'temp-admin-001',
        email: 'admin@langwindow.com',
        name: '임시 관리자',
        role: 'admin',
        status: 'approved'
    };
    const tempToken = 'temp-development-token-' + Date.now();

    saveAuth(tempToken, tempAdminUser);
    showAlert('로그인 성공! (개발 모드)', 'success');

    setTimeout(() => {
        window.location.href = 'admin-dashboard.html';
    }, 1000);
    return;
}
// ⚠️ 임시 개발용 계정 끝
```

---

## ⚠️ 중요 사항

### AWS 배포 전 필수 작업

1. **login.html에서 임시 관리자 계정 코드 제거**
   - 파일: `login.html`
   - 라인: 448-467
   - 임시 하드코딩된 계정 체크 로직 전체 삭제

2. **실제 DynamoDB에 관리자 계정 생성**:
   ```bash
   cd backend
   set USERS_TABLE=langwindow-backend-users-dev
   node scripts/createAdmin.js admin@langwindow.com SecurePassword123! 관리자이름
   ```

3. **Serverless 배포**:
   ```bash
   cd backend
   serverless deploy
   ```

---

## 로컬 개발 환경

### 접속 방법
1. 로컬 서버 실행:
   ```bash
   cd "C:\Users\RENEWCOM PC\Documents\claude-code\언어의창-학습관"
   python -m http.server 8000
   ```

2. 브라우저 접속:
   - 메인 페이지: http://localhost:8000
   - 로그인 페이지: http://localhost:8000/login.html
   - 관리자 대시보드: http://localhost:8000/admin-dashboard.html
   - 학생 대시보드: http://localhost:8000/student-dashboard.html

### 테스트 계정
- **임시 관리자**: admin@langwindow.com / admin1234

---

## 다음 작업 계획

1. **로컬 테스트**
   - 관리자 기능 전체 테스트
   - 학생 기능 전체 테스트
   - 랭킹 시스템 검증
   - 버그 수정

2. **배포 준비**
   - 임시 계정 코드 제거
   - 실제 관리자 계정 DynamoDB 생성
   - 환경 변수 확인

3. **AWS 배포**
   - Backend serverless deploy
   - Frontend GitHub Pages 배포 (또는 S3)
   - 도메인 연결 (선택사항)

---

## 참고 사항

- GitHub 저장소: https://github.com/Amis99/langwindow.git
- 이전 작업 히스토리는 `작업 히스토리.md` 파일 참조
- AWS 자격 증명은 새 컴퓨터에서도 동일하게 설정 필요
- `.env` 파일은 .gitignore에 포함되어 있어 별도 복사 필요 (있는 경우)
